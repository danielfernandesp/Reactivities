"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[3],{"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/FreeForever.js":function(e,t,n){n.r(t);var i=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return i.createElement(s.default,{name:"spot-illustration-free-forever"})}},"./universe/components/UniverseExperimentSignup.js":function(e,t,n){n.r(t);var i=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./node_modules/prop-types/index.js"),r=n.n(o),a=n("./node_modules/uuid/index.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/FreeForever.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke.js"),y=n("./js/modules/services/AuthHandlerService.js"),f=n("./js/modules/services/AnalyticsService.js"),g=n("./js/services/NavigationService.js"),b=n("./onboarding/src/common/UTMService.js"),v=n("./js/services/UIEventService.js"),E=n("./js/constants/UIEventConstants.js"),j=n("./js/stores/StoreManager.js"),_=n("./universe/stores/UniverseExperimentSignupStore.js"),x=n("./universe/components/common/ErrorBoundary.js");const w="Sign Up For Free",P=(0,s.default)(l.Modal)`
  border-radius: 0;
`,S=(0,s.default)(l.ModalContent)`
  padding:0;
`,I=(0,s.default)(d.default)`
    background: var(--background-color-secondary);
    position:relative;
      .close {
        position: absolute;
        top:var(--spacing-l);
        right:var(--spacing-l);
      }
`,T=(0,s.default)(d.default)`
    padding: var(--spacing-l) var(--spacing-xl)
`;class A extends i.Component{constructor(e){super(e),this.state={showModal:!1},this.universeExperimentSignupStore=(0,j.resolveStoreInstance)(_.default),this.traceId=(0,a.v4)(),this.fromExploreContainer=e.fromExploreContainer,this.description="Join the community of over 25 million developers to collaboratively build, test, monitor and publish your APIs.",this.confirmCTAText=w,this.teamName="",this.headingText="",this.handleOpen=this.handleOpen.bind(this),this.dismissModal=this.dismissModal.bind(this),this.handleAuth=this.handleAuth.bind(this),this.transformAction=this.transformAction.bind(this),this.transformEntity=this.transformEntity.bind(this),this.showPopup=this.showPopup.bind(this)}componentDidMount(){this.unsubscribeHandler=v.default.subscribe(E.OPEN_UNIVERSE_EXPERIMENT_SIGNUP_MODAL,this.handleOpen)}componentWillUnmount(){this.unsubscribeHandler&&this.unsubscribeHandler()}handleOpen(e){const{description:t,teamName:n,continueURL:i,action:s,entity:o,entityId:r,entityType:a,heading:l}=e;this.state.showModal||(this.description=t||this.description,this.teamName=n,this.continueURL=i,this.action=this.transformAction(s,""),this.entity=this.transformEntity(o,""),this.entityId=r,this.entityType=a,this.headingText=l||`Create an account to ${this.action||""} ${this.entity||""} ${this.teamName?`by ${this.teamName}`:""}`,this.fromExploreContainer?setTimeout((()=>{this.universeExperimentSignupStore.isPopupOpen||this.showPopup()}),100):this.showPopup(),f.default.addEventV2AndPublish({category:"sign-up-modal",action:"view",value:1,label:`${this.action}-${this.entityType}`,entityId:this.entityId,entityType:this.entityType}))}dismissModal(e){this.showPopup(!1),e&&f.default.addEventV2AndPublish({category:"sign-up-modal",action:"close",label:`${this.action}-${this.entityType}`,entityId:this.entityId,entityType:this.entityType})}showPopup(e=!0){this.setState({showModal:e}),this.universeExperimentSignupStore.showPopup(e)}transformAction(e){switch(e){case"download":return"export";case"favorite":return"star";default:return e}}transformEntity(e){switch(e){case"api":case"collection":case"folder":case"environment":let t=e;return"api"===e&&(t="API"),`this ${t}`;default:return e}}handleAuth(e){const t=g.default.getCurrentURL();let n=e?"sign-up":"sign-in",i=(0,b.getAllParams)({utm_content:"public_network_experiment_sign_in_modal",utm_term:e?"sign_up":"sign_in"});f.default.addEventV2AndPublish({category:"sign-up-modal",action:n,label:`${this.action}-${this.entityType}`,entityId:this.entityId,entityType:this.entityType}),y.default.initiateLogin({isSignup:e,continueUrl:this.continueURL||t,queryParams:i}),this.dismissModal()}render(){return i.createElement(P,{className:"sign-in-modal-container universe-exp-signup",isOpen:this.state.showModal,onClose:this.dismissModal.bind(this,!0),size:"small","data-testid":"universe-exp-signup"},i.createElement(S,null,i.createElement(I,{justifyContent:"center",padding:"spacing-xl"},i.createElement(u.default,null),i.createElement(c.default,{className:"close",onClick:this.dismissModal.bind(this,!0),type:"tertiary",icon:i.createElement(h.default,null)})),i.createElement(T,{direction:"column",gap:"spacing-l"},i.createElement(p.default,{type:"h3",text:this.headingText,className:"sign-in-modal__title"}),i.createElement(m.default,{type:"para",color:"content-color-primary",className:"sign-in-modal__subtitle"},this.description))),i.createElement(l.ModalFooter,null,i.createElement(d.default,{width:"100%",justifyContent:"space-between",wrap:"wrap",grow:1,shrink:1,gap:"spacing-s"},i.createElement(d.default,{alignItems:"center",gap:"spacing-xs"},i.createElement(m.default,null,"Already have an account?"),i.createElement(c.default,{type:"monochrome-plain",text:"Sign In",onClick:this.handleAuth.bind(this,!1)})),i.createElement(c.default,{type:"primary",className:"sign-in-modal__create-btn",text:w,onClick:this.handleAuth.bind(this,!0)}))))}}t.default=(0,x.withErrorBoundary)(A),A.propTypes={heading:r().string,description:r().string,teamName:r().string,action:r().string,continueURL:r().string,entity:r().string,entityId:r().string,entityType:r().string,fromExploreContainer:r().bool}},"./universe/components/common/ErrorBoundary.js":function(e,t,n){n.r(t),n.d(t,{ErrorBoundary:function(){return o},withErrorBoundary:function(){return r}});var i=n("../../node_modules/react/index.js");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}class o extends i.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){this.setState({hasError:!0}),pm.logger.error("Universe~Error Boundary",e)}render(){const{hasError:e}=this.state,{children:t}=this.props;return e?null:t}}const r=e=>(0,i.forwardRef)(((t,n)=>i.createElement(o,null,i.createElement(e,s({},t,{ref:n})))))},"./universe/stores/UniverseExperimentSignupStore.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});n("./node_modules/lodash/lodash.js");var i,s,o=n("../../node_modules/mobx/lib/mobx.module.js");function r(e,t,n,i,s){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let a=(s=r((i=class{constructor(){var e,t,n,i;e=this,t="isPopupOpen",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}showPopup(e=!0){this.isPopupOpen=e}}).prototype,"isPopupOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r(i.prototype,"showPopup",[o.action],Object.getOwnPropertyDescriptor(i.prototype,"showPopup"),i.prototype),i)}}]);