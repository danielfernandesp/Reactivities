/*! For license information please see IntegrationWorkbench.js.LICENSE.txt */
"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[40],{"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectComponents.js":function(e,t,s){s.r(t),s.d(t,{DefaultMultiSelectMenuList:function(){return b},MultiSelectChip:function(){return g},MultiSelectChipCloseIcon:function(){return p},MultiSelectChipLabel:function(){return f},MultiSelectOption:function(){return u}});var n=s("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=s("../../node_modules/react/index.js"),o=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("../../node_modules/@postman/aether/node_modules/react-select/dist/index-c7a4d7ce.esm.js"),r=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke-small.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=["isDisabled","isFocused","children"],d=o.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectOption",componentId:"sc-1e7h8n3-0"})(["display:flex;align-items:center;cursor:pointer;font-size:",";line-height:",";padding:",";border-radius:",";color:",";"," ",""],(function(e){return e.theme["text-size-m"]}),(function(e){return e.theme["line-height-m"]}),(function(e){return"".concat(e.theme["spacing-xs"]," ").concat(e.theme["spacing-m"],";")}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.isFocused&&!e.isDisabled&&"background-color: ".concat(e.theme["highlight-background-color-primary"],";")}),(function(e){return e.isDisabled&&"\n      cursor: not-allowed;\n      color: ".concat(e.theme["content-color-tertiary"],";\n    ")}));function u(e){var t=e.isDisabled,s=e.isFocused,o=e.children,r=(0,n.default)(e,c);return i.createElement(a.c.Option,r,i.createElement(d,{isDisabled:t,isFocused:s},o))}var h=o.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectChipCloseIcon",componentId:"sc-1e7h8n3-1"})(["display:inline-flex;justify-content:center;align-items:center;cursor:pointer;height:",";width:",";margin-left:",";border-top-right-radius:",";border-bottom-right-radius:",";background-color:",";svg path{fill:",";}&:hover{background-color:",";svg path{fill:",";}}"],(function(e){return e.theme["size-s"]}),(function(e){return e.theme["size-s"]}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["content-color-secondary"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["content-color-primary"]}));function p(e){return i.createElement(a.c.MultiValueRemove,e,i.createElement(h,{className:"aether-multiselect-dropdown__multi-value-chip--remove-icon"},i.createElement(r.default,null)))}var m=o.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectChip",componentId:"sc-1e7h8n3-2"})(["box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;height:",";padding:",";margin-bottom:",";margin-right:",";color:",";background-color:",";border-radius:",";"],(function(e){return e.theme["size-s"]}),(function(e){return"2px ".concat(e.theme["spacing-zero"]," 2px ").concat(e.theme["spacing-s"])}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["border-radius-default"]}));function g(e){var t=e.children;return i.createElement(m,{className:"aether-multiselect-dropdown__multi-select-chip"},t)}function f(e){var t=e.children;return i.createElement(l.default,{type:"body-medium"},t)}var y=(0,o.default)(a.c.MenuList).withConfig({displayName:"CustomMultiSelectComponents__StyledMenuList",componentId:"sc-1e7h8n3-3"})(["padding:8px;& .aether-multiselect-dropdown__group:not(:last-child){margin-bottom:12px;}& .aether-multiselect-dropdown__group:first-child{padding-top:4px;}"]);function b(e){var t=e.children;return i.createElement(y,e,t)}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectStyles.js":function(e,t,s){s.r(t),s.d(t,{customBaseStyles:function(){return r},postmanSpecificStyles:function(){return a}});var n=s("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js");function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){(0,n.default)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var a=(0,s("../../node_modules/styled-components/dist/styled-components.browser.esm.js").css)(["& .aether-multiselect-dropdown__single-value{color:",";left:",";right:",";}& .aether-multiselect-dropdown__control{box-sizing:border-box;height:auto;min-height:32px;max-height:72px;overflow-x:hidden;overflow-y:auto;border:",";transition:border-color 0.2s ease-in-out,box-shadow 0.2s ease-in-out;background-color:",";& .aether-multiselect-dropdown__multi-value-chip--remove-icon{display:none;}& .aether-multiselect-dropdown__multi-select-chip{padding-right:",";}& .aether-multiselect-dropdown__value-container,& .aether-multiselect-dropdown__single-value{color:",";}&:hover{border-color:",";}&--is-focused{outline:none;border:",";box-shadow:",";&:hover{border:",";}& .aether-multiselect-dropdown__single-value{right:",";}& .aether-multiselect-dropdown__multi-select-chip{padding-right:",";}& .aether-multiselect-dropdown__multi-value-chip--remove-icon{display:inline-flex;}}&--is-disabled{user-select:none;cursor:not-allowed;background:",";border:",";color:",";& .aether-multiselect-dropdown__dropdown-indicator svg path{fill:",";}& .aether-multiselect-dropdown__multi-select-chip{color:",";}&:hover{border-color:",";}}","}& .aether-multiselect-dropdown__input{color:"," !important;caret-color:",";height:16px;}& .aether-multiselect-dropdown__placeholder{color:",";}& .aether-multiselect-dropdown__dropdown-indicator{svg path{fill:",";}padding:",";}& .aether-multiselect-dropdown__clear-indicator{padding:",";}"],(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["spacing-m"]}),(function(e){return e.theme["spacing-xl"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-default"],";")}),(function(e){return e.theme["background-color-primary"]}),(function(e){return e.theme["spacing-s"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["input-border-color-default"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-focus"],";")}),(function(e){return"0 0 0 2px ".concat(e.theme["input-shadow-focus"],";")}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-focus"],";")}),(function(e){return e.theme["spacing-xxxl"]}),(function(e){return e.theme["spacing-zero"]}),(function(e){return e.theme["input-background-color-disabled"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-strong"],";")}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["border-color-strong"]}),(function(e){var t=e.validationState;return t.status?"\n          border-color: ".concat(e.theme["input-border-color-".concat(t.status)],";\n\n          &:hover {\n            border-color: ").concat(e.theme["input-border-color-".concat(t.status)],";\n          }\n\n          &--is-focused,\n          &--is-focused:hover {\n            border-color: ").concat(e.theme["input-border-color-focus"],";;\n          }\n        "):""}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-secondary"]}),(function(e){return"".concat(e.theme["spacing-zero"]," ").concat(e.theme["spacing-s"],";")}),(function(e){return e.theme["spacing-zero"]})),r={container:function(e){return o(o({},e),{},{pointerEvents:"auto"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}}}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/DefaultMultiSelect.js":function(e,t,s){s.r(t),s.d(t,{StyledCreatableReactSelect:function(){return y},StyledReactSelect:function(){return f},default:function(){return b}});var n=s("../../node_modules/@babel/runtime/helpers/esm/extends.js"),i=s("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../../node_modules/react/index.js"),a=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("../../node_modules/@postman/aether/node_modules/react-select/dist/react-select.esm.js"),l=s("../../node_modules/@postman/aether/node_modules/react-select/creatable/dist/react-select.esm.js"),c=s("../../node_modules/prop-types/index.js"),d=s.n(c),u=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/CustomComponents.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectComponents.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectStyles.js");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){(0,i.default)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f=(0,a.default)(r.default).withConfig({displayName:"DefaultMultiSelect__StyledReactSelect",componentId:"sc-14ka43a-0"})(["",""],p.postmanSpecificStyles),y=(0,a.default)(l.default).withConfig({displayName:"DefaultMultiSelect__StyledCreatableReactSelect",componentId:"sc-14ka43a-1"})(["",""],p.postmanSpecificStyles);function b(e){var t=e["aria-label"],s=e["aria-labelledby"],i=e.id,a=e.isOpen,r=e.onChange,l=e.onCreateNewOption,c=e.onClose,d=e.onOpen,p=e.options,m=e.value,b=e.placeholder,x=e.emptyStateMessage,S=e.isDisabled,_=e.isLoading,v=e.isOptionDisabled,E=e.viaPortal,w=e.closeMenuOnSelect,C=e.validationState,I=e.allowCreateNewOption,T=e.customOptionComponent,A=e.menuMaxHeight,P=e.triggerWidth,k=e.containerWidth,j=e.className;function R(e,t){var s=t.action,n=t.option;"create-option"===s&&l&&l(n),r(e,{action:s,option:n})}return o.createElement(o.Fragment,null,I?o.createElement(y,(0,n.default)({isMulti:!0,inputId:i,menuIsOpen:a},E&&{menuPortalTarget:document.getElementById("aether-dropdown-portal")},{onChange:R,onMenuClose:c,onMenuOpen:d},m&&{value:m},{options:p,placeholder:b,isDisabled:S,closeMenuOnSelect:w,"aria-label":t,"aria-labelledby":s},v&&{isOptionDisabled:v},{emptyStateMessage:x,formatOptionLabel:!_&&T,validationState:C,classNamePrefix:"aether-multiselect-dropdown",className:j,maxMenuHeight:A,styles:{container:function(e){return g(g({},e),{},{pointerEvents:"auto"})},control:function(e){return g(g({},e),{},{width:P})},input:function(e){return g(g({},e),{},{margin:0,padding:0,height:"20px",lineHeight:"normal"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}},group:function(e){return g(g({},e),{},{padding:0,margin:0})},groupHeading:function(e){return g(g({},e),{},{userSelect:"none",fontSize:"11px",fontWeight:600,lineHeight:"16px",marginBottom:"4px",padding:"0px 12px",textTransform:"none"})},menu:function(e){return g(g({},e),{},{width:k,paddingLeft:"0",paddingRight:"0",border:"none",zIndex:1e3})},menuList:function(e){return g(g({},e),{},{paddingTop:"8px",paddingBottom:"8px"})},menuPortal:function(e){return g(g({},e),{},{zIndex:1e3})},noOptionsMessage:function(e){return g(g({},e),{},{padding:"0"})},option:function(e){return g(g({},e),{},{padding:"0",":active":{backgroundColor:"transparent"}})},placeholder:function(e){return g(g({},e),{},{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"12px",lineHeight:"20px",left:"6px",right:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},valueContainer:function(e){return g(g({},e),{},{display:"flex",position:"static",height:"100%",paddingInline:"4px",padding:"4px 4px 0px 4px",fontSize:"12px"})}},components:{DropdownIndicator:null,ClearIndicator:null,NoOptionsMessage:u.EmptyState,Option:h.MultiSelectOption,Menu:u.Menu,MenuList:_?u.StaticLoader:h.DefaultMultiSelectMenuList,MultiValueContainer:h.MultiSelectChip,MultiValueLabel:h.MultiSelectChipLabel,MultiValueRemove:h.MultiSelectChipCloseIcon,IndicatorSeparator:null,GroupHeading:u.GroupHeading}})):o.createElement(f,(0,n.default)({isMulti:!0,inputId:i,menuIsOpen:a},E&&{menuPortalTarget:document.getElementById("aether-dropdown-portal")},{onChange:R,onMenuClose:c,onMenuOpen:d},m&&{value:m},{options:p,placeholder:b,isDisabled:S,closeMenuOnSelect:w,"aria-label":t,"aria-labelledby":s},v&&{isOptionDisabled:v},{emptyStateMessage:x,formatOptionLabel:!_&&T,validationState:C,classNamePrefix:"aether-multiselect-dropdown",className:j,maxMenuHeight:A,styles:{container:function(e){return g(g({},e),{},{pointerEvents:"auto"})},control:function(e){return g(g({},e),{},{width:P})},input:function(e){return g(g({},e),{},{margin:0,padding:0,height:"20px",lineHeight:"normal"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}},group:function(e){return g(g({},e),{},{padding:0,margin:0})},groupHeading:function(e){return g(g({},e),{},{userSelect:"none",fontSize:"11px",fontWeight:600,lineHeight:"16px",marginBottom:"4px",padding:"0px 12px",textTransform:"none"})},menu:function(e){return g(g({},e),{},{width:k,paddingLeft:"0",paddingRight:"0",border:"none",zIndex:1e3})},menuList:function(e){return g(g({},e),{},{paddingTop:"8px",paddingBottom:"8px"})},menuPortal:function(e){return g(g({},e),{},{zIndex:1e3})},noOptionsMessage:function(e){return g(g({},e),{},{padding:"0"})},option:function(e){return g(g({},e),{},{padding:"0",":active":{backgroundColor:"transparent"}})},placeholder:function(e){return g(g({},e),{},{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"12px",lineHeight:"20px",left:"6px",right:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},valueContainer:function(e){return g(g({},e),{},{display:"flex",position:"static",height:"100%",paddingInline:"4px",padding:"4px 4px 0px 4px",fontSize:"12px"})}},components:{DropdownIndicator:null,ClearIndicator:null,NoOptionsMessage:u.EmptyState,Option:h.MultiSelectOption,Menu:u.Menu,MenuList:_?u.StaticLoader:h.DefaultMultiSelectMenuList,MultiValueContainer:h.MultiSelectChip,MultiValueLabel:h.MultiSelectChipLabel,MultiValueRemove:h.MultiSelectChipCloseIcon,IndicatorSeparator:null,GroupHeading:u.GroupHeading}})))}b.defaultProps={isOpen:void 0,onClose:null,onCreateNewOption:null,onOpen:null,value:null,"aria-label":void 0,"aria-labelledby":void 0,placeholder:"Select option",emptyStateMessage:"No options found",menuMaxHeight:"auto",triggerWidth:"auto",containerWidth:"auto",className:"",isDisabled:!1,isLoading:!1,viaPortal:!1,isOptionDisabled:function(){},closeMenuOnSelect:!1,allowCreateNewOption:!1,customOptionComponent:null,validationState:{status:"",message:""}},b.propTypes={onChange:d().func.isRequired,options:d().arrayOf(d().shape({label:d().string,value:d().oneOfType([d().string,d().number])})).isRequired,id:d().string.isRequired,"aria-label":d().string,"aria-labelledby":d().string,value:d().array,isOpen:d().bool,onClose:d().func,onCreateNewOption:function(e){var t=e.allowCreateNewOption,s=e.onCreateNewOption;return!t&&s?new Error("MultiSelect: onCreateNewOption is only allowed to be used when the prop allowCreateNewOption is passed as true."):s&&"function"!=typeof s?new Error("MultiSelect: Expected the type of the onCreateNewOption to be a function."):null},onOpen:d().func,placeholder:d().string,emptyStateMessage:d().string,menuMaxHeight:d().oneOfType([d().number,d().string]),triggerWidth:d().oneOfType([d().number,d().string]),containerWidth:d().oneOfType([d().string,d().number]),className:d().string,isDisabled:d().bool,isLoading:d().bool,viaPortal:d().bool,isOptionDisabled:d().func,closeMenuOnSelect:d().bool,allowCreateNewOption:d().bool,customOptionComponent:d().func,validationState:d().shape({status:d().oneOf(["","success","error","warning"]),message:d().string})}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var n=s("../../node_modules/@babel/runtime/helpers/esm/extends.js"),i=s("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=s("../../node_modules/react/index.js"),a=s("../../node_modules/prop-types/index.js"),r=s.n(a),l=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownContainer.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownLabel.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownValidationMessage.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/DefaultMultiSelect.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js");function m(e){var t=(0,o.useRef)(null),s=(0,o.useState)(""),a=(0,i.default)(s,2),r=a[0],l=a[1],m=e.type,g=e.label,f=e.helperText,y=e.id,b=e.validationState,x=e["data-testid"],S=e["data-click"];return(0,o.useEffect)((function(){t.current&&(t.current.offsetWidth?l(t.current.offsetWidth):l("auto"))}),[]),"compact"===m?o.createElement(p.default,e):o.createElement(c.default,{ref:t,"data-aether-id":"aether-multiSelect","data-testid":x,"data-click":S},o.createElement(d.default,{id:y,label:g,helperText:f}),o.createElement(h.default,(0,n.default)({containerWidth:r},e)),o.createElement(u.default,{validationState:b}))}m.defaultProps={type:"default",id:"",label:"",helperText:"",validationState:{status:"",message:""},"data-testid":"aether-multi-select","data-click":""},m.propTypes={type:r().oneOf(["default","compact"]),id:r().string,label:function(e){var t=e.label;return t&&t.type!==l.default&&"string"!=typeof t?new Error("MultiSelect: label prop only accepts string or the Aether's Label component as valid value."):null},helperText:r().string,validationState:r().shape({status:r().oneOf(["","success","error","warning"]),message:r().string}),"data-testid":r().string,"data-click":r().string}},"../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var n=s("../../node_modules/@babel/runtime/helpers/esm/extends.js"),i=s("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=s("../../node_modules/react/index.js"),a=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("../../node_modules/prop-types/index.js"),l=s.n(r),c=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=["heading","description","width","onSubmit","preventDefault","primaryAction","secondaryAction","children"],m=a.default.form.withConfig({displayName:"Form__StyledForm",componentId:"ak4rok-0"})(["width:",";"],(function(e){return e.width}));function g(e){var t=e.heading,s=e.description,a=e.width,r=e.onSubmit,l=e.preventDefault,g=e.primaryAction,f=e.secondaryAction,y=e.children,b=(0,i.default)(e,p);return o.createElement(m,(0,n.default)({width:a},b,{"data-aether-id":"aether-form",onSubmit:function(e){l&&e.preventDefault(),r&&r(e)}}),o.createElement(c.default,{gap:"spacing-xxl",direction:"column"},o.createElement(c.default,{gap:"spacing-xl",direction:"column"},(t||s)&&o.createElement(c.default,{gap:"spacing-xs",direction:"column"},t?o.createElement(u.default,{type:"h1",text:t,"data-testid":"aether-form-heading"}):null,s?o.createElement(h.default,{type:"lead","data-testid":"aether-form-description"},s):null),y),o.createElement(c.default,{gap:"spacing-s"},function(e){if(e&&e.type===d.default&&"primary"===(e.props&&e.props.type))return e;return null}(g),function(e){if(e&&e.type===d.default&&"secondary"===(e.props&&e.props.type))return e;return null}(f))))}g.defaultProps={heading:"",description:"",width:"100%",primaryAction:null,secondaryAction:null,preventDefault:!0,onSubmit:null,"data-testid":"aether-form","data-click":""},g.propTypes={heading:l().string,description:l().string,width:l().string,onSubmit:l().func,preventDefault:l().bool,primaryAction:function(e){var t=e.primaryAction;if(t){if(t.type!==d.default)return new Error("Form: primaryAction prop only accepts Aether button component.");if("primary"!==(t.props&&t.props.type))return new Error("Form: primaryAction prop only accepts button type primary.")}return null},secondaryAction:function(e){var t=e.secondaryAction;if(t){if(t.type!==d.default)return new Error("Form: secondaryAction prop only accepts Aether button component.");if("secondary"!==(t.props&&t.props.type))return new Error("Form: secondaryAction prop only accepts button type secondary.")}return null},children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,"data-testid":l().string,"data-click":l().string}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return o}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function o(){return n.createElement(i.default,{name:"illustration-no-cookies"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return o}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function o(){return n.createElement(i.default,{name:"illustration-no-request-in-collection"})}},"./integrations/api-observability/components/base/CustomDropdown.js":function(e,t,s){s.r(t);var n=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js");const i=(0,s("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default)(n.default)`
  .aether-dropdown__value-container{
    >span {
      width: 100%;
    }
  }
`;t.default=i},"./integrations/api-observability/components/import/ImportGatewayServiceConstants.js":function(e,t,s){s.r(t),s.d(t,{API_MANAGEMENT_AZURE:function(){return i},AWS_API_GATEWAY:function(){return n},CREATE_API_MODAL:function(){return b},DEFAULT_SERVICE_NAME:function(){return a},DEFINITION:function(){return m},DISABLED_IMPORT_BUTTON_TOOLTIP_TEXT:function(){return d},FILE:function(){return g},GATEWAY_SERVICES_LIST:function(){return o},GENERIC_CREATE_INTEGRATION_ERROR:function(){return u},IMPORT_ANALYTICS_ACTION:function(){return S},IMPORT_ANALYTICS_CATEGORY:function(){return x},SERVICE_CARD_DESCRIPTION:function(){return l},SERVICE_CARD_TITLE:function(){return r},SERVICE_NOT_SUPPORTED:function(){return c},SUCCESS_IMPORT_MESSAGE:function(){return p},SUCCESS_IMPORT_SCHEMA_MESSAGE:function(){return y},SUCCESS_IMPORT_SCHEMA_TITLE:function(){return f},SUCCESS_IMPORT_TITLE:function(){return h}});const n="api_gateway_aws",i="api_management_azure",o={[n]:{serviceId:"api_gateway_aws",classId:"api_gateway_aws",serviceName:"AWS API Gateway",iconUrl:"https://static.getpostman.com/assets/aws_api_gateway.svg",darkIconUrl:"https://static.getpostman.com/assets/aws_api_gateway.svg",featureFlag:""},[i]:{serviceId:"api_management_azure",classId:"api_management_azure",serviceName:"Azure API Management",iconUrl:"https://static.getpostman.com/assets/azure-apim.svg",darkIconUrl:"https://static.getpostman.com/assets/azure-apim.svg",featureFlag:"land-646-azure-apim-integration",authType:"oauth2"}},a="API Gateway",r="Import from API Gateway",l="Select an API Gateway to import an API.",c="Postman has encountered an error. If you can't find what you're looking for, contact us at help@postman.com",d="Make sure that you have entered all the mandatory fields.",u="Your API is imported successfully but something went wrong while adding an integration.",h="Imported API successfully",p="Your API is imported in current workspace successfully.",m="Definition",g="file",f="Imported API definition successfully",y="Your API definition has been successfully imported in the current API.",b="build.api.new",x="import",S="import_by_api_gateway"},"./integrations/api-observability/components/import/add/AWSAPIGateway.js":function(e,t,s){s.r(t),s.d(t,{ApiGatewayDefault:function(){return R},ApiGatewayIam:function(){return O},default:function(){return M}});var n,i,o=s("./node_modules/lodash/lodash.js"),a=s.n(o),r=s("../../node_modules/react/index.js"),l=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),m=s("./integrations/api-observability/services/index.js"),g=s("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),f=s("./integrations/api-observability/constants.ts"),y=s("./integrations/api-observability/services/ApiGatewayService.js"),b=s("./integrations/api-observability/components/import/base/ImportButton.js"),x=s("./integrations/api-observability/components/import/base/CancelButton.js"),S=s("./integrations/api-observability/services/GatewayIntegrationsService.js"),_=s("./js/components/base/LoadingIndicator.js"),v=s("./appsdk/components/link/Link.js"),E=s("./integrations/api-observability/components/base/CustomDropdown.js"),w=s("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),C=s("./node_modules/classnames/index.js"),I=s.n(C);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},T.apply(this,arguments)}const A=e=>{const t=a().get(e,"error.name"),s=a().get(e,"error.message"),n=a().get(e,"error.title");"invalidAWSRegion"===t?pm.toasts.error(s||"Please enter a valid AWS region.",{title:n||"Invalid AWS Region"}):(pm.toasts.error(s||"Something went wrong while fetching API Gateways",{title:n||"Unable to fetch API Gateways"}),pm.logger.error("Something went wrong while fetching API Gateways",e))},P=()=>r.createElement(c.default,{justifyContent:"space-between"},r.createElement("div",null,"Loading..."),r.createElement(_.default,{className:"loading-indicator-import__dropdown"})),k=(e,t)=>e&&a().isFunction(t)?{status:"error",message:e?r.createElement("div",null,"Unable to load API Gateway.",r.createElement("span",{className:"dropdown-retry",onClick:t},"Retry")):"Please select an API Gateway."}:{},j=(e,t)=>e&&a().isFunction(t)?{status:"error",message:e?r.createElement("div",null,"Unable to load AWS Stages.",r.createElement("span",{className:"dropdown-retry",onClick:t},"Retry")):"Please select an AWS Stage."}:{};let R=(0,l.observer)(n=class extends r.Component{constructor(e){super(e),this.state={awsAccessKey:"",awsSecretKeyId:"",awsRegion:"",apiName:"",availableApiGateways:[],availableStages:[],selectedApiGateway:null,selectedStage:null,errorStages:!1,errorApiGateways:!1,isImportingAPI:!1,loadingStages:!1,loadingGateways:!1,errorAwsSecretKeyId:!1,errorAwsAccessKey:!1,errorAwsRegion:!1,availableApiGatewayTypes:f.AVAILABLE_API_GATEWAY_TYPES,selectedApiGatewayType:f.AVAILABLE_API_GATEWAY_TYPES[0],availableAuthTypes:f.AVAILABLE_AUTH_TYPES,selectedAuthType:f.AVAILABLE_AUTH_TYPES[0]},this.onApiGatewaySelect=this.onApiGatewaySelect.bind(this),this.onStageSelect=this.onStageSelect.bind(this),this.handleAwsAccessKeyInput=this.handleAwsAccessKeyInput.bind(this),this.handleAwsKeyIdInput=this.handleAwsKeyIdInput.bind(this),this.handleAwsRegionInput=this.handleAwsRegionInput.bind(this),this.fetchApiGateways=this.fetchApiGateways.bind(this),this.fetchStages=this.fetchStages.bind(this),this.handleAwsApiTypeSelection=this.handleAwsApiTypeSelection.bind(this),this.handleAuthTypeChange=this.handleAuthTypeChange.bind(this),this.handleApiNameChange=this.handleApiNameChange.bind(this),this.updateIsImportingAPI=this.updateIsImportingAPI.bind(this),this.fetchApiGatewaysDebounced=a().debounce(this.fetchApiGateways,1e3)}onApiGatewaySelect(e){const{selectedApiGatewayType:t}=this.state,s=t&&t.value===f.AWS_REST_API;a().isEmpty(e)?this.setState({selectedApiGateway:[],apiName:"",selectedStage:[]}):this.setState({selectedApiGateway:e,apiName:e.label,availableStages:[],selectedStage:[]},(()=>{s&&this.fetchStages()}))}onStageSelect(e){this.setState({selectedStage:e})}handleAwsApiTypeSelection(e){const{awsAccessKey:t,awsRegion:s,awsSecretKeyId:n}=this.state;this.setState({selectedApiGatewayType:e,apiName:"",selectedApiGateway:[],availableApiGateways:[],selectedStage:[],availableStages:[]},(()=>{t&&s&&n&&this.fetchApiGateways()}))}handleAwsKeyIdInput(e=""){const{awsAccessKey:t,awsRegion:s}=this.state;this.setState({awsSecretKeyId:e,errorAwsSecretKeyId:a().isEmpty(e.trim())},(()=>{e&&t&&s&&this.fetchApiGatewaysDebounced()}))}handleAwsAccessKeyInput(e=""){const{awsSecretKeyId:t,awsRegion:s}=this.state;this.setState({awsAccessKey:e,errorAwsAccessKey:a().isEmpty(e.trim())},(()=>{e&&t&&s&&this.fetchApiGatewaysDebounced()}))}handleAwsRegionInput(e=""){const{awsSecretKeyId:t,awsAccessKey:s}=this.state;this.setState({awsRegion:e,errorAwsRegion:a().isEmpty(e.trim())},(()=>{e&&t&&s&&this.fetchApiGatewaysDebounced()}))}handleAuthTypeChange(e){this.setState({selectedAuthType:e})}handleApiNameChange(e=""){a().isEmpty(e.trim())?this.setState({apiName:""}):this.setState({apiName:e})}fetchApiGateways(){let{awsSecretKeyId:e,awsAccessKey:t,awsRegion:s,selectedAuthType:n,selectedApiGatewayType:i}=this.state,{rule:o}=this.props;a().isEmpty(s)||a().isEmpty(t)||a().isEmpty(e)||a().isEmpty(n)||a().isEmpty(i)||(this.setState({loadingGateways:!0,errorApiGateways:!1,availableApiGateways:[],selectedApiGateway:[],apiName:""}),m.default[o]&&a().isFunction(m.default[o].fetchApiGateways)&&m.default[o].fetchApiGateways({aws_key_id:e,aws_access_key:t,aws_region:s,auth_type:a().get(n,"value"),aws_api_type:a().get(i,"value"),rule:o,type:f.AWS_FETCH_API_GATEWAYS}).then((e=>{let t=a().map(e,(e=>({label:e.Name||e.name,value:e.ApiId||e.id,...e})));this.setState({loadingGateways:!1,availableApiGateways:t})})).catch((e=>{this.setState({loadingGateways:!1,errorApiGateways:!0}),A(e)})))}fetchStages(){let{awsSecretKeyId:e,awsAccessKey:t,awsRegion:s,selectedApiGateway:n,selectedAuthType:i,selectedApiGatewayType:o}=this.state,{rule:r}=this.props;if(a().isEmpty(s)||a().isEmpty(t)||a().isEmpty(e)||a().isEmpty(n)||a().isEmpty(o)||a().isEmpty(i))return;this.setState({loadingStages:!0,errorStages:!1});const l={aws_key_id:e,aws_access_key:t,aws_region:s,auth_type:a().get(i,"value"),aws_api_type:a().get(o,"value"),aws_api_gateway_id:a().get(n,"value")};S.default.performPreConfigAction(r,l,f.AWS_FETCH_STAGES).then((e=>{let t=a().get(e,"body.data.Items")||a().get(e.body,"data.item")||[],s=a().map(t,(e=>({label:a().get(e,"StageName")||a().get(e,"stageName"),value:a().get(e,"StageName")||a().get(e,"stageName"),...e})));this.setState({loadingStages:!1,errorStages:!1,availableStages:s})})).catch((e=>{pm.logger.error("Error occurred while fetching stages",e),pm.toasts.error("Something went wrong while fetching stages"),this.setState({errorStages:"Error occurred while fetching stages",loadingStages:!1})}))}getExportApiActionPayload(){const{rule:e}=this.props,{awsAccessKey:t,awsSecretKeyId:s,awsRegion:n,apiName:i,selectedApiGateway:o,selectedApiGatewayType:r,selectedAuthType:l,selectedStage:c}=this.state;return{aws_key_id:s,aws_access_key:t,aws_region:n,aws_api_gateway_id:a().get(o,"value"),auth_type:a().get(l,"value"),aws_api_type:a().get(r,"value"),classId:e,apiName:i||a().get(o,"value"),...a().isEqual(a().get(r,"value"),f.AWS_REST_API)?{stage:a().get(c,"value")}:{}}}updateIsImportingAPI(e){this.setState({isImportingAPI:e})}render(){const{rule:e,workspaceId:t,sourceIdentifier:s,serviceId:n,apiId:i,apiVersionId:o}=this.props,{awsSecretKeyId:l,awsAccessKey:c,awsRegion:m,errorAwsSecretKeyId:g,errorAwsAccessKey:y,errorAwsRegion:S,selectedApiGateway:_,apiName:C,availableApiGateways:A,availableApiGatewayTypes:j,selectedApiGatewayType:R,selectedAuthType:M,availableAuthTypes:L,errorApiGateways:D,isImportingAPI:N,loadingStages:F,loadingGateways:z,selectedStage:B,errorStages:V,availableStages:H}=this.state,U={rule:e,entity:"apiversion",variables:{aws_key_id:l,aws_access_key:c,aws_region:m,aws_api_gateway_id:a().get(_,"value"),auth_type:a().get(M,"value"),aws_api_type:a().get(R,"value")}},W=R&&R.value===f.AWS_REST_API,q=!c||!l||!m||z||!A||a().isEmpty(_)||W&&a().isEmpty(B);return r.createElement("div",{className:"import-api-gateway__form"},r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(u.default,{isClearable:!1,onChange:this.handleAuthTypeChange,options:L||[],placeholder:"Select AWS Authentication Type",label:"AWS Authentication Method",value:M})),M&&M.value===f.AWS_IAM_ROLE?r.createElement(O,T({authType:M.value},this.props)):r.createElement("div",null,r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(u.default,{isClearable:!1,onChange:this.handleAwsApiTypeSelection,options:j||[],placeholder:"Select AWS API Type",label:"AWS API Type",value:R})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(h.default,{type:"password",placeholder:"Enter the AWS access key id",value:l,onChange:e=>this.handleAwsKeyIdInput(e.target.value),label:r.createElement(p.default,{text:"Access Key ID"}),validationStatus:g?"error":"",validationMessage:"Please enter an Access Key ID.",helperText:r.createElement(r.Fragment,null,r.createElement(d.default,null,"You can find the credentials in your AWS console."," "),r.createElement(v.default,{to:f.AWS_CREDENTIALS_DOCS_LINK,target:"_blank"},r.createElement(d.default,{type:"link-default",isExternal:!0},"Learn more")))})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(h.default,{type:"password",placeholder:"Enter the AWS access key",value:c,onChange:e=>this.handleAwsAccessKeyInput(e.target.value),label:r.createElement(p.default,{text:"Secret Access Key"}),validationStatus:y?"error":"",validationMessage:"Please enter a Secret Access Key."})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(h.default,{placeholder:"Enter AWS Region",value:m,onChange:e=>this.handleAwsRegionInput(e.target.value),label:r.createElement(p.default,{text:"AWS Region"}),validationStatus:S?"error":"",validationMessage:"Please enter a valid AWS region."})),r.createElement("div",{className:I()({"import-api-gateway__form--component":s!==w.CREATE_API_MODAL||W,"import-api-gateway__form--last-component":s===w.CREATE_API_MODAL&&!W})},r.createElement(E.default,{onChange:this.onApiGatewaySelect,options:A||[],value:_,isLoading:z,placeholder:z?P():"Select AWS Gateway",label:"AWS Gateway",emptyStateMessage:"No API Gateways found",isDisabled:z,validationState:k(D,this.fetchApiGateways)})),W&&r.createElement("div",{className:I()({"import-api-gateway__form--component":s!==w.CREATE_API_MODAL,"import-api-gateway__form--last-component":s===w.CREATE_API_MODAL})},r.createElement(E.default,{onChange:this.onStageSelect,options:H||[],isLoading:F,value:B,placeholder:F?P():"Select AWS Stage",label:"AWS Stage",emptyStateMessage:"No AWS Stages found",validationState:k(V,this.fetchStages)})),s!==w.CREATE_API_MODAL&&r.createElement("div",{className:"import-api-gateway__form--last-component"},r.createElement(h.default,{placeholder:"Enter API name",helperText:"This will be the name of the imported API.",value:C,onChange:e=>this.handleApiNameChange(e.target.value),label:r.createElement(p.default,{text:"API Name"})})),r.createElement("div",{className:"aws-gateway__button"},r.createElement(b.default,{className:"integrations-add-actions__button--proceed",disabled:q,updateIsImportingAPI:this.updateIsImportingAPI,integrationPayload:U,exportApiActionName:f.AWS_EXPORT_API_ACTION,exportApiActionPayload:this.getExportApiActionPayload(),workspaceId:t,serviceId:n,sourceIdentifier:s,apiId:i,apiVersionId:o}),r.createElement(x.default,{isImportingAPI:N,serviceId:n,sourceIdentifier:s,apiId:i,apiVersionId:o}))))}})||n,O=(0,l.observer)(i=class extends r.Component{constructor(e){super(e),this.state={externalID:"",roleArn:"",awsRegion:"",apiName:"",selectedStage:null,selectedApiGateway:null,loadingStages:!1,loadingGateways:!1,errorAwsRegion:!1,errorRoleArn:!1,errorStages:!1,errorApiGateways:!1,availableStages:[],availableApiGateways:[],availableApiGatewayTypes:f.AVAILABLE_API_GATEWAY_TYPES,selectedApiGatewayType:f.AVAILABLE_API_GATEWAY_TYPES[0]},this.onApiGatewaySelect=this.onApiGatewaySelect.bind(this),this.onStageSelect=this.onStageSelect.bind(this),this.fetchApiGateways=this.fetchApiGateways.bind(this),this.fetchStages=this.fetchStages.bind(this),this.handleAwsApiTypeSelection=this.handleAwsApiTypeSelection.bind(this),this.handleAwsRegionInput=this.handleAwsRegionInput.bind(this),this.handleRoleArnInput=this.handleRoleArnInput.bind(this),this.fetchApiGatewaysDebounced=a().debounce(this.fetchApiGateways,1e3),this.updateIsImportingAPI=this.updateIsImportingAPI.bind(this),this.getExportApiActionPayload=this.getExportApiActionPayload.bind(this),this.handleApiNameChange=this.handleApiNameChange.bind(this)}onApiGatewaySelect(e){const{selectedApiGatewayType:t}=this.state,s=t&&t.value===f.AWS_REST_API;a().isEmpty(e)?this.setState({selectedApiGateway:[],selectedStage:[],apiName:""}):this.setState({selectedApiGateway:e,apiName:e.label,selectedStage:[],availableStages:[]},(()=>{s&&this.fetchStages()}))}onStageSelect(e){this.setState({selectedStage:e})}fetchStages(){const{roleArn:e,externalID:t,awsRegion:s,selectedApiGatewayType:n,selectedApiGateway:i}=this.state,{rule:o,authType:r}=this.props;if(a().isEmpty(e)||a().isEmpty(t)||a().isEmpty(s)||a().isEmpty(i)||a().isEmpty(n))return;this.setState({loadingStages:!0,errorStages:!1});const l={aws_region:s,role_arn:e,external_id:t,aws_api_gateway_id:a().get(i,"value"),aws_api_type:a().get(n,"value"),auth_type:r};S.default.performPreConfigAction(o,l,f.AWS_FETCH_STAGES).then((e=>{let t=a().get(e,"body.data.Items")||a().get(e.body,"data.item")||[],s=a().map(t,(e=>({label:a().get(e,"StageName")||a().get(e,"stageName"),value:a().get(e,"StageName")||a().get(e,"stageName"),...e})));this.setState({loadingStages:!1,errorStages:!1,availableStages:s})})).catch((e=>{pm.logger.error("Error occurred while fetching stages",e),pm.toasts.error("Something went wrong while fetching stages"),this.setState({errorStages:"Error occurred while fetching stages",loadingStages:!1})}))}handleAwsApiTypeSelection(e){const{roleArn:t,awsRegion:s}=this.state;this.setState({selectedApiGatewayType:e,apiName:"",selectedApiGateway:[],availableApiGateways:[]},(()=>{!a().isEmpty(t)&&!a().isEmpty(s)&&this.fetchApiGateways()}))}fetchApiGateways(){let{awsRegion:e,selectedApiGatewayType:t,roleArn:s,externalID:n}=this.state,{rule:i,authType:o}=this.props;a().isEmpty(e)||a().isEmpty(s)||a().isEmpty(t)||(this.setState({loadingGateways:!0,errorApiGateways:!1,availableApiGateways:[],selectedApiGateway:[],apiName:""}),m.default[i]&&a().isFunction(m.default[i].fetchApiGateways)&&m.default[i].fetchApiGateways({rule:i,role_arn:s,external_id:n,aws_region:e,auth_type:o,aws_api_type:a().get(t,"value"),type:f.AWS_FETCH_API_GATEWAYS}).then((e=>{let t=a().map(e,(e=>({label:e.Name||e.name,value:e.ApiId||e.id,...e})));this.setState({loadingGateways:!1,availableApiGateways:t})})).catch((e=>{this.setState({loadingGateways:!1,errorApiGateways:!0}),A(e)})))}handleRoleArnInput(e=""){const{awsRegion:t}=this.state;this.setState({roleArn:e,errorRoleArn:a().isEmpty(e.trim())},(()=>{!a().isEmpty(t)&&!a().isEmpty(e.trim())&&this.fetchApiGatewaysDebounced()}))}handleAwsRegionInput(e=""){const{roleArn:t}=this.state;this.setState({awsRegion:e.trim(),errorAwsRegion:a().isEmpty(e.trim())},(()=>{!a().isEmpty(t)&&!a().isEmpty(e.trim())&&this.fetchApiGatewaysDebounced()}))}setExternalId(){const e={rule:this.props.rule,type:f.AWS_FETCH_EXTERNAL_ID};y.default.fetchExternalId(e).then((e=>{this.setState({externalID:e})})).catch((e=>{pm.toasts.error("Something went wrong, please try again."),pm.logger.error("Something went wrong while fetching External ID",e)}))}updateIsImportingAPI(e){this.setState({isImportingAPI:e})}getExportApiActionPayload(){const{rule:e,authType:t}=this.props,{selectedApiGateway:s,selectedApiGatewayType:n,selectedStage:i,roleArn:o,externalID:r,awsRegion:l,apiName:c}=this.state;return{classId:e,auth_type:t,apiName:c||a().get(s,"label"),aws_api_gateway_id:a().get(s,"value"),aws_api_type:a().get(n,"value"),aws_region:l,role_arn:o,external_id:r,...a().isEqual(a().get(n,"value"),f.AWS_REST_API)?{stage:a().get(i,"value")}:{}}}handleApiNameChange(e=""){a().isEmpty(e.trim())?this.setState({apiName:""}):this.setState({apiName:e})}componentDidMount(){this.setExternalId()}render(){const{rule:e,authType:t,serviceId:s,workspaceId:n,sourceIdentifier:i,apiId:o,apiVersionId:l}=this.props,{roleArn:c,awsRegion:m,loadingGateways:y,errorAwsRegion:S,errorRoleArn:_,externalID:C,selectedStage:T,availableApiGateways:A,selectedApiGateway:R,availableApiGatewayTypes:O,selectedApiGatewayType:M,isImportingAPI:L,apiName:D,availableStages:N,loadingStages:F,errorStages:z,errorApiGateways:B}=this.state,V={rule:e,entity:"apiversion",variables:{auth_type:t,role_arn:c,external_id:C,aws_region:m,aws_api_type:a().get(M,"value"),aws_api_gateway_id:a().get(R,"value")}},H=a().isEqual(a().get(M,"value"),f.AWS_REST_API),U=!c||!m||y||!A||a().isEmpty(R)||H&&a().isEmpty(T);return r.createElement("div",null,r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(u.default,{isClearable:!1,onChange:this.handleAwsApiTypeSelection,options:O||[],placeholder:"Select AWS API Type",label:"AWS API Type",value:M})),r.createElement("div",{className:"integrations-add-step"},r.createElement("div",{className:"integrations-add-step__title"},"Step 1: Create an IAM role"),r.createElement("div",{className:"integrations-add-step__text"},"Use the following credentials to create an IAM role for Postman in AWS. Learn how to ",r.createElement(g.default,{extUrl:f.AWS_IAM_ROLE_DOCS_LINK},"create an IAM role"))),r.createElement("div",{className:"import-api-gateway__form--component__aws-account-id"},r.createElement(h.default,{type:"text",value:f.AWS_ACCOUNT_ID,enableCopy:!0,helperCopyText:"Copy AWS account ID",helperText:"This assigns the IAM role to Postman.",label:r.createElement(p.default,{text:"AWS Account ID"})})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(h.default,{type:"text",value:this.state.externalID,enableCopy:!0,helperCopyText:"Copy External ID",helperText:r.createElement(r.Fragment,null,r.createElement(d.default,null,"This adds an extra level of security against malicious attacks."," "),r.createElement(v.default,{to:f.AWS_IAM_ROLE_EXTERNAL_ID_LINK,target:"_blank"},r.createElement(d.default,{type:"link-default",isExternal:!0},"Learn more"))),label:r.createElement(p.default,{text:"External ID"})})),r.createElement("div",{className:"integrations-add-step"},r.createElement("div",{className:"integrations-add-step__title"},"Step 2: Enter role ARN and region")),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(h.default,{type:"text",value:c,helperCopyText:"Copy External ID",placeholder:"arn:aws:iam::79840258006:role/PostmanIntegration",helperText:"Provided by AWS once the IAM role is created. It allows Postman to assume the IAM role.",onChange:e=>this.handleRoleArnInput(e.target.value),label:r.createElement(p.default,{text:"Role ARN"}),validationStatus:_?"error":"",validationMessage:"Please enter the role ARN"})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(h.default,{placeholder:"Enter AWS Region",value:m,onChange:e=>this.handleAwsRegionInput(e.target.value),label:r.createElement(p.default,{text:"AWS Region"}),validationStatus:S?"error":"",validationMessage:"Please enter a valid AWS region."})),r.createElement("div",{className:I()({"import-api-gateway__form--component":i!==w.CREATE_API_MODAL||H,"import-api-gateway__form--last-component":i===w.CREATE_API_MODAL&&!H})},r.createElement(E.default,{onChange:this.onApiGatewaySelect,options:A||[],value:R,isLoading:y,placeholder:y?P():"Select AWS Gateway",label:"AWS Gateway",emptyStateMessage:"No API Gateways found",isDisabled:y,validationState:k(B,this.fetchApiGateways)})),H&&r.createElement("div",{className:I()({"import-api-gateway__form--component":i!==w.CREATE_API_MODAL,"import-api-gateway__form--last-component":i===w.CREATE_API_MODAL})},r.createElement(E.default,{onChange:this.onStageSelect,options:N||[],isLoading:F,value:T,placeholder:F?P():"Select AWS Stage",label:"AWS Stage",emptyStateMessage:"No AWS Stages found",validationState:j(z,this.fetchStages)})),i!==w.CREATE_API_MODAL&&r.createElement("div",{className:"import-api-gateway__form--last-component"},r.createElement(h.default,{placeholder:"Enter API name",helperText:"This will be the name of the imported API.",value:D,onChange:e=>this.handleApiNameChange(e.target.value),label:r.createElement(p.default,{text:"API Name"})})),r.createElement("div",{className:"aws-gateway__button"},r.createElement(b.default,{className:"integrations-add-actions__button--proceed",disabled:U,updateIsImportingAPI:this.updateIsImportingAPI,integrationPayload:V,exportApiActionName:f.AWS_EXPORT_API_ACTION,exportApiActionPayload:this.getExportApiActionPayload(),workspaceId:n,serviceId:s,sourceIdentifier:i,apiId:o,apiVersionId:l}),r.createElement(x.default,{isImportingAPI:L,serviceId:s,sourceIdentifier:i,apiId:o,apiVersionId:l})))}})||i;function M(e){const{rule:t}=e;return"api_gateway_aws"===t?r.createElement(R,e):r.createElement("div",null)}},"./integrations/api-observability/components/import/add/Azure.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var n=s("./node_modules/lodash/lodash.js"),i=s.n(n),o=s("../../node_modules/react/index.js"),a=s("./integrations/api-observability/constants.ts"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=s("./integrations/api-observability/services/AzureService.js"),h=s("./js/components/base/LoadingIndicator.js"),p=s("./integrations/api-observability/components/import/base/ImportButton.js"),m=s("./integrations/api-observability/components/import/base/CancelButton.js"),g=s("./integrations/api-observability/components/base/CustomDropdown.js"),f=s("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),y=s("./node_modules/classnames/index.js"),b=s.n(y),x=s("./integrations/api-observability/services/Helper.js"),S=s("./js/components/base/SearchHighlighter.js");const _=()=>o.createElement(r.default,{justifyContent:"space-between"},o.createElement("div",null,"Loading..."),o.createElement(h.default,{className:"loading-indicator-aether__dropdown"}));class v extends o.Component{constructor(e){super(e),this.fetchServices=()=>{this.setState({isFetchingServices:!0});const{rule:e,accessToken:t}=this.props,{selectedSubscription:s,selectedResourceGroup:n}=this.state,o={azure_access_token:t,azure_subscription_id:i().get(s,"value"),azure_resource_group_id:i().get(n,"value")};u.default.fetchServices(e,o,a.LIST_SERVICES).then((e=>{this.setState({fetchedServices:e,isFetchingServices:!1,fetchErrorServices:!1})})).catch((e=>{this.setState({fetchErrorServices:!0,isFetchingServices:!1}),pm.logger.error("Something went wrong while fetching services",e)}))},this.fetchSubscriptions=()=>{this.setState({isFetchingSubscriptions:!0});const{rule:e,accessToken:t}=this.props,s={azure_access_token:t};u.default.fetchSubscriptions(e,s,a.LIST_SUBSCRIPTIONS).then((e=>{this.setState({fetchedSubscriptions:e,isFetchingSubscriptions:!1,fetchErrorSubscriptions:!1})})).catch((e=>{this.setState({fetchErrorSubscriptions:!0,isFetchingSubscriptions:!1}),pm.logger.error("Something went wrong while fetching Azure subscriptions",e)}))},this.fetchResourceGroups=()=>{this.setState({isFetchingResourceGroups:!0});const{rule:e,accessToken:t}=this.props,{selectedSubscription:s}=this.state,n={azure_access_token:t,azure_subscription_id:i().get(s,"value")};u.default.fetchResourceGroups(e,n,a.LIST_RESOURCE_GROUPS).then((e=>{this.setState({fetchedResourceGroups:e,isFetchingResourceGroups:!1,fetchErrorResourceGroups:!1})})).catch((e=>{this.setState({fetchErrorResourceGroups:!0,isFetchingResourceGroups:!1}),pm.logger.error("Something went wrong while fetching resource groups",e)}))},this.fetchApis=()=>{this.setState({isFetchingApis:!0});const{rule:e,accessToken:t}=this.props,{selectedSubscription:s,selectedResourceGroup:n,selectedService:o}=this.state,r={azure_access_token:t,azure_subscription_id:i().get(s,"value"),azure_resource_group_id:i().get(n,"value"),azure_service_id:i().get(o,"value")};u.default.fetchApis(e,r,a.LIST_APIS).then((e=>{this.setState({fetchedApis:e,filteredApis:e,isFetchingApis:!1,fetchErrorApis:!1})})).catch((e=>{this.setState({fetchErrorApis:!0,isFetchingApis:!1}),pm.logger.error("Something went wrong while fetching APIs",e)}))},this.fetchApisWithSearchQuery=e=>{const{rule:t,accessToken:s}=this.props,{selectedSubscription:n,selectedResourceGroup:o,selectedService:r,fetchedApis:l}=this.state,c={azure_access_token:s,azure_subscription_id:i().get(n,"value"),azure_resource_group_id:i().get(o,"value"),azure_service_id:i().get(r,"value"),azureApiSearchQuery:e};return u.default.fetchApis(t,c,a.LIST_APIS).then((e=>{const t=i().unionBy(e,l,"path");return this.setState({fetchedApis:t,...this.shouldSetFetchedApis&&{filteredApis:e}}),Promise.resolve()})).catch((e=>(pm.logger.error("Something went wrong while fetching APIs",e),Promise.reject(e))))},this.handleSelectSubscription=e=>{this.setState({selectedSubscription:e,errorSubscription:i().isEmpty(e),fetchedResourceGroups:[],selectedResourceGroup:[],fetchedServices:[],selectedService:[],fetchedApis:[],selectedApi:[],apiName:""},(()=>{e&&e.value&&this.fetchResourceGroups()}))},this.handleSelectResourceGroup=e=>{this.setState({selectedResourceGroup:e,errorResourceGroup:i().isEmpty(e),fetchedServices:[],selectedService:[],fetchedApis:[],selectedApi:[],apiName:""},(()=>{e&&e.value&&this.fetchServices()}))},this.handleSelectService=e=>{this.setState({selectedService:e,apiName:e&&e.label||"",errorService:i().isEmpty(e),fetchedApis:[],selectedApi:[]},(()=>e&&e.value&&this.fetchApis()))},this.handleSelectApi=e=>{this.setState({selectedApi:e,errorApi:i().isEmpty(e)})},this.getSubscriptionValidationState=()=>{const{errorSubscription:e,fetchErrorSubscriptions:t}=this.state;return e||t?{status:"error",message:t?o.createElement("div",null,"Unable to load subscriptions.",o.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchSubscriptions()}},"Retry")):"Please select a subscription."}:{}},this.getResourceGroupValidationState=()=>{const{errorResourceGroup:e,fetchErrorResourceGroups:t}=this.state;return e||t?{status:"error",message:t?o.createElement("div",null,"Unable to load resource groups.",o.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchResourceGroups()}},"Retry")):"Please select a resource group."}:{}},this.getServiceValidationState=()=>{const{errorService:e,fetchErrorServices:t}=this.state;return e||t?{status:"error",message:t?o.createElement("div",null,"Unable to load services.",o.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchedServices()}},"Retry")):"Please select a service."}:{}},this.getApiValidationState=()=>{const{errorApi:e,fetchErrorApis:t}=this.state;return e||t?{status:"error",message:t?o.createElement("div",null,"Unable to load APIs.",o.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchApis()}},"Retry")):"Please select an API."}:{}},this.getApiDropdownOption=e=>{const{azureApiSearchQuery:t}=this.state,s=null==e?void 0:e.label;return o.createElement(S.default,{source:s,query:t,highlightClassName:"highlight-dropdown-options"})},this.state={fetchedSubscriptions:[],filteredApis:[],fetchedApis:[],schemaTypes:a.SCHEMA_TYPES,selectedSchemaType:a.SCHEMA_TYPES[0],selectedSubscription:null,selectedResourceGroup:null,selectedService:null,azureSubscriptionId:"",azureResourceGroupId:"",azureServiceId:"",apiName:"",isFetchingServices:!1,fetchErrorServices:!1,isFetchingSubscriptions:!1,fetchErrorSubscriptions:!1,isFetchingResourceGroups:!1,fetchErrorResourceGroups:!1,isImportingAPI:!1},this.updateIsImportingAPI=this.updateIsImportingAPI.bind(this),this.handleSchemaTypeChange=this.handleSchemaTypeChange.bind(this),this.handleApiNameChange=this.handleApiNameChange.bind(this)}componentDidMount(){this.fetchSubscriptions()}handleSchemaTypeChange(e){this.setState({selectedSchemaType:e})}handleApiNameChange(e=""){i().isEmpty(e.trim())?this.setState({apiName:""}):this.setState({apiName:e})}updateIsImportingAPI(e){this.setState({isImportingAPI:e})}getExportApiActionPayload(){const{selectedSubscription:e,selectedResourceGroup:t,selectedSchemaType:s,selectedApi:n,selectedService:o,apiName:a}=this.state,{rule:r,accessToken:l}=this.props;return{apiName:a,classId:r,azure_access_token:l,apiVersionName:i().get(n,"label"),azure_subscription_id:i().get(e,"value"),azure_resource_group_id:i().get(t,"value"),azure_service_id:i().get(o,"value"),azure_api_id:i().get(n,"value"),azure_export_format:i().get(s,"value")}}render(){const{rule:e,serviceId:t,workspaceId:s,sourceIdentifier:n,accessToken:a,refreshToken:r,apiId:u,apiVersionId:h}=this.props,{fetchedSubscriptions:y,selectedSubscription:S,isFetchingSubscriptions:v,fetchedResourceGroups:E,selectedResourceGroup:w,isFetchingResourceGroups:C,fetchedServices:I,selectedService:T,isFetchingServices:A,isImportingAPI:P,apiName:k,schemaTypes:j,selectedSchemaType:R,fetchedApis:O,isFetchingApis:M,selectedApi:L,filteredApis:D}=this.state,N={rule:e,entity:"apiversion",variables:{linked_apis:[{azure_subscription_id:i().get(S,"value"),azure_resource_group_id:i().get(w,"value"),azure_service_id:i().get(T,"value"),azure_service_path:i().get(T,"path"),azure_api_id:i().get(L,"value"),azure_api_path:i().get(L,"path")}],azure_access_token:a,azure_refresh_token:r,use_refresh_token:!0}},F=i().isEmpty(S)||i().isEmpty(w)||i().isEmpty(T)||i().isEmpty(L);return o.createElement("div",{className:"import-api-gateway__form"},o.createElement("div",{className:"import-api-gateway__form--component"},o.createElement(g.default,{onChange:this.handleSelectSubscription,options:y||[],value:S,label:"Subscription",placeholder:v?_():"Select Subscription",className:v?"dropdown-icon-remove":"",isDisabled:v,emptyStateMessage:"No Subscriptions found",validationState:this.getSubscriptionValidationState()})),o.createElement("div",{className:"import-api-gateway__form--component"},o.createElement(g.default,{onChange:this.handleSelectResourceGroup,options:E||[],value:w,label:"Resource Group",placeholder:C?_():"Select Resource Group",className:C?"dropdown-icon-remove":"",isDisabled:!i().get(S,"value")||C,emptyStateMessage:"No Resource Groups found",validationState:this.getResourceGroupValidationState()})),o.createElement("div",{className:"import-api-gateway__form--component"},o.createElement(g.default,{onChange:this.handleSelectService,options:I||[],value:T,label:"Service",placeholder:A?_():"Select Service",className:A?"dropdown-icon-remove":"",isDisabled:!i().get(w,"value")||A,emptyStateMessage:"No Services found",validationState:this.getServiceValidationState()})),o.createElement("div",{className:"import-api-gateway__form--component"},o.createElement(g.default,{onChange:this.handleSelectApi,options:D||[],value:L,label:"API Version",placeholder:M?_():"Select API Version",className:M?"dropdown-icon-remove":"",isDisabled:!i().get(T,"value")||M,emptyStateMessage:"No APIs found",validationState:this.getApiValidationState(),customOptionComponent:this.getApiDropdownOption,asyncLoader:async({search:e})=>{this.shouldSetFetchedApis=e,e||this.setState({filteredApis:O}),this.setState({azureApiSearchQuery:e}),e&&await this.fetchApisWithSearchQuery(e)}})),o.createElement("div",{className:b()({"import-api-gateway__form--component":n!==f.CREATE_API_MODAL,"import-api-gateway__form--last-component":n===f.CREATE_API_MODAL})},o.createElement(l.default,{options:j||[],value:R,isClearable:!1,onChange:this.handleSchemaTypeChange,label:"Definition type"})),n!==f.CREATE_API_MODAL&&o.createElement("div",{className:"import-api-gateway__form--last-component"},o.createElement(c.default,{placeholder:"Enter API name",helperText:"This will be the name of the imported API.",value:k,onChange:e=>this.handleApiNameChange(e.target.value),label:o.createElement(d.default,{text:"API Name"})})),o.createElement("div",{className:"aws-gateway__button"},o.createElement(p.default,{className:"integrations-add-actions__button--proceed",disabled:F,updateIsImportingAPI:this.updateIsImportingAPI,integrationPayload:N,exportApiActionPayload:this.getExportApiActionPayload(),workspaceId:s,serviceId:t,apiId:u,apiVersionId:h,sourceIdentifier:n,onSuccessfulIntegrationCreate:x.default.addAzureServicesAnalytics}),o.createElement(m.default,{isImportingAPI:P,serviceId:t,sourceIdentifier:n,apiId:u,apiVersionId:h})))}}},"./integrations/api-observability/components/import/add/index.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var n=s("../../node_modules/react/index.js"),i=s("./integrations/api-observability/components/import/add/AWSAPIGateway.js"),o=s("./integrations/api-observability/components/import/add/Azure.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=s("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js");const d={[c.AWS_API_GATEWAY]:i.default,[c.API_MANAGEMENT_AZURE]:o.default};function u(e){const{serviceId:t}=e,s=d[t];return s?n.createElement(s,e):n.createElement(a.default,{direction:"column",alignItems:"center",gap:"spacing-m",padding:"spacing-xxl",justifyContent:"center"},n.createElement(r.default,null),n.createElement(l.default,{type:"body-medium",color:"content-color-secondary",text:c.SERVICE_NOT_SUPPORTED}))}},"./integrations/api-observability/components/import/base/CancelButton.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=s("./integrations/navigation/constants.js"),l=s("./appsdk/workbench/TabService.js"),c=s("./js/services/NavigationService.js"),d=s("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js");let u=(0,a.observer)(n=class extends i.Component{constructor(e){super(e),this.handleOnClick=this.handleOnClick.bind(this)}handleOnClick(){const{serviceId:e,sourceIdentifier:t,apiId:s,apiVersionId:n}=this.props;l.default.closeByRoute(r.GATEWAY_IMPORT_URL,{serviceId:e}),t===d.CREATE_API_MODAL?c.default.transitionTo("build.createDefinition",{apiId:s}):t&&c.default.transitionTo(t)}render(){const{isImportingAPI:e}=this.props;return i.createElement("div",{className:"integrations-add-actions__button--container"},i.createElement(o.default,{isDisabled:e,size:"medium",text:"Cancel",onClick:this.handleOnClick}))}})||n},"./integrations/api-observability/components/import/base/ImportButton.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),o=s("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),a=s("./js/services/NavigationService.js"),r=s("./appsdk/workbench/TabService.js"),l=s("./js/modules/services/AnalyticsService.js"),c=s("./integrations/navigation/constants.js"),d=s("./integrations/api-observability/constants.ts"),u=s("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),h=s("./node_modules/classnames/index.js"),p=s.n(h),m=s("./api-dev/constants/APISubViews.js"),g=(s("./api-dev/services/APIDevService.js"),s("../../packages/api-design/api-definition-service/index.js")),f=s("./node_modules/lodash/lodash.js"),y=s.n(f),b=s("./js/stores/StoreManager.js"),x=s("../../packages/api-design/api-definition-store/index.js"),S=s("./api-dev/interfaces/APIInterface.js"),_=s("./integrations/utils/CommonHelperMethods.ts"),v=s("./api-dev/stores/APIListStore.js");class E extends n.Component{constructor(e){super(e),this.state={isImportingAPI:!1,apiId:"",apiVersionId:""},this.handleImport=this.handleImport.bind(this),this.createIntegration=this.createIntegration.bind(this),this.fetchSchema=this.fetchSchema.bind(this),this.createAPI=this.createAPI.bind(this),this.navigateToApi=this.navigateToApi.bind(this),this.createApiDefinition=this.createApiDefinition.bind(this)}navigateToApi(){const{serviceId:e}=this.props,{apiId:t,apiVersionId:s}=this.state;a.default.transitionTo("build.apiVersion",{apiId:t,versionId:s},{tab:m.DEFINE}),r.default.closeByRoute(c.GATEWAY_IMPORT_URL,{serviceId:e})}navigateToApiDefinition(e,t){const{apiId:s,apiVersionId:n}=this.props,i=y().get(a.default.getActiveQueryParams().get(),"branch");a.default.transitionTo("build.apiDefinitionFile",{apiId:s,apiVersionId:n,apiDefinitionId:e,fileId:t},i&&{branch:i})}getNicknameForIntegration(){const{serviceId:e,exportApiActionPayload:t={}}=this.props,s=t.apiName,n=y().get(u.GATEWAY_SERVICES_LIST,[e,"serviceName"]);return s?`${s} - ${n}`:`${n} Integration`}createIntegration(e={}){const{workspaceId:t,integrationPayload:s={},onSuccessfulIntegrationCreate:n}=this.props,i=this.props.apiId||e.id,a=this.props.apiVersionId||y().get(e,"apiVersionId");return this.setState({apiId:i,apiVersionId:a}),s.executor=a,s.name=this.getNicknameForIntegration(),s.variables&&(s.variables.postman_api_id=i),o.default.createIntegration(t||null,s).then((e=>200===e.status&&y().get(e,"body.model_id")?(l.default.addEventV2({category:"integrations",action:`${y().get(e,"body.data.rule")}_created_integration`,label:"team_integrations_create_forms",value:1}),y().isFunction(n)&&n(y().get(e,"body.data",{})),Promise.resolve(e.body)):(pm.toasts.error(),Promise.reject(new Error("Something went wrong while adding a new integration"))))).catch((e=>(pm.toasts.error(u.GENERIC_CREATE_INTEGRATION_ERROR),pm.logger.error("Something went wrong while adding a new integration",e),Promise.reject(new Error("Something went wrong while adding a new integration")))))}fetchSchema(){const{exportApiActionPayload:e,exportApiActionName:t=d.DEFAULT_GATEWAY_EXPORT_API_ACTION}=this.props;return o.default.fetchGatewayActionDetails(d.PRE_CONFIG,t,e)}createAPI(e){const{integrationPayload:t}=this.props;return(0,b.resolveStoreInstance)(v.default).create(y().get(e,"name")).then((async t=>{const s=y().get(t,"id"),n=y().get(t,"versions[0].id");return await this.createApiDefinition(e,s,n),{id:s,apiVersionId:n}})).catch((e=>(pm.logger.warn("Import~handleImportAsAPI: Failed to import API",e),Promise.reject(e))))}async createApiDefinition(e,t,s){const{integrationPayload:n,sourceIdentifier:i}=this.props,o=x.APIDefinitionTypeService.getDefinitionTypeFromSchemaType(y().get(e,"versions.0.schemas.0.type")),a=`index.${y().get(e,"versions.0.schemas.0.language")}`,r={type:u.FILE,name:a,content:y().get(e,"versions.0.schemas.0.schema"),path:a};if(i!==c.OPEN_IMPORT_IDENTIFIER&&await(0,S.isAPIGitLinked)(t)){r.type=o;const e=await(0,S.getAPILinkedEntityModel)(t,{name:"branch"},"apiDefinition",""),n=await(0,_.updateGitLinkedAPIDefinition)(t,s,y().get(e,"id"),r);return Promise.resolve({fileId:n,apiDefinitionId:y().get(e,"id")})}return g.default.createAPIDefinition(t,s,u.DEFINITION,o,[r]).then((async e=>{const t=y().get(e,"id"),s=await g.default.fetchAPIDefinitionItems({id:t}),i=y().get(s,"data.0.id");return l.default.addEventV2({category:u.IMPORT_ANALYTICS_CATEGORY,action:u.IMPORT_ANALYTICS_ACTION,label:y().get(n,"rule"),value:1}),Promise.resolve({fileId:i,apiDefinitionId:t})})).catch((e=>(pm.logger.error("ImportButton~createApiDefinition: Failed to create definition for this API",e),Promise.reject(e))))}handleImport(){const{updateIsImportingAPI:e,sourceIdentifier:t,apiId:s,apiVersionId:n}=this.props;let i,o;this.setState({isImportingAPI:!0},(()=>{e(!0)})),this.fetchSchema().then((async e=>{const a=y().get(e,"body.data");if(a){if(t===u.CREATE_API_MODAL){const e=await this.createApiDefinition(a,s,n)||{};return i=e.fileId,o=e.apiDefinitionId,Promise.resolve(!0)}return this.createAPI(a)}throw new Error("Something went wrong while exporting API from Gateway")})).then((e=>this.createIntegration(e))).then((s=>{this.setState({isImportingAPI:!1},(()=>{e(!1),t===u.CREATE_API_MODAL?this.navigateToApiDefinition(o,i):this.navigateToApi()})),t===u.CREATE_API_MODAL?pm.toasts.success(u.SUCCESS_IMPORT_SCHEMA_MESSAGE,{title:u.SUCCESS_IMPORT_SCHEMA_TITLE}):pm.toasts.success(u.SUCCESS_IMPORT_MESSAGE,{title:u.SUCCESS_IMPORT_TITLE})})).catch((t=>{pm.logger.error("Error while importing an API from Gateway",t),pm.toasts.error("Something went wrong, please try again"),this.setState({isImportingAPI:!1},(()=>{e(!1)}))}))}render(){const{disabled:e,alignLeft:t}=this.props,s=u.DISABLED_IMPORT_BUTTON_TOOLTIP_TEXT,{isImportingAPI:o}=this.state;return n.createElement("div",{className:p()("integrations-add-actions__button--container",{"align-left":t})},n.createElement(i.default,{type:"primary",isDisabled:e||o,isLoading:o,tooltip:e?s:"",size:"medium",text:"Import",onClick:this.handleImport}))}}},"./integrations/api-observability/containers/GatewayImportSetup.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("./integrations/api-observability/components/import/add/index.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=s("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),d=s("./integrations/api-observability/constants.ts"),u=s("./integrations/api-observability/oauth/GatewayOauthConnectingView.js"),h=s("./integrations/api-observability/oauth/GatewayOauthFailedView.js"),p=s("./integrations/utils/OauthUtilityMethods.js"),m=s("./appsdk/workbench/TabService.js"),g=s("./integrations/navigation/constants.js"),f=s("./js/components/base/LoadingIndicator.js"),y=s("./node_modules/lodash/lodash.js");let b=(0,o.observer)(n=class extends i.Component{constructor(e){super(e),this.state={authType:"",loading:!1,pollingParams:{}},this.handleOauthFlow=this.handleOauthFlow.bind(this),this.handleOauthCancel=this.handleOauthCancel.bind(this),this.handleRetry=this.handleRetry.bind(this)}UNSAFE_componentWillMount(){const e=y.get(this.props,"controller.serviceId"),t=y.get(c.GATEWAY_SERVICES_LIST,[e,"authType"]);this.setState({authType:t,loading:y.isEqual(t,d.OAUTH2)})}componentDidMount(){this.state.authType===d.OAUTH2&&this.handleOauthFlow()}componentWillUnmount(){this.state.oauthState===d.INITIATED&&this.handleOauthCancel(!1)}async handleOauthFlow(){const e=y.get(this.props,"controller.serviceId");this.setState({oauthState:d.INITIATED,loading:!1});try{let t,s={sessionId:await p.default.handleInitiateOAuth(e)};this.setState({pollingParams:s}),t=await p.default.pollForToken(s),t&&this.setState({oauthDetails:t,oauthState:d.SUCCESS})}catch(e){this.setState({oauthState:d.FAILED}),pm.logger.error("Something went wrong during OAuth flow",e)}}handleOauthCancel(e){const t=this.state.pollingParams,s=y.get(this.props,"controller.serviceId");t.cancelOauth=!0,this.setState({pollingParams:t}),e&&m.default.closeByRoute(g.GATEWAY_IMPORT_URL,{serviceId:s})}handleRetry(){this.handleOauthFlow()}render(){const{serviceId:e,classId:t,workspaceId:s,serviceName:n,sourceIdentifier:o,apiId:p,apiVersionId:m}=this.props.controller;return this.state.loading?i.createElement("div",{className:"integrations-page-container"},i.createElement(f.default,null)):this.state.authType===d.OAUTH2&&this.state.oauthState===d.INITIATED?i.createElement("div",null,i.createElement(u.default,{serviceId:e,serviceName:n,cancelOauth:this.handleOauthCancel})):this.state.authType===d.OAUTH2&&this.state.oauthState===d.FAILED?i.createElement(h.default,{selectedServiceName:n,retryHandler:this.handleRetry,selectedService:e}):i.createElement("div",{className:"integrations-page-container"},i.createElement("div",{className:"integrations-add"},i.createElement("div",{className:"integrations-add-card"},i.createElement("div",null,i.createElement(r.default,{type:"h1",text:`Import API${o===c.CREATE_API_MODAL?" Definition":""}\n                    from ${n||"API Gateway"}`}),i.createElement(l.default,{type:"lead",className:"integrations-add-card__description"},`Import definitions from ${n} and view deployment status and history directly from Postman.`)),i.createElement(a.default,{rule:t,serviceId:e,workspaceId:s,serviceName:n,sourceIdentifier:o,accessToken:y.get(this.state,"oauthDetails.accessToken"),refreshToken:y.get(this.state,"oauthDetails.refreshToken"),iconUrl:c.GATEWAY_SERVICES_LIST[e].iconUrl,darkIconUrl:c.GATEWAY_SERVICES_LIST[e].darkIconUrl,apiId:p,apiVersionId:m}))))}})||n},"./integrations/api-observability/controllers/GatewayImportController.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var n,i,o,a,r,l,c=s("./appsdk/workbench/BaseWorkbenchController.js"),d=(s("./node_modules/lodash/lodash.js"),s("../../node_modules/mobx/lib/mobx.module.js")),u=s("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js");function h(e,t,s,n){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(n):void 0})}function p(e,t,s,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,n){return n(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let m=(n=class extends c.default{constructor(...e){super(...e),h(this,"serviceId",i,this),h(this,"ruleId",o,this),h(this,"workspaceId",a,this),h(this,"serviceName",r,this),h(this,"sourceIdentifier",l,this)}modifySource(e){this.sourceIdentifier=e}getServiceName(e){const t=u.GATEWAY_SERVICES_LIST[e];return t?t.serviceName:u.DEFAULT_SERVICE_NAME}didCreate({routeParams:e={},queryParams:t={},additionalContext:s={}}){this.serviceId=e.serviceId,this.classId=t.classId,this.workspaceId=s.workspaceId,this.sourceIdentifier=t.sourceIdentifier,this.apiId=s.apiId,this.apiVersionId=s.apiVersionId,this.serviceName=this.getServiceName(this.serviceId),this.setTitle(`Import API${this.sourceIdentifier===u.CREATE_API_MODAL?" Definition":""} from ${this.serviceName}`)}didQueryParamsChange(e={}){this.classId=e.classId,this.modifySource(e.sourceIdentifier)}},i=p(n.prototype,"serviceId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=p(n.prototype,"ruleId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=p(n.prototype,"workspaceId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),r=p(n.prototype,"serviceName",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=p(n.prototype,"sourceIdentifier",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p(n.prototype,"modifySource",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"modifySource"),n.prototype),n)},"./integrations/api-observability/gateway-actions.js":function(e,t,s){s.r(t),s.d(t,{FETCH_API_GATEWAY_META:function(){return i},FETCH_AWS_GATEWAY_APIS:function(){return n},FETCH_EXTERNAL_ID:function(){return a},FETCH_STAGES:function(){return o}});const n="fetch-aws-gateway-apis",i="fetch-api-gateway-meta",o="fetch-stages",a="fetch-external-id"},"./integrations/api-observability/oauth/GatewayOauthConnectingView.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");let r=(0,o.observer)(n=class extends i.Component{constructor(e){super(e),this.state={}}render(){const{serviceId:e,serviceName:t}=this.props;return i.createElement("div",{className:"connect-api-gateway-tab"},i.createElement("div",{className:"api-gateway-connecting"},i.createElement("div",{className:"api-gateway-connecting__illustration_wrapper"},i.createElement("div",{className:`api-gateway-connecting__illustration__${e}`})),i.createElement("span",{className:"api-gateway-connecting__text-primary"},"Connecting to ",t,"..."),i.createElement("span",{className:"api-gateway-connecting__text-secondary"},"This may take up to 60 seconds."),i.createElement(a.default,{className:"api-gateway-connecting__cancel-btn",type:"outline",text:"Cancel",onClick:()=>{this.props.cancelOauth(!0)}})))}})||n},"./integrations/api-observability/oauth/GatewayOauthFailedView.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),r=s("./api-dev/components/common/ErrorHandler/ErrorHandler.js");let l=(0,o.observer)(n=class extends i.Component{render(){const{selectedServiceName:e}=this.props;return i.createElement("div",{className:"connect-api-gateway-tab"},i.createElement(r.default,{blankState:i.createElement(a.default,null),title:`${e} authorization failed`,description:"Please try again.",handler:this.props.retryHandler,buttonText:"Try Again",buttonType:"outline"}))}})||n},"./integrations/api-observability/services/ApiGatewayService.js":function(e,t,s){s.r(t);var n=s("./node_modules/lodash/lodash.js"),i=s.n(n),o=(s("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),s("./integrations/api-observability/services/GatewayIntegrationsService.js")),a=s("./integrations/api-observability/constants.ts"),r=s("./integrations/api-observability/gateway-actions.js");t.default={fetchApiGateways:e=>o.default.performPreConfigAction(i().get(e,"rule"),e,r.FETCH_AWS_GATEWAY_APIS).then((e=>{if(e.status&&200===e.status)return Promise.resolve(i().get(e.body,"data.Items")||i().get(e.body,"data.items"));throw e})).catch((e=>Promise.reject(e))),fetchApiGatewaysUsingIntegrationId:e=>o.default.performAction(e,{},r.FETCH_AWS_GATEWAY_APIS).then((e=>{if(e.status&&200===e.status)return Promise.resolve(i().get(e.body.data,"Items")||i().get(e.body.data,"items"));throw e})).catch((e=>Promise.reject(e))),fetchDeployments:e=>o.default.listDeployments(e).then((e=>{if(e.status&&200===e.status){let t=i().get(e,"body.data.items")||i().get(e,"body.data.Items")||[];return t.sort(((e,t)=>{let s=e.CreatedDate||e.createdDate,n=t.CreatedDate||t.createdDate;return new Date(n)-new Date(s)})),Promise.resolve(t.splice(0,a.AWS_TOTAL_DEPLOYMENTS))}return Promise.reject({statusCode:e.status,...e.body})})).catch((e=>Promise.reject(e))),fetchAPIGatewayMeta:e=>o.default.performAction(e,{},r.FETCH_API_GATEWAY_META).then((e=>e.status&&200===e.status?Promise.resolve(i().get(e.body,"data")):Promise.reject({statusCode:e.status,...e.body}))).catch((e=>Promise.reject(e))),fetchStages:e=>o.default.performAction(e,{},r.FETCH_STAGES).then((e=>{if(e.status&&200===e.status)return Promise.resolve(i().get(e.body,"data.Items")||i().get(e.body,"data.item"));throw e})).catch((e=>Promise.reject(e))),fetchCloudWatchAggregateMetrics:(e,t)=>new Promise(((s,n)=>{o.default.performAction(e,{stage:t},a.FETCH_CLOUDWATCH_AGGREGATE_METRICS).then((e=>{s(i().get(e,"body.data"))})).catch((e=>{n(e)}))})),fetchCloudWatchTimeSeriesMetrics:(e,t)=>o.default.performAction(e,t,a.FETCH_CLOUDWATCH_TIMESERIES_METRICS),fetchExternalId:e=>new Promise(((t,s)=>{o.default.performPreConfigAction(i().get(e,"rule"),e,r.FETCH_EXTERNAL_ID).then((e=>{t(i().get(e,"body.data.externalId"))})).catch((e=>{s(e)}))})),deploySchema:(e,t)=>o.default.createDeployment(e,t),fetchPostmanExports:e=>o.default.listDeployments(e,!1,!0).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body.data);throw e})).catch((e=>Promise.reject(e))),isDeployEnabled:(e,t)=>i().get(e,"variables.aws_api_type")===a.API_GATEWAY_TYPES.HTTP,isOverviewEnabled:e=>!0,fetchDeployOptionString:e=>o.default.performAction(e,{},r.FETCH_API_GATEWAY_META).then((e=>{if(e.status&&200===e.status)return Promise.resolve(`Deploy Schema on ${i().get(e,"body.data.Name")||i().get(e,"body.data.name")}`);throw e})).catch((e=>Promise.reject(e)))}},"./integrations/api-observability/services/AzureService.js":function(e,t,s){s.r(t);var n=s("./node_modules/lodash/lodash.js"),i=s.n(n),o=s("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts"),a=s("./integrations/api-observability/services/GatewayIntegrationsService.js"),r=s("./integrations/api-observability/constants.ts"),l=s("./integrations/utils/CommonHelperMethods.ts");t.default={fetchServicesMeta:(e=[],t)=>Promise.all(i().map(e,(e=>{const{azure_resource_group_id:s,azure_subscription_id:n,azure_service_id:i}=e,o={azure_subscription_id:n,azure_resource_group_id:s,azure_service_id:i};return a.default.performAction(t,o,r.AZURE_GATEWAY_ACTIONS.GET_SERVICE_META)}))).then((e=>{const t={};return i().each(e,(e=>{if(200!==e.status)throw e;{const s=i().get(e,"body.data");t[i().get(e,"body.data.id")]={id:i().get(s,"id"),name:i().get(s,"name"),location:i().get(s,"location"),gatewayUrl:i().get(s,"properties.gatewayUrl"),developerPortalUrl:i().get(s,"properties.developerPortalUrl"),publicIPAddresses:i().get(s,"properties.publicIPAddresses"),privateIPAddresses:i().get(s,"properties.privateIPAddresses")}}})),Promise.resolve(t)})).catch((e=>Promise.reject(e))),fetchApiMeta:(e,t)=>{const{azure_resource_group_id:s,azure_subscription_id:n,azure_service_id:o,azure_api_id:l}=e,c={azure_subscription_id:n,azure_resource_group_id:s,azure_service_id:o,azure_api_id:l};return a.default.performAction(t,c,r.AZURE_GATEWAY_ACTIONS.GET_API_META).then((e=>{if(200===e.status){const t=i().get(e,"body.data"),s={id:i().get(t,"id"),name:i().get(t,"properties.displayName"),version:i().get(t,"properties.apiVersion")};return Promise.resolve(s)}throw e})).catch((e=>Promise.reject(e)))},fetchServiceMeta:(e,t)=>{const{azure_resource_group_id:s,azure_subscription_id:n,azure_service_id:o}=e,l={azure_subscription_id:n,azure_resource_group_id:s,azure_service_id:o};return a.default.performAction(t,l,r.AZURE_GATEWAY_ACTIONS.GET_SERVICE_META).then((e=>{if(200===e.status){const t=i().get(e,"body.data"),s={id:i().get(t,"id"),name:i().get(t,"name"),location:i().get(t,"location"),gatewayUrl:i().get(t,"properties.gatewayUrl"),developerPortalUrl:i().get(t,"properties.developerPortalUrl"),publicIPAddresses:i().get(t,"properties.publicIPAddresses"),privateIPAddresses:i().get(t,"properties.privateIPAddresses")};return Promise.resolve(s)}throw e})).catch((e=>Promise.reject(e)))},fetchSubscriptionMeta:(e,t)=>{const{azure_subscription_id:s}=e,n={azure_subscription_id:s};return a.default.performAction(t,n,r.AZURE_GATEWAY_ACTIONS.GET_SUBSCRIPTION_META).then((e=>{if(200===e.status){const t=i().get(e,"body.data"),s={id:i().get(t,"subscriptionId"),name:i().get(t,"displayName")};return Promise.resolve(s)}throw e})).catch((e=>Promise.reject(e)))},fetchSubscriptionsMeta:(e=[],t)=>Promise.all(i().map(e,(e=>{const{azure_subscription_id:s}=e,n={azure_subscription_id:s};return a.default.performAction(t,n,r.AZURE_GATEWAY_ACTIONS.GET_SUBSCRIPTION_META)}))).then((e=>{const t={};return i().each(e,(e=>{if(200!==e.status)throw e;{const s=i().get(e,"body.data");t[i().get(e,"body.data.subscriptionId")]={id:i().get(s,"subscriptionId"),name:i().get(s,"displayName")}}})),Promise.resolve(t)})).catch((e=>Promise.reject(e))),fetchChangelog:(e,t)=>{const{azure_resource_group_id:s,azure_subscription_id:n,azure_service_id:o,azure_api_id:c}=e,d={azure_subscription_id:n,azure_resource_group_id:s,azure_service_id:o,azure_api_id:c};return a.default.performAction(t,d,r.AZURE_GATEWAY_ACTIONS.LIST_API_RELEASES).then((e=>{if(200===e.status){const t=i().get(e,"body.data"),s=i().map(t.value,(e=>({createdAt:(0,l.formatUtcDate)(i().get(e,"properties.createdDateTime")),updatedAt:(0,l.formatUtcDate)(i().get(e,"properties.updatedDateTime")),description:i().get(e,"properties.notes")})));return Promise.resolve(s)}throw e})).catch((e=>Promise.reject(e)))},fetchExports:(e,t)=>o.HTTPGatewayService.request({data:{service:"integrations",method:"get",path:`/gateway-integrations/${t}/list`,query:{exportOnly:!0,internal:!0,azure_api_path:i().get(e,"azure_api_path")}}}).then((e=>{if(200==e.status&&i().get(e,"body.data")){const t=i().map(e.body.data,(e=>({createdAt:(0,l.formatUtcDate)(e.createdAt),azure_api_path:i().get(e,"data.azure_api_path"),azure_revision_id:i().get(e,"data.azure_revision_id"),schemaSource:i().get(e,"data.schemaSource")})));return Promise.resolve(t)}throw e})).catch((e=>Promise.reject(e))),fetchRevisions:(e,t)=>{const{azure_resource_group_id:s,azure_subscription_id:n,azure_service_id:o,azure_api_id:c}=e,d={azure_subscription_id:n,azure_resource_group_id:s,azure_service_id:o,azure_api_id:c};return a.default.performAction(t,d,r.AZURE_GATEWAY_ACTIONS.LIST_API_REVISIONS).then((e=>{if(200===e.status){const t=i().get(e,"body.data"),s=(i().map(t.value,(e=>({azure_revision_id:i().get(e,"apiRevision"),createdAt:(0,l.formatUtcDate)(i().get(e,"createdDateTime")),description:i().get(e,"description"),privateUrl:i().get(e,"privateUrl"),isOnline:{value:i().get(e,"isOnline"),azure_revision_id:i().get(e,"apiRevision"),isDisabled:!1,disabledText:e.isCurrent&&"Current revision cannot be made offline."},isCurrent:{value:i().get(e,"isCurrent"),azure_revision_id:i().get(e,"apiRevision"),isDisabled:!1,disabledText:e.isCurrent&&"Current revision cannot be disabled."}})))||[]).reduce(((e,t)=>t.isCurrent.value?[t,...e]:[...e,t]),[]);return Promise.resolve(s||[])}throw e})).catch((e=>Promise.reject(e)))},toggleOnlineRevision:(e,t,s=!1,n)=>{const{azure_resource_group_id:i,azure_subscription_id:o,azure_service_id:l,azure_api_id:c,azure_api_path:d}=e,u={azure_subscription_id:o,azure_resource_group_id:i,azure_service_id:l,azure_api_id:c,azure_api_path:d,azure_revision_id:t,azure_revision_action_type:"toggle-revision-status",azure_revision_online:s};return a.default.performAction(n,u,r.AZURE_GATEWAY_ACTIONS.PERFORM_REVISION_ACTION).then((e=>{if(200===e.status)return Promise.resolve(e);throw e})).catch((e=>Promise.reject(e)))},toggleCurrentRevision:(e,t,s,n)=>{const{azure_resource_group_id:i,azure_subscription_id:o,azure_service_id:l,azure_api_id:c,azure_api_path:d}=e,u={azure_subscription_id:o,azure_resource_group_id:i,azure_service_id:l,azure_api_id:c,azure_api_path:d,azure_revision_id:t,azure_release_notes:s,azure_revision_action_type:"make-revision-current"};return a.default.performAction(n,u,r.AZURE_GATEWAY_ACTIONS.PERFORM_REVISION_ACTION).then((e=>{if(200===e.status)return Promise.resolve(e);throw e})).catch((e=>Promise.reject(e)))},fetchRevisionMapping:(e,t,s)=>{const n=i().map(t,(e=>e.azure_revision_id)),{azure_api_path:o}=e,l={azure_api_path:o,azure_revisions:n,integrationId:s};return a.default.performAction(s,l,r.AZURE_GATEWAY_ACTIONS.GET_REVISION_SOURCE_MAPPING).then((e=>{if(200===e.status)return Promise.resolve(i().get(e,"body.data"));throw e})).catch((e=>Promise.reject(e)))},isDeployEnabled:(e,t)=>t!==r.RELEASE_CONTEXTBAR,deploySchema:(e,t)=>a.default.createDeployment(e,t),fetchSubscriptions:(e,t,s)=>new Promise(((n,o)=>{a.default.performPreConfigAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().map(t,(e=>({label:e.displayName,value:e.subscriptionId})));n(s)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Subscriptions"),pm.logger.error("Something went wrong while fetching Azure Subscriptions",e),o(e)}))})),fetchSubscriptionsWithIntegrationId:(e,t,s)=>new Promise(((n,o)=>{a.default.performAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().map(t,(e=>({label:e.displayName,value:e.subscriptionId})));n(s)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Subscriptions",e),o(e)}))})),fetchResourceGroups:(e,t,s)=>new Promise(((n,o)=>{a.default.performPreConfigAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().map(t,(e=>({label:e.name,value:e.name})));n(s)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Resource Groups"),pm.logger.error("Something went wrong while fetching Azure Resource Groups",e),o(e)}))})),fetchResourceGroupsWithIntegrationId:(e,t,s)=>new Promise(((n,o)=>{a.default.performAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().map(t,(e=>({label:e.name,value:e.name})));n(s)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Resource Groups",e),o(e)}))})),fetchServices:(e,t,s)=>new Promise(((n,o)=>{a.default.performPreConfigAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().map(t,(e=>({label:e.name,value:e.name,path:e.id})));n(s)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Services"),pm.logger.error("Something went wrong while fetching Azure Services",e),o(e)}))})),fetchServicesWithIntegrationId:(e,t,s)=>new Promise(((n,o)=>{a.default.performAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().map(t,(e=>({label:e.name,value:e.name,path:e.id})));n(s)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Services",e),o(e)}))})),fetchApis:(e,t,s)=>new Promise(((n,o)=>{a.default.performPreConfigAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().filter(t,(e=>!i().get(e,"properties.type")||"http"===i().get(e,"properties.type"))),o=i().map(s,(e=>({label:e.name,value:e.name,path:e.id})));n(o)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure APIs"),pm.logger.error("Something went wrong while fetching Azure APIs",e),o(e)}))})),fetchApisWithIntegrationId:(e,t,s)=>new Promise(((n,o)=>{a.default.performAction(e,t,s).then((e=>{let t=i().get(e,"body.data.value",[]),s=i().filter(t,(e=>!i().get(e,"properties.type")||"http"===i().get(e,"properties.type"))),o=i().map(s,(e=>({label:e.name,value:e.name,path:e.id})));n(o)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure APIs",e),o(e)}))})),fetchSchema:(e,t,s)=>{const{azure_resource_group_id:n,azure_subscription_id:o,azure_service_id:l,azure_api_id:c}=t,d={azure_subscription_id:o,azure_resource_group_id:n,azure_service_id:l,azure_api_id:c,azure_export_format:s};return a.default.performAction(e,d,r.AZURE_GATEWAY_ACTIONS.EXPORT_API).then((e=>{if(200===e.status){const t=i().get(e,"body.data.versions.0.schemas.0"),s={content:i().get(t,"schema",""),language:i().get(t,"language"),type:i().get(t,"type")};return Promise.resolve(s)}throw new Error("Something went wrong while fetching schema")})).catch((e=>Promise.reject(e)))}}},"./integrations/api-observability/services/GatewayIntegrationsService.js":function(e,t,s){s.r(t);var n=s("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts");t.default={createDeployment:(e,t)=>n.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/${e}/deploy`,body:t}}),listDeployments:(e,t=!1,s=!1)=>{const i={};return t&&(i.exportOnly=!0,i.internal=!0),s&&(i.internal=!0),n.HTTPGatewayService.request({data:{service:"integrations",method:"get",path:`/gateway-integrations/${e}/list`,query:{...i}}})},performAction:(e,t,s)=>n.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/${e}/actions/${s}`,body:t}}),performPreConfigAction:(e,t,s)=>n.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/actions/${s}`,body:{...t,classId:e}}})}},"./integrations/api-observability/services/Helper.js":function(e,t,s){s.r(t);var n=s("./integrations/api-observability/services/index.js"),i=s("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),o=s("./integrations/api-observability/constants.ts"),a=s("./js/modules/services/AnalyticsService.js"),r=s("./node_modules/async/dist/async.js"),l=s.n(r),c=s("./js/stores/StoreManager.js"),d=s("./js/stores/SyncStatusStore.js"),u=s("./js/stores/CurrentUserStore.js"),h=s("./onboarding/src/common/LaunchDarkly.js"),p=s("./api-dev/constants/Permissions.js"),m=s("./api-dev/services/APIPermissionService.js"),g=s("./api-dev/interfaces/APIInterface.js"),f=s("./api-dev/services/APIDevService.js"),y=s("./node_modules/lodash/lodash.js");t.default={shouldRenderDeploy:(e,t)=>!!(e&&e.rule&&n.default[e.rule]&&y.isFunction(n.default[e.rule].isDeployEnabled))&&n.default[e.rule].isDeployEnabled(e,t),getDeployOptionContext:(e,t)=>{if(!e)return t("API version missing");l().waterfall([function(t){return i.default.getConfiguredIntegrationsByEntityAndClientCategory("apiversion",e,[o.API_OBSERVABILITY]).then((e=>e[o.API_OBSERVABILITY].length>0?t(null,e[o.API_OBSERVABILITY][0]):t(null,null))).catch((e=>t(e)))},function(e,t){return e&&e.rule?n.default[e.rule]&&y.isFunction(n.default[e.rule].fetchDeployOptionString)?n.default[e.rule].fetchDeployOptionString(e.id).then((s=>t(null,{integration:e,deployString:s}))).catch((s=>t(null,{integration:e,deployString:"Deploy Schema"}))):t(null,{integration:e,deployString:"Deploy Schema"}):t(null,{integration:null,deployString:"Deploy Schema"})}],((e,s)=>(e&&(pm.logger.error("Error occurred while fetching configured integration",e),pm.toasts.error("Error occurred while fetching configured integration")),t(e,s))))},shouldRenderGatewayIntegration:e=>{const t=(0,c.resolveStoreInstance)(u.default).isLoggedIn||!1,s=y.get(e,"apiPermissionStore.canViewAPIIntegrations",!1),n=h.launchDarkly.getFlag("api-deployments-tab-enabled",!1);return!!(t&&s&&n)},truncate:e=>e.length>35?e.substring(0,35)+"...":e,addDeployClickAnalytics:(e,t)=>{e&&e.rule&&a.default.addEventV2({category:"gateway-integration",action:t,label:e.rule,value:1})},hasEditPermissionOnAPI:e=>e?(0,c.resolveStoreInstance)(d.default).onSyncAvailable({timeout:8e3}).then((()=>{const t=(0,c.resolveStoreInstance)(u.default).id,s=[p.UPDATE_API_META],n=m.default.getAPIPermissionQueryObject(s,[{id:e}],t);return m.default.fetchPermissions(n).then((t=>Promise.resolve(y.get(t,`${e}:UPDATE_API_META.allowed`)))).catch((e=>{throw e}))})).catch((e=>Promise.reject(e))):Promise.reject("API id is required to fetch permissions"),fetchAPIDetails:async e=>{if(!e)return{};try{let t=await(0,g.getAPI)(e),s=await(0,g.isAPIGitLinked)(e),n={apiDetails:t,isGitIntegrationLinked:s,apiDefinition:{}};if(s){const t=await(0,g.getAPILinkedEntityModel)(e,{name:"branch"},"apiDefinition","");return n=y.merge({},n,{apiDefinition:t}),n}return n}catch(e){return Promise.reject(e)}},isSchemaPresent:(e,t)=>f.default.getRelations(e,t).then((e=>{const t=y.get(e,"apiDefinition")&&y.get(y.keys(e.apiDefinition),0),s=y.get(e,"schema")&&y.get(y.keys(e.schema),0);return!y.isEmpty(t)||!y.isEmpty(s)})).catch((e=>Promise.reject(e))),addAzureServicesAnalytics:e=>{const t=y.get(e,"rule",""),s=y.get(e,"variables.linked_apis",[]),n=y.size(s)||0;a.default.addEventV2({category:o.GATEWAY_INTEGRATION_ANALYTICS_EVENT_CATEGORY,action:o.AZURE_APIM.SERVICE_ANALYTICS_ACTION,label:t,value:n})}}},"./integrations/api-observability/services/index.js":function(e,t,s){s.r(t);var n=s("./integrations/api-observability/services/ApiGatewayService.js"),i=s("./integrations/api-observability/services/AzureService.js");t.default={api_gateway_aws:n.default,api_management_azure:i.default}},"./integrations/components/OAuthComponent.js":function(e,t,s){s.r(t),s.d(t,{AuthorizationErrorView:function(){return y},AuthorizingView:function(){return f}});var n=s("./node_modules/prop-types/index.js"),i=s.n(n),o=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),c=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),d=s("../../node_modules/react/index.js");const u=c.default.div`
    overflow: auto;
    padding: var(--spacing-xxl);
    display: flex;
    align-items: center;
    flex-direction: column;
  `,h=c.default.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: var(--spacing-xxxl);
  `,p=c.default.div`
    background-color: var(--background-color-primary);
    width: 60px;
    height: 60px;
    border-radius: var(--border-radius-default);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: var(--spacing-m);
  `,m=c.default.div`
    margin-bottom: var(--spacing-l);
  `,g=c.default.div`
    margin-bottom: var(--spacing-xl);
  `,f=e=>{const{iconName:t,primaryText:s,secondaryText:n,onCancel:i,CustomAuthHandler:r}=e;return d.createElement(u,null,d.createElement(h,null,d.createElement(p,null,d.createElement("div",{className:t,"data-testid":"oauth-icon"})),d.createElement(m,{"data-testid":"oauth-primary-text"},d.createElement(o.default,{color:"content-color-primary",typographyStyle:{fontSize:"text-size-xxl",fontWeight:"text-weight-bold",lineHeight:"line-height-xxl"}},s)),d.createElement(g,{"data-testid":"oauth-secondary-text"},d.createElement(o.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-l"}},n)),r&&r(),d.createElement(a.default,{"data-testid":"oauth-cancel-button",type:"secondary",onClick:i,text:"Cancel"})))},y=e=>{const{title:t,description:s,buttonText:n,onButtonClick:i}=e;return d.createElement(u,null,d.createElement(r.default,{title:t,description:s,secondaryAction:d.createElement(a.default,{type:"outline",text:n,onClick:i,"data-testid":"oauth-error-button"})},d.createElement(l.default,null)))};f.propTypes={iconName:i().string.isRequired,primaryText:i().string.isRequired,secondaryText:i().string.isRequired,onCancel:i().func.isRequired,CustomAuthHandler:i().func},y.propTypes={title:i().string.isRequired,description:i().string.isRequired,buttonText:i().string.isRequired,onButtonClick:i().func.isRequired}},"./integrations/controllers/LocalOAuthCallbackController.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n,i,o,a=s("./appsdk/workbench/BaseWorkbenchController.js"),r=s("../../node_modules/mobx/lib/mobx.module.js"),l=s("./integrations/constants/integrationsConstants.ts"),c=s("./appsdk/workbench/TabService.js"),d=s("./integrations/navigation/constants.js"),u=s("./api-dev/constants/APIRepositoryConstants.js"),h=s("./integrations/git/services/OnPrem/helpers.ts"),p=s("./integrations/git/services/OnPrem/OnPremOAuthService.js"),m=s("./integrations/git/services/OnPrem/OnPremRemoteGitService.js"),g=s("./node_modules/lodash/lodash.js");function f(e,t,s,n){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(n):void 0})}function y(e,t,s,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,n){return n(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let b=(n=class extends a.default{constructor(...e){super(...e),f(this,"serviceConfig",i,this),f(this,"serviceId",o,this)}didCreate({routeParams:e,queryParams:t}){const s=g.get(e,"serviceId"),n=g.get(t,"installedAppId"),i=g.get(t,"customDomain"),o=g.get(l.SERVICE_OAUTH_CONFIG,[s.toUpperCase(),"userFriendlyServiceName"]),a=g.get(l.SERVICE_OAUTH_CONFIG,s.toUpperCase());this.serviceConfig=a,this.serviceName=o,this.serviceId=s,this.installedAppId=n,this.customDomain=i,this.closeTab=this.closeTab.bind(this),this.cancelFlow=this.cancelFlow.bind(this)}async triggerOauth(){try{const e=g.get(u.GIT_SERVICES_LIST,[this.serviceId.toUpperCase(),"oauthConfigs","authenticationClass"]),t=await(0,h.getOAuthAppData)(this.installedAppId,e),s={customDomain:this.customDomain,service:g.get(u.GIT_SERVICES_LIST,[this.serviceId.toUpperCase(),"serviceName"]),...t},n=await p.default.authorizeUser(s);let i={};try{const e={customDomain:this.customDomain,accessToken:n.accessToken,service:g.get(u.GIT_SERVICES_LIST,[this.serviceId.toUpperCase(),"serviceName"])};i=await m.default.getUser(e)}catch(e){}pm.mediator.trigger("APIGitOnPremOAuthCallbackReceived",null,n,i),this.closeTab()}catch(e){throw pm.mediator.trigger("APIGitOnPremOAuthCallbackReceived",e),e}}cancelFlow(){return pm.mediator.trigger("APIGitOnPremOAuthCallbackReceived",null,null),this.closeTab()}closeTab(){c.default.closeByRoute(d.OAUTH_AUTHENTICATE_URL,this.getRouteParams())}},i=y(n.prototype,"serviceConfig",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=y(n.prototype,"serviceId",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)},"./integrations/controllers/OauthReauthenticateController.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var n,i,o,a,r,l,c=s("./appsdk/workbench/BaseWorkbenchController.js"),d=s("../../node_modules/mobx/lib/mobx.module.js"),u=s("./integrations/constants/integrationsConstants.ts"),h=s("./appsdk/workbench/TabService.js"),p=s("./integrations/navigation/constants.js"),m=s("./js/modules/services/AnalyticsService.js"),g=s("./integrations/git/stores/helpers.js"),f=s("./node_modules/lodash/lodash.js");function y(e,t,s,n){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(n):void 0})}function b(e,t,s,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,n){return n(e,t,s)||s}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let x=(n=class extends c.default{constructor(...e){super(...e),y(this,"serviceConfig",i,this),y(this,"tokenId",o,this),y(this,"queryParamData",a,this),y(this,"eventName",r,this),y(this,"serviceId",l,this)}updateQueryParamData(e){f.has(e,"eventName")?(this.eventName=e.eventName,this.queryParamData=f.omit(e,"eventName")):this.queryParamData=e}didCreate({routeParams:e,queryParams:t}){const s=f.get(e,"serviceId"),n=f.get(u.SERVICE_OAUTH_CONFIG,f.upperCase(s));this.serviceConfig=n,this.serviceId=s,this.tokenId=f.get(e,"tokenId"),this.apiId=f.get(t,"apiId"),this.apiVersionId=f.get(t,"apiVersionId"),this.authType=f.get(t,"authType"),"new"===this.tokenId&&(this.tokenId=null),this.updateQueryParamData(t),this.closeTab=this.closeTab.bind(this),this.reauthorizationCompletedCallback=this.reauthorizationCompletedCallback.bind(this)}reauthorizationCompletedCallback(){m.default.addEventV2({category:"integration-re-authentication",action:"re_authentication_successful",label:f.get(this.serviceConfig,"service")}),this.queryParamData.refreshGitIntegrations&&(0,g.hydrateSingleAPI)(this.apiId).then((()=>{(0,g.hydrateAuthLinkedAPI)({updatedService:this.serviceId},this.apiId)})),pm.windowEvents.emit(this.eventName,(0,d.toJS)(this.queryParamData))}closeTab(){h.default.closeByRoute(p.OAUTH_REAUTHENTICATE_URL,this.getRouteParams())}didQueryParamsChange(e){this.updateQueryParamData(e)}},i=b(n.prototype,"serviceConfig",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=b(n.prototype,"tokenId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=b(n.prototype,"queryParamData",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=b(n.prototype,"eventName",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.DEFAULT_REAUTHENTICATION_COMPLETED_EVENT_NAME}}),l=b(n.prototype,"serviceId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(n.prototype,"updateQueryParamData",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"updateQueryParamData"),n.prototype),n)},"./integrations/proxy/components/AddSessionRequestToCollection.js":function(e,t,s){s.r(t),s.d(t,{AddSessionRequestToCollection:function(){return k}});var n,i=s("../../node_modules/react/index.js"),o=s("./node_modules/classnames/index.js"),a=s.n(o),r=s("./runtime-repl/_common/components/CollectionExplorer/Explorer.js"),l=s("./js/modules/services/AnalyticsService.js"),c=s("./integrations/proxy/helpers/analyticsEventUtils.js"),d=s("./runtime-repl/collection/CollectionTreeUtil.js"),u=s("./js/stores/StoreManager.js"),h=s("./js/stores/ActiveWorkspaceStore.js"),p=s("./runtime-repl/collection/_api/CollectionStoreV2.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=s("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),f=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),y=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),b=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),x=s("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),S=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),_=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),v=s("./integrations/proxy/services/ProxySessionService.js"),E=s("./runtime-repl/collection/_api/CollectionInterface.js"),w=s("./node_modules/uuid/v4.js"),C=s.n(w),I=s("./integrations/proxy/helpers/constants.ts"),T=s("./node_modules/lodash/lodash.js");const A=["edit"],P=pm.logger.getContext("AddSessionRequestToCollection","client-integrations");let k=(0,_.observer)(n=class extends i.Component{constructor(e){super(e),this.getClassNames=()=>a()("addrequest-top-container-modal"),this.getCollections=()=>T.flatMap(this.state.collectionList,d.flattenCollection),this.getCustomStyles=()=>({margin:"auto"}),this.handleSelect=e=>{this.setState({isTargetSelected:!0,targetUid:T.get(e,"uid"),targetName:T.get(e,"name")})},this.getCreateRowPlaceholder=()=>"Name your collection",this.handleCancel=()=>{this.setState({isTargetSelected:!0,targetUid:null,targetName:null}),this.props.handleCloseModal&&this.props.handleCloseModal()},this.handleBack=()=>{this.setState({isTargetSelected:!1,targetUid:null,targetName:null,groupByDomain:!1,groupByEndpoint:!1})},this.handleSave=()=>{const{addToast:e,requestIdList:t,sessionId:s,source:n,clearSelectedRequests:o}=this.props,{groupByDomain:a,groupByEndpoint:r,targetUid:d,targetName:u}=this.state,h={collectionId:d,collectionName:u,requestList:t,groupByDomain:a,groupByEndpoint:r,operationId:C()()},p=!h.collectionId;this.props.handleCloseModal&&this.props.handleCloseModal(),e({status:"info",description:`${T.size(t)} requests are being added to the collection '${this.state.targetName}'. You will be notified when all the requests are added`}),p&&l.default.addEventV2({category:n,action:I.CREATE_COLLECTION_ACTION_NAME,label:"post-session",traceId:s}),v.default.addRequestsToCollection(h,s),o(),v.default.getAddToCollectionStatus(s,h.operationId,((t,{updatedCollectionId:o})=>{if(this.setState({targetUid:o}),t)return pm.logger.error("AddSessionRequestToCollection ~ Something went wrong while adding requests to collection.",t,{context:P}),void e({title:"Error",status:"error",description:"Couldn’t add requests to the collection. Please try again."});p&&l.default.addEventV2({category:n,action:I.SUCCESSFULLY_CREATED_COLLECTION_EVENT,label:"post-session",traceId:s,entityId:o}),e({title:"Requests are added to collection",status:"success",description:i.createElement(i.Fragment,null,`${T.size(this.props.requestIdList)} requests got added to '${this.state.targetName}' collection.`,i.createElement(m.default,{onClick:()=>{(0,E.openCollectionInTab)(o)},type:"monochrome-plain",text:"View now"}))})})),l.default.addEventV2({category:(0,c.default)({source:n}),action:"requests-added-to-collection",value:T.size(t),label:"post-session",traceId:s}),this.state.groupByDomain&&l.default.addEventV2({category:(0,c.default)({source:n}),action:"organise-by-domain",label:"post-session",traceId:s}),this.state.groupByEndpoint&&l.default.addEventV2({category:(0,c.default)({source:n}),action:"organise-by-endpoint",label:"post-session",traceId:s})},this.toggleGroupingSettings=e=>{this.setState((t=>({[e]:!t[e]})))},this.openNewCollectionRow=()=>{this.explorerRef.current.handleStartCreate()},this.handleCreateNewCollection=e=>{this.setState({isTargetSelected:!0,targetUid:null,targetName:e})},this.state={isTargetSelected:!1,targetUid:null,targetName:null,groupByDomain:!1,groupByEndpoint:!1,collectionList:null},this.explorerRef=i.createRef()}async componentDidMount(){const e=(0,u.resolveStoreInstance)(h.default).id,t=await(0,p.subscribeMeta)(e,{permissions:A});this.setState({collectionList:t.list})}componentWillUnmount(){this.collectionList&&this.collection.unsubscribe&&this.collectionList.unsubscribe()}render(){const e=`Save ${T.size(this.props.requestIdList)} request${T.size(this.props.requestIdList)>0?"s":""}`;return i.createElement(g.Modal,{className:this.getClassNames(),isOpen:this.props.isOpen,customStyles:this.getCustomStyles(),onClose:this.handleCancel,size:"medium"},i.createElement(g.ModalHeader,{heading:e}),i.createElement(g.ModalContent,null,this.state.isTargetSelected?i.createElement(f.default,{direction:"column",gap:"spacing-l"},i.createElement(f.default,{direction:"row",gap:"spacing-s",alignItems:"center"},i.createElement(b.default,{type:"body-medium"},"Save ",T.size(this.props.requestIdList)," request",T.size(this.props.requestIdList)>0?"s":""," to ",this.state.targetName)),i.createElement(f.default,{direction:"column",gap:"spacing-s"},i.createElement(y.default,{text:"Organize requests by"}),i.createElement(x.default,{isChecked:this.state.groupByDomain,label:"Domain name",onChange:()=>{this.toggleGroupingSettings("groupByDomain")}}),i.createElement(x.default,{isChecked:this.state.groupByEndpoint,label:"Endpoints",onChange:()=>{this.toggleGroupingSettings("groupByEndpoint")}}))):i.createElement(f.default,{direction:"column",height:"100%",gap:"spacing-s"},i.createElement(f.default,{direction:"row",gap:"spacing-s"},i.createElement(y.default,{text:"Select a collection to save to",type:"primary"})),i.createElement(f.default,{direction:"column",gap:"spacing-s",height:"90%"},i.createElement(r.default,{createPlaceholder:this.getCreateRowPlaceholder,isLeaf:()=>!1,leafIcon:T.noop,targets:this.getCollections(),onFilter:T.noop,cancelCreate:T.noop,onCreate:this.handleCreateNewCollection,onSelect:this.handleSelect,ref:this.explorerRef,searchPlaceholder:"Search for collection"})))),i.createElement(g.ModalFooter,null,this.state.isTargetSelected?i.createElement(f.default,{direction:"row",gap:"spacing-m",grow:1,shrink:1,justifyContent:"flex-end"},i.createElement(m.default,{type:"secondary",size:"medium",onClick:this.handleBack,text:"Back"}),i.createElement(m.default,{isDisabled:!1,type:"primary",size:"medium",onClick:this.handleSave,text:"Save"})):i.createElement(f.default,{width:"100%",direction:"row",justifyContent:"space-between"},i.createElement(m.default,{type:"muted-plain",size:"medium",onClick:this.openNewCollectionRow,text:"New collection"}),i.createElement(m.default,{type:"secondary",size:"medium",onClick:this.handleCancel,text:"Cancel"}))))}})||n;t.default=(0,S.default)(k)},"./integrations/proxy/components/CaptureCookieSettings.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var n,i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-info-stroke-small.js"),l=s("../../node_modules/react/index.js"),c=s("./node_modules/prop-types/index.js"),d=s.n(c),u=s("./integrations/proxy/helpers/constants.ts"),h=s("./js/stores/StoreManager.js"),p=s("./integrations/proxy/stores/SessionCookieStore.js"),m=s("../../node_modules/mobx-react/dist/mobx-react.module.js");let g=(0,m.observer)(n=class extends l.Component{constructor(e){super(e),this.sessionCookieStore=(0,h.resolveStoreInstance)(p.default)}render(){return l.createElement(i.default,{direction:"column",gap:"spacing-l"},l.createElement(i.default,{direction:"column",gap:"spacing-s"},l.createElement(i.default,{direction:"row",gap:"spacing-zero",wrap:"wrap-reverse"},l.createElement("div",null,l.createElement(o.default,{isChecked:this.props.source===u.PROXY?this.sessionCookieStore.saveCookiesFlag:this.sessionCookieStore.captureInterceptorCookies,label:"Capture cookies",onChange:e=>{this.props.source===u.PROXY&&this.sessionCookieStore.updateSaveCookiesFlag(e),this.props.source===u.INTERCEPTOR&&this.sessionCookieStore.updateCaptureInterceptorCookiesFlag(e)}})),this.props.infoBadgeText?l.createElement(i.default,{alignItems:"center",justifyContent:"center",padding:{paddingLeft:"spacing-xs"}},l.createElement(a.default,{content:this.props.infoBadgeText,placement:"bottom"},l.createElement(r.default,null))):null)))}})||n;g.propTypes={source:d().string.isRequired,infoBadgeText:d().string}},"./integrations/proxy/components/CaptureProxyResponseSettings.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var n=s("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),o=s("../../node_modules/react/index.js"),a=s("./node_modules/prop-types/index.js"),r=s.n(a);function l(e){const[t,s]=(0,o.useState)(e.saveResponses);return o.createElement(n.default,{content:"The standardised response size followed in Postman is currently\n  limited to 5MB. Saving media type responses are currently not supported.",placement:"top-start",openDelay:"500"},o.createElement("div",null,o.createElement(i.default,{isChecked:t,label:"Save responses for requests",onChange:()=>{return t="saveResponses",void s((s=>{const n=!s;return e.onCaptureResponseSettingToggle&&e.onCaptureResponseSettingToggle(t,n),n}));var t}})))}l.propTypes={saveResponses:r().bool,onCaptureResponseSettingToggle:r().func}},"./integrations/proxy/components/CookiesTable.js":function(e,t,s){s.r(t);var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Search.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),g=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),f=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke.js"),y=s("./js/modules/services/AnalyticsService.js"),b=s("./integrations/proxy/helpers/analyticsEventUtils.js"),x=s("./node_modules/lodash/lodash.js"),S=s.n(x),_=s("./node_modules/moment/moment.js"),v=s.n(_),E=s("./js/stores/StoreManager.js"),w=s("./integrations/proxy/stores/SessionCookieStore.js"),C=s("./integrations/proxy/services/SessionCookieService.js"),I=s("./integrations/proxy/controllers/SessionCookieContoller.js"),T=s("./runtime-repl/cookies/_api/CookieInterface.js"),A=s("./runtime-repl/request-http/_api/RequestInterface.js"),P=s("./appsdk/components/link/Link.js"),k=s("./integrations/proxy/helpers/responseUtil.js"),j=s("./integrations/proxy/helpers/constants.ts");t.default=e=>{const[t,s]=(0,n.useState)(n.useMemo((()=>Y(e.data)))),[x,_]=(0,n.useState)({}),[R,O]=(0,n.useState)(!1),[M,L]=(0,n.useState)(!1),[D,N]=(0,n.useState)("420"),[F,z]=(0,n.useState)([]),B=e.sessionId,V=(0,E.resolveStoreInstance)(w.default),{addToast:H}=(0,i.default)(),[U,W]=(0,n.useState)(!1),[q,G]=(0,n.useState)("");function Y(e,t){const s=S().reduce(e,((e,t,s)=>(e.push({domain:s,cookieList:t}),e)),[]);let n=s;return t&&(n=function(e,t){if(!t)return e;const s=[];return S().forEach(e,(e=>{let n=S().filter(e.cookieList,(s=>{let n=[s.name,s.path,s.value,e.domain];return S().some(n,(e=>S().includes(S().toLower(e),S().toLower(t))))}));S().size(n)>0&&(e.cookieList=n,s.push(e))})),s}(s,t)),S().sortBy(n,"domain")}(0,n.useEffect)((()=>{const t=document.querySelector(".pane-content"),s=new ResizeObserver((t=>{(t=>{e.isActiveSession?N(""+(t[0].contentRect.height-370)):N(""+(t[0].contentRect.height-285))})(t)}));return s.observe(t),()=>{s.unobserve(t)}}),[]),(0,n.useEffect)((()=>{s(Y(e.data,q))}),[e.data]),n.useLayoutEffect((()=>{X.current(q)}),[q]);const $=(0,n.useRef)(S().debounce((()=>{y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"cookies-searched",label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId})}),1e3)),X=(0,n.useRef)(S().debounce((e=>{W(!0);const t=Y(V.getDomainWiseListOfCookies(B),e);s(t)}),500));return n.createElement(n.Fragment,null,n.createElement(a.default,{shrink:"1",direction:"column",gap:"spacing-m"},n.createElement(a.default,{direction:"row",justifyContent:"space-between"},n.createElement(u.default,{type:"search",width:"240px",placeholder:"Search captured cookies",value:q||"",onClear:()=>{G("");const e=Y(V.getDomainWiseListOfCookies(B));s(e)},onChange:e=>{const t=e.target.value;$.current(),G(t)}}),n.createElement(a.default,null,n.createElement(o.default,{type:"tertiary",icon:n.createElement(g.default,null),text:"Add to Cookie Jar",isDisabled:!(S().size(F)>0),onClick:function(){const t={};if(0===S().size(F))return;S().forEach(F,(e=>{const s=`${e.domain}#${e.path}#${e.name}`,n=v()(e.timestamp,C.default.TIMESTAMP_DATETIME_FORMAT);S().has(t,s)?t[s].timestamp.isBefore(n)&&(t[s].timestamp=n,t[s].cookie=e):t[s]={timestamp:n,cookie:e}}));const s=S().map(t,"cookie");let i,a;s.length>1?(i="Cookies are added to cookie jar",a=`${s.length} cookies have been added to Postman Cookie Jar. `):(i="Cookie added to cookie jar",a="1 cookie has been added to Postman Cookie Jar. "),(0,T.bulkAddCookies)(s),H({title:i,status:"success",description:n.createElement(n.Fragment,null,a,n.createElement(o.default,{onClick:()=>{pm.mediator.trigger("showCookieManagementModal")},type:"monochrome-plain",text:"View now"}))}),y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"cookies-added-to-cookiejar",value:S().size(s),label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId})}}),n.createElement(o.default,{type:"tertiary",icon:n.createElement(f.default,null),text:"Delete",isDisabled:!(S().size(F)>0),onClick:()=>{S().size(F)>0&&O(!0)}}))),t&&t.length>0?n.createElement("div",{className:"pm-session-cookie-table-wrapper"},n.createElement(d.default,{width:"98%",data:t,columns:[{id:"domainName",accessor:e=>{const{domain:t}=e;return[t,S().size(e.cookieList),e.filteredCookieLength]},Cell:({value:e})=>{const[t,s,i]=e;let o=s;i&&i>0&&(o=i);let c=`${o} ${o>1?" cookies":" cookie"}`;return n.createElement(a.default,{gap:"spacing-xs",align:"center",inline:!0},n.createElement(r.default,{type:"h5",text:t}),n.createElement(r.default,{type:"h6",text:c}),n.createElement(l.default,{type:"body-medium"}," "))}}],bodyMaxHeight:`${D}px`,rowExpanded:{subComponent:i=>{const o=t=>(y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"cookie-expanded",label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId}),n.createElement(a.default,{padding:{paddingLeft:"spacing-xl"},backgroundColor:"background-color-tertiary",className:"pm-expanded-row-container"},n.createElement("div",{className:"pm-proxy-expanded-view"},n.createElement(a.default,{gap:"spacing-s",inline:!0},n.createElement(l.default,{type:"para",color:"content-color-primary",isTruncated:!0},"Request: ",t.requestMethod," ",n.createElement(P.default,{onClick:s=>((t,s)=>{t.preventDefault();const n=s.requestData;let i,o,a,r;try{r=JSON.parse(S().get(n,"body")),"raw"===n.dataMode&&(r=JSON.stringify(r))}catch(e){r=S().get(n,"body")}const l=S().map(S().keys(n.headers),(e=>({key:e,value:n.headers[e]})));i={data:r,dataMode:S().get(n,"dataMode"),headerData:l,url:S().get(n,"url"),method:S().get(n,"method")&&S().get(n,"method").toUpperCase()},o={headers:S().get(n,"responseHeaders"),body:S().get(n,"responseBody"),statusCode:S().get(n,"responseStatusCode"),statusMessage:S().get(n,"responseStatusMessage")},a=S().get(n,"responseTime"),(0,A.openNewRequestTab)({initialValue:i,response:(0,k.createResponseData)(o,a)}),y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"request-opened-in-new-tab",label:e.isActiveSession?"cookie-in-session":"cookie-post-session",traceId:e.sessionId})})(s,t)},n.createElement(l.default,{type:"link-primary"},t.url))))))),r={data:i.cookieList,bodyMaxHeight:`${S().parseInt(.7*D)}px`,columns:(u=i.domain,[{Header:()=>n.createElement(a.default,{inline:!0,alignItems:"center"},n.createElement(c.default,{isChecked:S().get(x,u,!1),onChange:e=>{x[u]=e;let n={},i=[...t];S().forEach(i,((t,s)=>{t.domain===u&&S().forEach(t.cookieList,((t,o)=>{i[s].cookieList[o].isSelected=e,n[t.uid]={isSelected:e}}))})),z(S().filter(S().flatMap(i,"cookieList"),"isSelected")),V.updateCookiesData(B,n),W(!1),_(x),s(i)}})),cellWidth:"32px",id:"SelectAll",accessor:(e,t)=>{const{isSelected:s,uid:n}=e;return{isSelected:s,cookieId:n,domain:e.domain,rowIndex:t}},Cell:({value:e})=>{const i=e.cookieId,o=e.rowIndex,r=e.domain;return n.createElement(a.default,{padding:{paddingTop:"spacing-xs"}},n.createElement(c.default,{isChecked:e.isSelected,onChange:e=>{let n={},a=[...t];n[i]={isSelected:e},S().forEach(a,((t,s)=>{if(t.domain===r)return a[s].cookieList[o].isSelected=e,!1})),z(S().filter(S().flatMap(a,"cookieList"),"isSelected")),V.updateCookiesData(B,n),W(!1),s(a)}}))}},{Header:()=>n.createElement(a.default,{inline:!0,gap:"spacing-xs"},n.createElement(l.default,{type:"strong"},"Name")),cellWidth:"115px",id:"name",accessor:e=>{const{name:t}=e;return[t,e.domain]},Cell:({value:e})=>{const[t]=e;return n.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>n.createElement(a.default,{inline:!0,gap:"spacing-xs"},n.createElement(l.default,{type:"strong"},"Value")),cellWidth:"180px",id:"value",accessor:e=>{const{value:t}=e;return[t]},Cell:({value:e})=>{const[t]=e;return n.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>n.createElement(a.default,{inline:!0,gap:"spacing-xs"},n.createElement(l.default,{type:"strong"},"Path")),cellWidth:"80px",id:"path",accessor:"path",align:"left"},{Header:()=>n.createElement(a.default,{inline:!0,gap:"spacing-xs"},n.createElement(l.default,{type:"strong"},"Expires")),cellWidth:"180px",id:"expirationDate",accessor:"expires",align:"left"},{Header:()=>n.createElement(a.default,{inline:!0,gap:"spacing-xs"},n.createElement(l.default,{type:"strong"},"HttpOnly")),cellWidth:"80px",id:"httponly",accessor:e=>{const{httpOnly:t}=e;return n.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},S().capitalize(S().toString(t)))},align:"left"},{Header:()=>n.createElement(a.default,{inline:!0,gap:"spacing-xs"},n.createElement(l.default,{type:"strong"},"Secure")),cellWidth:"80px",id:"secure",accessor:e=>{const{secure:t}=e;return n.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},S().capitalize(S().toString(t)))},align:"left"},{Header:()=>n.createElement(a.default,{inline:!0,gap:"spacing-xs"},n.createElement(l.default,{type:"strong"},"Timestamp")),cellWidth:"180px",id:"timestamp",accessor:"timestamp",align:"left"}]),getRowId:e=>e.uid,globalFilter:{filter:q}};var u;return e.source!==j.INTERCEPTOR&&(r.rowExpanded={subComponent:o,autoResetExpanded:!1}),n.createElement(a.default,{padding:{paddingLeft:"spacing-xl"}},n.createElement(d.default,r))},autoResetExpanded:!1},pagination:!e.isActiveSession&&{addJumpToPageControls:!0,addPageSizeControls:!0,autoResetPage:U,pageSizeMenuPlacement:"top",initialPageSize:20}})):n.createElement(h.default,{title:"No results found"},n.createElement(p.default,null))),n.createElement(m.Modal,{isOpen:R,size:"small",onClose:()=>O(!1)},n.createElement(m.ModalHeader,{heading:"Delete Cookies?"}),n.createElement(m.ModalContent,null,n.createElement(l.default,{color:"content-color-secondary"},"This will delete the cookies from the session. Once deleted, you will no longer be able to add them to the cookie jar.")),n.createElement(m.ModalFooter,null,n.createElement(a.default,{grow:1,shrink:1,justifyContent:"flex-end",gap:"spacing-s"},n.createElement(o.default,{type:"secondary",text:"Cancel",onClick:()=>O(!1)}),n.createElement(o.default,{type:"destructive",text:"Delete Cookies",isLoading:M,onClick:function(){L(!0);const t=S().map(F,"uid");if(0===S().size(t))return L(!1),void O(!1);let n;I.default.delete({id:t}),V.deleteCookies(B,t),s(Y(V.getDomainWiseListOfCookies(B),q)),L(!1),O(!1),n=t.length>1?`${t.length} cookies have been deleted from the session.`:"1 cookie has been deleted from the session.",H({status:"success",description:n}),y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"delete-cookie-clicked",label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId})}})))))}},"./integrations/proxy/components/InterceptorBridgeInstallation.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return V}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=(s("./js/models/InterceptorInstaller.js"),s("./js/stores/InterceptorInstallationUIStore.js")),r=s("./js/stores/InterceptorSettingsStore.js"),l=s("./js/stores/StoreManager.js"),c=s("./js/stores/CapturePanelUIStore.js"),d=s("./js/constants/AppUrlConstants.js"),u=s("./js/modules/services/AnalyticsService.js"),h=s("./js/constants/SettingsTypeConstants.js"),p=s("./js/components/banner/BannerContainer.js"),m=s("./js/components/banner/BannerHeader.js"),g=s("./js/components/banner/BannerBody.js"),f=s("./js/components/banner/BannerFooter.js"),y=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),b=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),x=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),S=s("./appsdk/components/link/Link.js"),_=s("./js/components/banner/BannerConsts.js"),v=s("./js/utils/openSettings.js");const E="https://chrome.google.com/webstore/detail/"+window.INTERCEPTOR_ID,w=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.INFO},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Install Interceptor Bridge",onClick:z})))),C=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.INFO},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Downloading Bridge...",isDisabled:!0})))),I=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.INFO},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Installing Bridge...",isDisabled:!0})))),T=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.SUCCESS},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Install the browser extension from ",i.createElement(S.default,{to:E},i.createElement(b.default,{type:"link-default",isExternal:!0},"Chrome Web Store")))))),A=e=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.ERROR},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Node.js download failed",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement("div",null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Something went wrong while downloading the Node.js package. Read our ",i.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},i.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&i.createElement("div",null,i.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Retry Download",onClick:z})))),P=e=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.ERROR},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Couldn't install Node.js and other dependencies",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement("div",null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Postman doesn't have the required permission to install Node.js and other dependencies. Read our ",i.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},i.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&i.createElement("div",null,i.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Retry Installation",onClick:()=>pm.interceptorInstaller.installInterceptorBridge()})))),k=e=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.ERROR},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Couldn't install Node.js and other dependencies",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement("div",null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Postman doesn't have the required permission to install Node.js and other dependencies. Read our ",i.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},i.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&i.createElement("div",null,i.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Retry Installation",onClick:()=>pm.interceptorInstaller.installNode()})))),j=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.INFO},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Install Interceptor Bridge",onClick:()=>pm.interceptorInstaller.installNode()})))),R=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.INFO},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Downloading Node.Js...",isDisabled:!0})))),O=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.WARNING},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Install Node.js to finish setting up Bridge",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Complete Node.js installation from the pop-up. The bridge installation will resume automatically once you're done.")))),M=e=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.ERROR},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Node.js download failed",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement("div",null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Something went wrong while downloading the Node.js package. Read our ",i.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},i.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&i.createElement("div",null,i.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Retry Download",onClick:()=>pm.interceptorInstaller.installNode()})))),L=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.WARNING},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Install Node.js to finish setting up Bridge",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Complete Node.js installation from the pop-up. The bridge installation will resume automatically once you're done.")),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Retry Node.js Installation",onClick:()=>pm.interceptorInstaller.installInterceptorBridge()})))),D=()=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.WARNING},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"No connection to interceptor",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Make sure your browser is open and you've installed the ",i.createElement(S.default,{to:d.INTERCEPTOR_DOCS_URL},i.createElement(b.default,{type:"link-default",isExternal:!0},"Interceptor extension.")))))),N=e=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.WARNING},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Postman update required",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"To continue using the Interceptor extension, go to settings and update your Postman desktop app to v",e.minAppVersion," or greater.")),i.createElement(f.default,null,i.createElement(x.default,{type:"outline",size:"medium",text:"Open Settings",onClick:()=>{(0,l.resolveStoreInstance)(c.default).toggleCapturePanel(!1),(0,v.default)(null,h.SETTINGS_UPDATE)}})))),F=e=>i.createElement(i.Fragment,null,i.createElement(p.default,{bannerType:_.default.WARNING},i.createElement(m.default,null,i.createElement(y.default,{type:"h5",styleAs:"h5",text:"Interceptor update required",hasBottomSpacing:!0})),i.createElement(g.default,null,i.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"This version of Interceptor isn't compatible with the current version of the Postman app. Update Interceptor to v",e.minExtensionVersion," or greater. Visit the ",i.createElement(S.default,{to:d.UPDATE_INTERCEPTOR_DOCS_URL},i.createElement(b.default,{type:"link-default",isExternal:!0},"Learning center"))))));function z(){u.default.addEventV2({category:"interceptor",action:"initiate_installation"}),pm.interceptorInstaller.installInterceptorBridge()}function B({state:e,data:t}){return i.createElement("div",null,(s=t,{BRIDGE_NOT_YET_INSTALLED:i.createElement(w,null),DONE:i.createElement(T,null),ERR_DOWNLOAD:i.createElement(A,{errorCode:s}),ERR_INSTALLATION:i.createElement(P,{errorCode:s}),MACOS_NODE_NOT_YET_INSTALLED:i.createElement(j,null),NODE_DOWNLOAD_IN_PROGRESS:i.createElement(R,null),NODE_DOWNLOADED:i.createElement(O,null),NODE_ERROR:i.createElement(M,{errorCode:s}),NODE_INSTALLATION_ERROR:i.createElement(k,{errorCode:s}),NODE_NOT_INSTALLED:i.createElement(L,null),BRIDGE_INSTALLATION_IN_PROGRESS:i.createElement(I,null),BRIDGE_DOWNLOAD_IN_PROGRESS:i.createElement(C,null)})[e]);var s}let V=(0,o.observer)(n=class extends i.Component{constructor(e){super(e),this.interceptorStore=(0,l.resolveStoreInstance)(r.default),this.interceptorUIStore=(0,l.resolveStoreInstance)(a.default),this.state={ERR_CODE:""},this.installInterceptorBridge=this.installInterceptorBridge.bind(this),pm.appWindow.trigger("registerInternalEvent","interceptorBridgeInstallationStatusUpdate",(function(e){"downloadStarted"===e.status?this.interceptorUIStore.updateInstallationStates("BRIDGE_DOWNLOAD_IN_PROGRESS"):"installationStarted"===e.status?this.interceptorUIStore.updateInstallationStates("BRIDGE_INSTALLATION_IN_PROGRESS"):"installationFinished"===e.status?(this.interceptorUIStore.updateInstallationStates("DONE"),u.default.addEventV2({category:"interceptor",action:"complete_installation"}),setTimeout((()=>{this.interceptorStore.updateInterceptorBridgeInstallationStatus(!0)}),8e3)):"error"===e.status&&("installation"===e.type?u.default.addEventV2({category:"interceptor",action:"error_installation",label:"bridge"}):"download"===e.type&&u.default.addEventV2({category:"interceptor",action:"error_download",label:"bridge"}),e.subType?this.setState({ERR_CODE:e.subType}):this.setState({ERR_CODE:""}),this.interceptorUIStore.updateErrorState(e.type,"bridge",e.errorMessage))}),this),pm.appWindow.trigger("registerInternalEvent","nodeInstallationStatusUpdate",(function(e){"downloadStarted"===e.status?(u.default.addEventV2({category:"interceptor",action:"download_started",label:"node"}),this.interceptorUIStore.updateNodeInstallationStatus("NODE_DOWNLOAD_IN_PROGRESS")):"downloadFinished"===e.status?(u.default.addEventV2({category:"interceptor",action:"download_finished",label:"node"}),this.interceptorUIStore.updateNodeInstallationStatus("NODE_DOWNLOADED")):"installationFinished"===e.status?(u.default.addEventV2({category:"interceptor",action:"installation_finished",label:"node"}),this.installInterceptorBridge()):"installationNotFinished"===e.status?this.interceptorUIStore.updateNodeInstallationStatus("NODE_NOT_INSTALLED"):"error"===e.status&&("installation"===e.type?(u.default.addEventV2({category:"interceptor",action:"error_installation",label:"node"}),this.interceptorUIStore.updateErrorState("installation","node",e.errorMessage)):"download"===e.type&&(u.default.addEventV2({category:"interceptor",action:"error_download",label:"node"}),this.interceptorUIStore.updateErrorState("nodeDownload","node",e.errorMessage)),e.subType?this.setState({ERR_CODE:e.subType}):this.setState({ERR_CODE:""}))}),this)}installInterceptorBridge(){u.default.addEventV2({category:"interceptor",action:"initiate_installation"}),pm.interceptorInstaller.installInterceptorBridge()}render(){return this.interceptorStore.minVersionSatisfied?this.interceptorStore.interceptorInstalledStatus?!this.interceptorStore.connectionStatus&&i.createElement(D,null):i.createElement(B,{state:this.interceptorUIStore.installationStatus,data:this.state.ERR_CODE}):this.interceptorStore.minExtensionVersionSatisfied?i.createElement(N,{minAppVersion:this.interceptorStore.minAppVersion}):i.createElement(F,{minExtensionVersion:this.interceptorStore.minExtensionVersion})}})||n},"./integrations/proxy/components/InterceptorSettingsConnection.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var n,i=s("../../node_modules/react/index.js"),o=s("./js/components/base/InputSelectV2.js"),a=s("./js/components/base/SearchHighlighter.js"),r=s("./appsdk/services/PageService.js"),l=s("./appsdk/navigation/constants.js"),c=s("./js/stores/InterceptorSettingsStore.js"),d=s("./js/stores/StoreManager.js"),u=s("./js/stores/CurrentUserStore.js"),h=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),g=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),f=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),y=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-fork-stroke-small.js"),b=s("./node_modules/lodash/lodash.js");let x=(0,h.observer)(n=class extends i.Component{constructor(e){super(e),this.selectedTarget=this.selectedTarget.bind(this)}getFilteredList(e,t,s={}){return!t||s.firstRender?e:b.filter(e,(e=>e.uid&&b.includes(e.name.toLowerCase(),t.toLowerCase())))}selectedTarget(){var e=this.props.filterItems,t=this.props.interceptorConnection.selectedTarget,s=b.find(e,(e=>e.uid===t.uid));if(s)return s}getOption(e,t,s={}){const n=e.name;e.id;let o=t&&!s.firstRender?i.createElement(a.default,{source:n,query:t}):i.createElement(p.default,{isTruncated:!0}," ",n," ");return i.createElement(m.default,{width:"100%",direction:"row",gap:"spacing-s",alignItems:"center",alignSelf:"auto",className:"target-input-flex"},i.createElement(f.default,null),i.createElement(m.default,{direction:"row",gap:"spacing-s",className:"input-select-item"},o,e.isForked&&i.createElement(m.default,{direction:"row",gap:"spacing-xs",alignItems:"center",className:"target-option-fork-label-area"},i.createElement(y.default,{color:"content-color-tertiary"}),i.createElement(p.default,{color:"content-color-tertiary",isTruncated:!0,tooltip:e.forkLabel},e.forkLabel))))}render(){var{filterItems:e}=this.props,t=r.PageService.activePage===l.SCRATCHPAD&&(0,d.resolveStoreInstance)(u.default).isLoggedIn;return i.createElement(m.default,{direction:"column",gap:"spacing-xs"},!(0,d.resolveStoreInstance)(c.default).captureRequestEnabled&&i.createElement(m.default,{direction:"row",gap:"spacing-xs",wrap:"wrap-reverse"},i.createElement(g.default,{type:"h6",text:"Save requests to a collection "}),i.createElement(p.default,{type:"body-small",color:"content-color-secondary"},"(optional)")),i.createElement(o.InputSelectV2,{disabled:t||b.isEmpty(e),style:{width:"100%"},onSelect:this.props.onInterceptorTargetSelect,getFilteredList:this.getFilteredList.bind(this,e),optionRenderer:this.getOption,selectedItem:this.selectedTarget(),placeholder:b.isEmpty(e)?"No collections found":" ",ref:"inputSelect",resetSearchFilterOnBlur:!0,menuClassName:"proxy-target-selector-menu",getInputValue:e=>e&&e.name||"",handleCancel:()=>{!this.props.clearDisabled&&this.props.onInterceptorTargetSelect({uid:"history",type:"history"})}}))}})||n},"./integrations/proxy/components/OverviewSessionsTable.js":function(e,t,s){s.r(t);var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),d=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke-small.js"),u=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke-small.js"),h=s("./js/modules/services/AnalyticsService.js"),p=s("./integrations/proxy/helpers/analyticsEventUtils.js"),m=s("./integrations/proxy/components/helpers/StatusCodeBadge.js"),g=s("./node_modules/lodash/lodash.js"),f=s.n(g),y=s("./appsdk/components/link/Link.js"),b=s("./js/stores/StoreManager.js"),x=s("./integrations/proxy/stores/ProxySessionStore.js"),S=s("./integrations/proxy/components/TableRowExpandedView.js"),_=s("./integrations/proxy/components/AddSessionRequestToCollection.js"),v=s("./integrations/proxy/helpers/constants.ts"),E=s("./integrations/proxy/helpers/TableUtils.js"),w=s("./integrations/proxy/helpers/responseUtil.js"),C=s("./node_modules/prop-types/index.js"),I=s.n(C),T=s("../../node_modules/mobx-react/dist/mobx-react.module.js");const A=e=>{const t=(0,b.resolveStoreInstance)(x.default),[s,g]=(0,n.useState)(n.useMemo((()=>[]))),[C,I]=(0,n.useState)(e.totalRequestsCount),[T,A]=(0,n.useState)(),[P,k]=(0,n.useState)(!1),[j,R]=(0,n.useState)(""),[O,M]=(0,n.useState)(!1),[L,D]=(0,n.useState)([]),{addToast:N}=(0,i.default)(),[F,z]=(0,n.useState)("All requests on this page are selected."),[B,V]=(0,n.useState)(`Select all ${e.totalRequestsCount} requests in the session`),[H,U]=(0,n.useState)(!1),[W,q]=(0,n.useState)(v.DEFAULT_PAGE_SIZE),[G,Y]=(0,n.useState)(1),$=(0,n.useRef)(0);(0,n.useEffect)((()=>{const s=document.querySelector(".pane-content"),n=new ResizeObserver((s=>{(s=>{$.current=s[0].contentRect.height,f().get(t.find(e.sessionId),"showSelectAllSectionBanner")?A(s[0].contentRect.height-366+"px"):A(s[0].contentRect.height-321+"px")})(s)}));return n.observe(s),()=>{n.unobserve(s)}}),[]),(0,n.useEffect)((()=>{e.fromActiveSession?g(e.data):K()}),[]);const X=s=>{t.update({id:e.sessionId,showSelectAllSectionBanner:s}),A(s?$.current-366+"px":$.current-321+"px")},K=(0,n.useCallback)((async()=>{if(!(f().size(e.data)>0)&&e.sessionId){k(!0);let t=0,s=await e.fetchDataFromBackend(v.FETCH_SIZE,t);g(s.fetchedRecords),k(!1),I(s.totalRecords);const n=Math.ceil(s.totalRecords/v.FETCH_SIZE)-1,i=[];t=v.FETCH_SIZE;for(let s=1;s<=n;s++)i.push(e.fetchDataFromBackend(v.FETCH_SIZE,s*t));const o=await Promise.all(i),a=f().concat(s.fetchedRecords,f().flatMap(o,(e=>e.fetchedRecords)));g(a)}})),Q=()=>{U(!1),X(!1)},Z=(0,n.useRef)(f().debounce((()=>{h.default.addEventV2({category:(0,p.default)({source:e.source}),action:"requests-searched",label:"post-session",traceId:e.sessionId})}),1e3)),J=(()=>{const t=[{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Methods")),cellWidth:"101px",id:"method",accessor:e=>[f().get(e,"method")],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para",className:"body-text"},t)},align:"left"},{Header:()=>n.createElement(a.default,{type:"strong"},"URL"),cellWidth:"332px",id:"url",accessor:e=>[f().get(e,"url"),e],Cell:({value:t})=>{const[s,i]=t;return n.createElement(y.default,{onClick:t=>(0,E.openRequest)(t,i,e.source,e.sessionId,v.ANALYTICS.OPEN_REQUEST_LABEL_POST_SESSION),className:"pm-table-url"},n.createElement(a.default,{type:"link-default",isTruncated:!0,isExternal:!0},s))},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Domain")),cellWidth:"160px",id:"domain",accessor:e=>[f().get(e,["headers","host"])],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Type")),cellWidth:"106px",id:"type",accessor:e=>[f().get(e,"dataMode")],Cell:({value:e})=>{let[t]=e;return t&&"-na-"!==t||(t=v.DEFAULT_REQUEST_DATA_TYPE),n.createElement(a.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"}],s=[{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Status")),cellWidth:"86px",id:"status",accessor:e=>[f().get(e,"responseStatusCode"),e],Cell:({value:e})=>{const[t]=e;return t?n.createElement(m.default,{statusCode:t}):n.createElement(a.default,{type:"para"},"-")},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Response Size")),cellWidth:"99px",id:"size",accessor:e=>[f().get(e,"responseSize")],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para",className:"body-text"},(0,w.getResponseSize)(t,"STRING"))},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Response Time")),cellWidth:"99px",id:"timeTaken",accessor:e=>[f().get(e,"responseTime")],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para"},`${t} ms`)},align:"left"}];return e.source===v.PROXY?(0,n.useMemo)((()=>f().concat(f().slice(s,0,1),t,f().slice(s,1)))):e.source==v.INTERCEPTOR?(0,n.useMemo)((()=>t)):void 0})();return O?n.createElement(_.default,{isOpen:!0,sessionId:e.sessionId,source:e.source,requestIdList:e.selectedRequestsIds,handleCloseModal:()=>M(!1),clearSelectedRequests:Q}):n.createElement(o.default,{className:"pm-post-sessions-requests-tab",direction:"column",gap:"spacing-m"},n.createElement(o.default,{direction:"row",justifyContent:"space-between"},n.createElement(o.default,{direction:"row",gap:"spacing-s",alignItems:"center"},n.createElement(r.default,{type:"search",width:"240px",placeholder:"Search captured requests",value:j||"",onClear:()=>R(""),onChange:e=>{Z.current(),R(e.target.value)}})),n.createElement(o.default,{direction:"row",gap:"spacing-s"},n.createElement(l.default,{isDisabled:P||!(f().size(L)>0),onClick:()=>{M(!0)},type:"tertiary",text:"Add to collection",icon:n.createElement(d.default,null),tooltip:f().size(L)>0?null:"No requests selected to add."}),n.createElement(l.default,{onClick:async()=>{try{const t=(await e.deleteSelectedRequestsFromBackend(e.sessionId,e.selectedRequestsIds)).body.data.deletedRequestIds;let n=[...s];f().forEach(t,(e=>{f().remove(n,(t=>t.requestDbId?t.requestDbId===e:t.id?t.id===e:void 0))})),g(n),e.setSelectedRequestsIds([]),e.setTotalRequestsCount(f().size(n)),D([])}catch(e){pm.logger.error("PostSessionTable~~ failed to delete requests",e),(0,E.showDeleteToast)(N,L)}h.default.addEventV2({category:(0,p.default)({source:e.source}),action:"delete-request-clicked",label:"post-session",traceId:e.sessionId})},isDisabled:P||!(f().size(L)>0),type:"tertiary",text:"Delete",icon:n.createElement(u.default,null),tooltip:f().size(L)>0?null:"No requests selected to delete."}))),f().get(t.find(e.sessionId),"showSelectAllSectionBanner")&&n.createElement(o.default,{justifyContent:"center",alignItems:"center",className:"pm-proxy-interceptor-select-all-section"},n.createElement(a.default,null,F)," ",n.createElement("div",{className:"pm-proxy-interceptor-select-all-section",onClick:()=>{H?(U(!1),X(!1)):U(!0)},style:{cursor:"pointer",display:"flex",alignItems:"center"}},n.createElement(a.default,{color:"content-color-link"},B))),n.createElement(c.default,{data:s,columns:J,getRowId:e=>{if(e)return e.requestDbId?e.requestDbId:e.id?e.id:`local-${e.requestLocalId}`},rowSelected:{onSelect:t=>{const s=Math.ceil(e.totalRequestsCount/W);let n=f().keys(t);const i=n.length-e.selectedRequestsIds.length;0!==C&&0!==n.length?n.length===e.totalRequestsCount?(z(`All ${e.totalRequestsCount} requests in this session are selected.`),V("Clear selection"),X(!0),U(!0)):G===s&&C%W===i||i===W?(z(`All ${i} requests on this page are selected.`),V(`Select all ${e.totalRequestsCount} requests in the session`),X(!0)):0===n.length?(X(!1),U(!1)):X(!1):X(!1),f().remove(n,(e=>!!f().startsWith(e,"local"))),e.setSelectedRequestsIds(f().uniq(n)),D(f().uniq(n))},selectAllRows:H},bodyMaxHeight:T,rowExpanded:{subComponent:t=>n.createElement(o.default,{padding:{paddingLeft:"spacing-xl"},backgroundColor:"background-color-tertiary",className:"pm-expanded-row-container"},n.createElement(S.default,{rowData:t,isActiveSession:e.isActiveSession,sessionId:e.sessionId,source:e.source})),autoResetExpanded:!1},pagination:{addJumpToPageControls:!0,addPageSizeControls:!0,autoResetPage:!1,initialPageSize:20,pageSizeMenuPlacement:"top-start",onPageSizeChange:e=>{H||X(!1),q(e)},onPageChange:e=>{Y(e),H||X(!1)}},loader:{isLoading:P,skeletonRowCount:20},globalFilter:{filter:j,placeholder:"Search captured requests",autoResetGlobalFilter:!1}}))};t.default=(0,T.observer)(A),A.propTypes={data:I().array.isRequired,source:I().string.isRequired,sessionId:I().string.isRequired,totalRequestsCount:I().number.isRequired,isActiveSession:I().bool.isRequired}},"./integrations/proxy/components/PortSettingsTab.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var n,i=s("../../node_modules/react/index.js"),o=s("./js/modules/services/AnalyticsService.js"),a=s("./integrations/proxy/stores/ProxySessionStore.js"),r=s("./js/stores/StoreManager.js"),l=s("./integrations/proxy/stores/SessionCookieStore.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),g=s("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),f=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),y=(s("./node_modules/lodash/lodash.js"),s("./integrations/proxy/helpers/constants.ts")),b=s("./integrations/proxy/components/helpers/CaptureProxyStartupBanner.js"),x=s("./node_modules/prop-types/index.js"),S=s.n(x);let _=(0,f.observer)(n=class extends i.Component{constructor(e){super(e),this.sessionCookieStore=(0,r.resolveStoreInstance)(l.default),this.proxyStore=(0,r.resolveStoreInstance)(a.default)}render(){const{shouldAutoSyncCookiesToCookieJarViaProxy:e}=this.sessionCookieStore,{proxyConnectionSettings:t}=pm.tcpReader,s=e||t.status===y.STATUS_CONNECTING||t.status===y.STATUS_DISCONNECTING;return i.createElement("div",null,i.createElement("div",{style:{paddingTop:"8px",paddingLeft:"8px"}},i.createElement(c.default,{type:"tertiary",text:y.CAPTURE_REQUESTS_BUTTON_TEXT,icon:"icon-direction-back",onClick:this.props.togglePortSettingsState})),i.createElement(d.default,{direction:"column",gap:"spacing-l",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},i.createElement(d.default,{className:"pm-proxy-port-settings-tab",direction:"column",gap:"spacing-l"},i.createElement(u.default,{type:"h2",text:"Setup Proxy"}),i.createElement(h.default,{color:"content-color-secondary"},"Capture requests or cookies from any device or browser with Postman's built-in proxy."),this.proxyStore.showProxyBanner&&i.createElement(b.default,null),i.createElement(p.default,{label:i.createElement(m.default,{text:"Enter Port"}),value:t.port,onChange:e=>this.props.onPortChange(e.target.value),isDisabled:t.status!==y.STATUS_DISCONNECTED,placeholder:"Enter Port"}),i.createElement(d.default,{direction:"row",gap:"spacing-s"},i.createElement(c.default,{type:t.status===y.STATUS_CONNECTED?"destructive":"primary",size:"medium",text:t.status===y.STATUS_CONNECTED?y.DISABLE_PROXY_ACTION:y.ENABLE_PROXY_ACTION,onClick:()=>{let e=t.status===y.STATUS_CONNECTED?"disabled":"enabled";this.props.handleConnectOnProxyToggle(),this.props.togglePortSettingsState(),o.default.addEventV2({category:"proxy-session",action:"proxy-toggle-clicked",label:e})},isDisabled:s,tooltip:e?i.createElement(g.default,{content:y.COOKIE_SYNC_ENABLED_PROXY_TOGGLE_TOOLTIP,placement:"bottom"}):null}),i.createElement(c.default,{type:"secondary",size:"medium",text:"Cancel",onClick:this.props.togglePortSettingsState})))))}})||n;_.propTypes={togglePortSettingsState:S().func.isRequired,onPortChange:S().func.isRequired,handleConnectOnProxyToggle:S().func.isRequired}},"./integrations/proxy/components/ProxyConfigureFilters.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyMethodsFilter.js"),a=s("./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyStatusFilter.js"),r=s("./integrations/proxy/components/popovers/FilterURLPopover.js"),l=s("./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyResourcesFilter.js"),c=s("./integrations/proxy/stores/ProxySessionStore.js"),d=s("./js/stores/StoreManager.js"),u=s("./js/stores/InterceptorSettingsStore.js"),h=s("./integrations/proxy/components/filters/ActiveSessionPageFilters/InterceptorMethodsFilters.js");class p extends n.Component{constructor(e){super(e),this.store=(0,d.resolveStoreInstance)(u.default),this.proxyStore=(0,d.resolveStoreInstance)(c.default),this.getConfigureFilters=this.getConfigureFilters.bind(this)}getConfigureFilters(){let e=this.props.filters;return this.store.captureRequestEnabled?n.createElement(i.default,{gap:"spacing-xs"},n.createElement(h.default,null),n.createElement(r.default,{onFilterChange:this.props.onFilterChange,filters:e,source:this.props.source})):n.createElement(i.default,{gap:"spacing-xs"},n.createElement(o.default,{onFilterChange:this.props.onFilterChange,filters:e.methods}),n.createElement(a.default,{onFilterChange:this.props.onFilterChange,filters:e.status_codes}),n.createElement(l.default,{onFilterChange:this.props.onFilterChange,filters:e}),n.createElement(r.default,{onFilterChange:this.props.onFilterChange,filters:e,source:this.props.source}))}render(){return n.createElement(i.default,null,this.getConfigureFilters())}}},"./integrations/proxy/components/ProxyPostSessionPage.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),g=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),f=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),y=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),b=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),x=s("./integrations/proxy/components/helpers/OverviewChart.js"),S=s("./integrations/proxy/components/helpers/OverviewTable.js"),_=s("./integrations/proxy/components/OverviewSessionsTable.js"),v=s("./js/modules/services/AnalyticsService.js"),E=s("./integrations/proxy/helpers/analyticsEventUtils.js"),w=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),C=s("./integrations/proxy/stores/HistorySidebarProxyStore.js"),I=s("./integrations/proxy/stores/SessionCookieStore.js"),T=s("./js/stores/StoreManager.js"),A=s("./integrations/proxy/stores/ProxySessionStore.js"),P=s("./integrations/proxy/services/SessionCookieService.js"),k=s("./integrations/proxy/components/CookiesTable.js"),j=s("./integrations/proxy/components/SessionNameEditor.js"),R=s("./integrations/proxy/services/ProxySessionService.js"),O=s("./node_modules/moment/moment.js"),M=s.n(O),L=s("./js/services/NavigationService.js"),D=s("./integrations/proxy/helpers/constants.ts"),N=s("./integrations/navigation/constants.js"),F=s("./node_modules/lodash/lodash.js"),z=s.n(F),B=s("./node_modules/classnames/index.js"),V=s.n(B),H=s("./integrations/proxy/helpers/index.js"),U=s("../../node_modules/console-browserify/index.js");let W=(0,w.observer)(n=class extends i.Component{constructor(e){super(e);const t=z().size(this.props.controller.reqData),s=!(!this.props.controller.fromActiveSession||0!==t);this.proxyStore=(0,T.resolveStoreInstance)(A.default),this.sessionCookieStore=(0,T.resolveStoreInstance)(I.default),this.state={activeIndex:0,value:D.DEFAULT_OVERVIEW_OPTION,chartData:this.props.controller.overviewData.methods.map((e=>e.noOfRequests)),tableData:[],sessionCookies:{},totalRequestsCount:t,reqData:[],selectedRequestsIds:[],overviewData:{},sessionDuration:D.EMPTY_SESSION_DURATION,sessionSize:D.EMPTY_SESSION_SIZE,isEmptySession:s},this.handleOptionSelection=this.handleOptionSelection.bind(this),this.abstractOverviewData=this.abstractOverviewData.bind(this),this.abstractTableData=this.abstractTableData.bind(this),this.setTotalRequestsCount=this.setTotalRequestsCount.bind(this),this.fetchDataFromBackend=this.fetchDataFromBackend.bind(this),this.setSelectedRequestsIds=this.setSelectedRequestsIds.bind(this),this.deleteSelectedRequestsFromBackend=this.deleteSelectedRequestsFromBackend.bind(this),this.getEmptyCookieStateComponent=this.getEmptyCookieStateComponent.bind(this),this.getEmptyOverviewStateComponent=this.getEmptyOverviewStateComponent.bind(this),this.getEmptyRequestsStateComponent=this.getEmptyRequestsStateComponent.bind(this),this.fetchOverviewData=this.fetchOverviewData.bind(this),this.getProxyConnectionBadge=this.getProxyConnectionBadge.bind(this),this.handleProxyBadgeClick=this.handleProxyBadgeClick.bind(this),this.defaultSessionName=z().get(D.DEFAULT_SESSION_NAME,`${this.props.controller.source.toUpperCase()}`),this.props.controller.source===D.PROXY?this.dropdownOptions=D.OVERVIEW_DROPDOWN_OPTIONS_PROXY:this.dropdownOptions=D.OVERVIEW_DROPDOWN_OPTIONS_INTERCEPTOR,this.proxyStore.find(this.props.controller.proxyId)||this.proxyStore.add({id:this.props.controller.proxyId,reqData:[],name:this.props.controller.name,source:this.props.controller.source,totalRecords:0}),this.fetchOverviewData(this.props.controller.proxyId).then((()=>{this.handleOptionSelection(this.state.value)})),P.default.getCookiesForSessionFromDb(this.props.controller.proxyId).then((e=>{e&&this.setState({sessionCookies:e})}))}handleProxyBadgeClick(){"browser"===window.SDK_PLATFORM||(0,H.isSessionActive)()||(this.proxyStore.updateIsOpenPortSettings(!0),L.default.transitionTo(N.CAPTURE_REQUESTS_SESSIONS_CONFIGURE_PAGE_IDENTIFIER,{proxyId:D.CONFIGURE_PAGE_ID},{},{}))}getTotalResponseSize(e){const t=parseFloat(e/1024).toFixed(2),s=parseFloat(t/1024).toFixed(2),n=parseFloat(s/1024).toFixed(2);return e<=1024?`${e} B`:t<=1024?`${t} KB`:s<=1024?`${s} MB`:n<=1024?`${n} GB`:void 0}async fetchOverviewData(e){pm.logger.info("ProxyPostSessionPage~~ Fetching overview data from backend");try{const t=await R.default.getOverviewData(e);pm.logger.info("ProxyPostSessionPage~~ Successfully fetched overview data from backend");const s=z().get(t,["body","data","analyticsData"]);if(s){this.setState({sessionSize:`${this.getTotalResponseSize(s.totalSessionSize)}`});const e=M()(z().get(t,["body","data","sessionCreatedAt"])),n=M()(z().get(t,["body","data","sessionEndedAt"])),i=M().duration(n.diff(e))._milliseconds/1e3,o=i/60;0===parseInt(o)?this.setState({sessionDuration:`${parseInt(i)} ${parseInt(i)>1?"seconds":"second"}`}):this.setState({sessionDuration:`${parseInt(o)}  ${parseInt(o)>1?"minutes":"minute"}`});let a=z().map(s.method,((e,t)=>({type:t,noOfRequests:e}))),r=z().map(s.statusCode,((e,t)=>({type:t,noOfRequests:e}))),l=z().map(s.domain,((e,t)=>({type:t,noOfRequests:e}))),c=z().map(s.dataMode,((e,t)=>(t&&"-"!==t||(t=D.DEFAULT_REQUEST_DATA_TYPE),{type:t,noOfRequests:e})));this.setState({overviewData:{methods:a,statusCodes:r,domains:l,contentTypes:c}})}return t}catch(e){pm.logger.error("ProxyPostSessionPage~~ cannot fetch overview data",e),U.log("ProxyPostSessionPage~~ cannot fetch overview data",e)}}async fetchDataFromBackend(e,t){let s=await R.default.listRequests(this.props.controller.proxyId,e,t),n=s.body.data;if(this.setState({totalRequestsCount:s&&s.body&&s.body.meta.totalRecords}),s&&s.body&&s.body.meta){const e=s.body.meta.totalRecords;this.setState({isEmptySession:!(e>0)})}return n=z().map(n,(e=>({...e,method:e.method.toUpperCase()}))),{fetchedRecords:n,totalRecords:this.state.totalRequestsCount}}setSelectedRequestsIds(e){this.setState({selectedRequestsIds:[...e]})}setTotalRequestsCount(e){this.setState({totalRequestsCount:e})}getEmptyCookieStateComponent(){return i.createElement("div",{className:"pm-proxy-empty-state-container"},i.createElement(o.default,{title:"No cookies were captured in the session"},i.createElement(a.default,null)))}getEmptyOverviewStateComponent(){return i.createElement("div",{className:"pm-proxy-empty-state-container"},i.createElement(o.default,{title:"No analytics data available for this session"},i.createElement(r.default,null)))}getEmptyRequestsStateComponent(){return i.createElement("div",{className:"pm-proxy-empty-state-container"},i.createElement(o.default,{title:"No requests were captured in the session"},i.createElement(l.default,null)))}async deleteSelectedRequestsFromBackend(e,t){let s=await R.default.deleteMultipleRequests(e,t);return this.fetchOverviewData(this.props.controller.proxyId).then((()=>{this.handleOptionSelection(this.state.value)})),s}abstractOverviewData(e){let t={...this.state.chartData};return this.state.overviewData[e.value]&&(t="methods"===e.value?{...this.state.chartData,data:z().map(this.state.overviewData[e.value],(e=>e.noOfRequests)),labels:z().map(this.state.overviewData[e.value],(e=>e.type.toUpperCase())),option:e}:{...this.state.chartData,data:z().map(this.state.overviewData[e.value],(e=>e.noOfRequests)),labels:z().map(this.state.overviewData[e.value],(e=>e.type)),option:e}),this.setState({chartData:{...t}}),t}abstractTableData(e){let t;t="methods"==e.value?z().map(this.state.overviewData[e.value],((e,t)=>({type:e.type.toUpperCase(),noOfRequests:e.noOfRequests,color:D.COLOR_CODES[t%D.COLOR_CODES.length]}))):z().map(this.state.overviewData[e.value],((e,t)=>({type:e.type,noOfRequests:e.noOfRequests,color:D.COLOR_CODES[t%D.COLOR_CODES.length]}))),this.setState({tableData:[...t]})}handleOptionSelection(e){e?(this.abstractOverviewData(e),this.abstractTableData(e),this.setState({value:e}),v.default.addEventV2({category:(0,E.default)({source:this.props.controller.source}),action:"overview-chart-selected",label:e.value,traceId:this.props.controller.proxyId})):pm.logger.error("ProxyPostSessionPage~~ handleOptionSelection, no selectedOption found")}getProxyConnectionBadge(){return pm.tcpReader.proxyConnectionSettings.status===D.STATUS_CONNECTED?i.createElement(c.default,{status:"success",text:D.PROXY_BADGE_ENABLED_TEXT,style:{float:"right"}}):i.createElement(c.default,{status:"neutral",text:D.PROXY_BADGE_DISABLED_TEXT,style:{float:"right"}})}render(){const e=`${z().capitalize(this.props.controller.source)}`,t=`${M()(this.props.controller.createdAt).format("DD MMM YYYY, h:mm A")}`;return i.createElement("div",{className:"pm-post-proxy-session-page"},i.createElement(d.default,{direction:"column",gap:"spacing-s",className:"pm-post-proxy-session-page-header apply-bottom-border"},i.createElement(d.default,{direction:"row",spacing:"spacing-s",alignItems:"center"},i.createElement(j.default,{ref:e=>{this.sessionNameEditor=e},name:(0,T.resolveStoreInstance)(C.default).find(this.props.controller.proxyId)&&(0,T.resolveStoreInstance)(C.default).find(this.props.controller.proxyId).name,placeholder:this.defaultSessionName,isEntityEditable:!0,sessionId:this.props.controller.proxyId,controller:this.props.controller}),this.props.controller.source===D.PROXY?i.createElement("div",{className:V()({"pm-post-session-proxy-badge":!0}),onClick:this.handleProxyBadgeClick},this.getProxyConnectionBadge()):null),i.createElement(d.default,{direction:"row",gap:"spacing-s"},i.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},i.createElement(u.default,{type:"h6",text:"Session start time:"}),i.createElement(h.default,{type:"para"},t)),i.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},i.createElement(u.default,{type:"h6",text:"Session size:"}),i.createElement(h.default,{type:"para"},this.state.sessionSize)),i.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},i.createElement(u.default,{type:"h6",text:"Duration:"}),i.createElement(h.default,{type:"para"},this.state.sessionDuration)),i.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},i.createElement(u.default,{type:"h6",text:"Source:"}),i.createElement(h.default,{type:"para"},e)))),i.createElement("div",{className:"pm-proxy-session-tabs"},i.createElement(p.default,{className:"pm-proxy-overview-page-tabs",activeTabIndex:this.state.activeIndex,onChange:e=>{let t;switch(this.setState({activeIndex:e}),e){case 0:t="overview-tab-clicked";break;case 1:t="request-tab-clicked";break;case 2:t="cookie-tab-clicked";break;default:t=null}t&&v.default.addEventV2({category:(0,E.default)({source:this.props.controller.source}),action:t,label:"post-session",traceId:this.props.controller.proxyId})},type:"primary"},i.createElement(m.default,null,i.createElement(g.default,{label:"Overview"}),i.createElement(g.default,{label:"Requests",counter:{type:"content",value:this.state.totalRequestsCount}}),i.createElement(g.default,{label:"Cookies",counter:{type:"content",value:this.sessionCookieStore.getTotalSessionCookies(this.props.controller.proxyId)}})),i.createElement(f.default,{className:"pm-proxy-overview-page-tab-panels"},i.createElement(y.default,{className:"pm-proxy-overview-page-tab-panels_tab-panel"},this.state.isEmptySession?i.createElement(d.default,{width:"100%",height:"100%"},this.getEmptyRequestsStateComponent()):i.createElement(d.default,{direction:"column",gap:"spacing-s",className:"pm-proxy-overview-page-wrapper"},i.createElement("div",{className:"pm-proxy-overview-tab-container"},i.createElement("div",{style:{width:"50%"}},i.createElement(b.default,{onChange:e=>{this.handleOptionSelection(e)},options:this.dropdownOptions,placeholder:"Classify requests by",label:"Classify requests by",width:"200px",value:this.state.value,isClearable:!1,isSearchable:!1})),i.createElement(x.default,{data:this.state.chartData,xAxisLabel:`${this.state.value.label}s`}),i.createElement("div",{className:"pm-overview-table-wrapper"},i.createElement(S.default,{data:this.state.tableData,selectedOption:this.state.value,options:this.dropdownOptions}))))),i.createElement(y.default,{className:"pm-proxy-overview-page-tab-panels_tab-panel"},this.state.isEmptySession?i.createElement(d.default,{width:"100%",height:"100%"},this.getEmptyRequestsStateComponent()):i.createElement("div",{className:"pm-session-table-wrapper-overview-page"},i.createElement(_.default,{data:this.props.controller.reqData,fromActiveSession:this.props.controller.fromActiveSession,source:this.props.controller.source,isActiveSession:!1,sessionId:this.props.controller.proxyId,totalRequestsCount:this.state.totalRequestsCount,setTotalRequestsCount:this.setTotalRequestsCount,controller:this.props.controller,fetchDataFromBackend:this.fetchDataFromBackend,isAllRequestsSelected:this.state.isAllRequestsSelected,selectedRequestsIds:this.state.selectedRequestsIds,setSelectedRequestsIds:this.setSelectedRequestsIds,deleteSelectedRequestsFromBackend:this.deleteSelectedRequestsFromBackend}))),i.createElement(y.default,{className:"pm-proxy-overview-page-tab-panels_tab-panel"},z().size(this.state.sessionCookies)>0?i.createElement("div",{className:"pm-session-table-wrapper-overview-page"},i.createElement(k.default,{data:this.state.sessionCookies,sessionId:this.props.controller.proxyId,source:this.props.controller.source,isActiveSession:!1})):i.createElement(d.default,{width:"100%",height:"100%"},this.getEmptyCookieStateComponent()))))))}})||n},"./integrations/proxy/components/ProxyPostSessionPageController.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var n=s("./appsdk/workbench/BaseWorkbenchController.js"),i=s("./appsdk/workbench/TabService.js"),o=(s("./node_modules/lodash/lodash.js"),s("./js/stores/StoreManager.js")),a=s("./integrations/proxy/stores/ProxySessionStore.js"),r=s("./integrations/navigation/constants.js"),l=s("./integrations/proxy/helpers/constants.ts"),c=s("./integrations/proxy/helpers/responseUtil.js");class d extends n.default{constructor(){super(),this.overviewData={methods:[],statusCodes:[],contentTypes:[]},this.proxyId=null,this.proxyStore=null,this.reqData=[],this.fromActiveSession=!1,this.name="Postman debug session",this.closeOpenedActiveSessionTab=this.closeOpenedActiveSessionTab.bind(this)}closeOpenedActiveSessionTab(){i.default.closeByRoute(r.CAPTURE_REQUESTS_SESSIONS_CONFIGURE_PAGE_URL,{proxyId:l.CONFIGURE_PAGE_ID})}async didCreate({routeParams:e,queryParams:t,additionalContext:s}){this.setTitle(s.name),this.name=s.name,this.source=s.source,this.createdAt=s.createdAt,this.proxyId=e.proxySessionId,this.proxyStore=(0,o.resolveStoreInstance)(a.default),this.fromActiveSession=s.fromActiveSession,this.fromActiveSession&&(this.reqData=this.proxyStore.getReqData(),(0,c.cleanupSessionData)(),this.proxyStore.updateActiveSessionId(null),this.closeOpenedActiveSessionTab())}beforeDestroy(){}}},"./integrations/proxy/components/ProxySessionTab.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),g=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),f=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),y=s("./js/modules/services/AnalyticsService.js"),b=s("./integrations/proxy/helpers/analyticsEventUtils.js"),x=s("./js/stores/InterceptorSettingsStore.js"),S=s("./integrations/proxy/stores/SessionCookieStore.js"),_=s("./js/stores/StoreManager.js"),v=s("./integrations/proxy/stores/ProxySessionStore.js"),E=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),w=s("./node_modules/lodash/lodash.js"),C=s.n(w),I=s("./integrations/proxy/components/SessionsTable.js"),T=s("./integrations/proxy/components/ProxySessionTabFooter.js"),A=s("./integrations/proxy/components/CaptureProxyResponseSettings.js"),P=s("./integrations/proxy/helpers/constants.ts"),k=s("./integrations/proxy/components/SessionNameEditor.js"),j=s("./node_modules/classnames/index.js"),R=s.n(j),O=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),M=s("./integrations/proxy/components/ProxyConfigureFilters.js"),L=s("./integrations/proxy/components/CaptureCookieSettings.js"),D=s("./integrations/proxy/components/CookiesTable.js"),N=s("./js/external-navigation/ExternalNavigationService.js"),F=s("./integrations/proxy/services/ProxySessionService.js");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},z.apply(this,arguments)}const B=0,V=1,H=(0,O.default)(o.default)`
    height: calc(100% - 200px);
    box-sizing: border-box;
  `,U=(0,O.default)(a.default)`
    width: 100%;
    height: 100%;
    overflow-y: auto;
  `;let W=(0,E.observer)(n=class extends i.Component{constructor(e){super(e),this.filters=["Methods","Status","URL","Resources"],this.proxyStore=(0,_.resolveStoreInstance)(v.default),this.sessionCookieStore=(0,_.resolveStoreInstance)(S.default),this.source=(0,_.resolveStoreInstance)(x.default).captureRequestEnabled?P.INTERCEPTOR:P.PROXY,this.defaultSessionName=C().get(P.DEFAULT_SESSION_NAME,`${this.source.toUpperCase()}`),this.state={connection:{port:P.DEFAULT_PORT,selectedTarget:{uid:"history",name:"History"},filterItems:[],activeIndex:0,status:(0,_.resolveStoreInstance)(x.default).proxyConnectionStatus?P.STATUS_CONNECTED:P.STATUS_DISCONNECTED},activeIndex:0,currentTheme:pm.settings.getSetting("postmanTheme")},this.handleThemeChange=this.handleThemeChange.bind(this),this.handleTabChange=this.handleTabChange.bind(this),this.getCookieTabComponent=this.getCookieTabComponent.bind(this)}UNSAFE_componentWillMount(){this.setState({currentTheme:pm.settings.getSetting("postmanTheme")}),pm.settings.on("setSetting:postmanTheme",this.handleThemeChange)}handleThemeChange(){this.setState({currentTheme:pm.settings.getSetting("postmanTheme")})}handleTabChange(e){let t;switch(this.setState({activeIndex:e}),e){case B:t="request-tab-clicked";break;case V:t="cookie-tab-clicked";break;default:t=null}t&&y.default.addEventV2({category:(0,b.default)({source:this.source}),action:t,label:"in-session",traceId:this.props.controller.proxyId})}async deleteSelectedRequestsFromBackend(e,t){return await F.default.deleteMultipleRequests(e,t)}getRequestTableTabComponent(){const e=this.proxyStore.getReqData(),t=this.proxyStore.activeSessionId;return C().size(e)>0?i.createElement(I.default,{data:e,sessionId:t,source:this.source,isActiveSession:!0,deleteSelectedRequestsFromBackend:this.deleteSelectedRequestsFromBackend}):i.createElement(r.default,{title:"No requests captured yet."},i.createElement(l.default,null))}getCookieTabComponent(){const e=this.proxyStore.activeSessionId,t=this.sessionCookieStore.getDomainWiseListOfCookies(e);if(C().size(t)>0)return i.createElement(D.default,{data:t,sessionId:this.proxyStore.activeSessionId,source:this.source,isActiveSession:!0});{let e="",t="",s=null,n=null;return this.sessionCookieStore.saveCookiesFlag?e="No cookies captured yet.":(e="View cookies for captured requests",t="Enable capture cookies to view cookies for captured requests. Once captured you can use cookies in Postman Workflow by adding them to Postman Cookie Jar.",s=i.createElement(c.default,{type:"primary",text:"Capture Cookies",onClick:()=>{this.source===P.PROXY?this.sessionCookieStore.updateSaveCookiesFlag(!0):this.source===P.INTERCEPTOR&&this.sessionCookieStore.updateCaptureInterceptorCookiesFlag(!0),pm.toasts.success("Cookies will be stored for all the newly captured requests.")}}),n=i.createElement(c.default,{onClick:()=>{(0,N.openExternalLink)("https://learning.postman.com/docs/sending-requests/cookies/")},type:"plain",text:"Learn More"})),i.createElement(a.default,{width:"100%",height:"100%"},i.createElement(r.default,{title:e,description:t,primaryAction:s,secondaryAction:n},i.createElement(d.default,null)))}}getProxyConnectionBadge(){return(0,_.resolveStoreInstance)(x.default).captureRequestEnabled&&this.props.source===P.INTERCEPTOR?i.createElement(u.default,{status:"success",text:P.INTERCEPTOR_BADGE_ENABLED_TEXT,style:{float:"right"}}):pm.tcpReader.proxyConnectionSettings.status===P.STATUS_CONNECTED&&this.props.source===P.PROXY?i.createElement(u.default,{status:"success",text:P.PROXY_BADGE_ENABLED_TEXT,style:{float:"right"}}):pm.tcpReader.proxyConnectionSettings.status!==P.STATUS_CONNECTED&&this.props.source===P.PROXY?i.createElement(u.default,{status:"neutral",text:P.PROXY_BADGE_DISABLED_TEXT,style:{float:"right"}}):null}render(){return i.createElement("div",{className:"pm-proxy-session-container"},i.createElement(a.default,{direction:"column",gap:"spacing-zero",height:"100%",width:"100%"},i.createElement("div",{className:"proxy-session-header"},i.createElement(a.default,{direction:"column",gap:"spacing-m"},i.createElement(a.default,{direction:"row",spacing:"spacing-s",alignItems:"center"},i.createElement(k.default,{ref:e=>{this.sessionNameEditor=e},name:this.proxyStore.find(this.props.activeSessionId)&&this.proxyStore.find(this.props.activeSessionId).name,placeholder:this.defaultSessionName,isEntityEditable:!0,sessionId:this.props.activeSessionId,controller:this.props.controller}),this.getProxyConnectionBadge()),i.createElement(a.default,{direction:"row",gap:"spacing-m",alignItems:"center"},i.createElement(h.default,{type:"para",typographyStyle:{paddingTop:"spacing-m"}},"Configure incoming requests"),i.createElement(M.default,{onFilterChange:this.props.onFilterChange,filters:this.props.filters,source:this.props.source}),(0,_.resolveStoreInstance)(x.default).captureRequestEnabled?null:i.createElement("div",null,i.createElement(A.default,{onCaptureResponseSettingToggle:this.props.onCaptureSettingsChange,saveResponses:this.props.saveResponses})),i.createElement(L.default,{source:this.source})))),i.createElement(H,{activeTabIndex:this.state.activeIndex,onChange:this.handleTabChange,type:"primary"},i.createElement(p.default,null,i.createElement(m.default,{label:"Requests",counter:{type:"content",value:this.proxyStore.getReqData().length}}),i.createElement(m.default,{label:"Cookies",counter:{type:"content",value:this.sessionCookieStore.getTotalSessionCookies(this.proxyStore.activeSessionId)}})),i.createElement(g.default,{className:"pm-active-session-tab-panels"},i.createElement(f.default,{className:"pm-active-session-tab-panels-tab-panel"},this.getRequestTableTabComponent()),i.createElement(f.default,{className:"pm-active-session-tab-panels-tab-panel"},i.createElement(U,{justifyContent:"center"},this.getCookieTabComponent())))),i.createElement("div",{className:R()({"pm-proxy-session-footer-wrapper":!0,"apply-light-background":"light"===this.state.currentTheme,"apply-dark-background":"dark"===this.state.currentTheme})},i.createElement("div",{className:"pm-proxy-session-footer"},i.createElement(T.default,z({},this.props,{source:(0,_.resolveStoreInstance)(x.default).captureRequestEnabled?P.INTERCEPTOR:P.PROXY,sessionId:this.proxyStore.activeSessionId}))))))}})||n},"./integrations/proxy/components/ProxySessionTabFooter.js":function(e,t,s){s.r(t);var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),c=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-play-stroke.js"),d=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-pause-stroke.js"),u=s("./js/stores/InterceptorSettingsStore.js"),h=s("./js/stores/StoreManager.js"),p=s("./integrations/proxy/stores/ProxySessionStore.js"),m=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),g=s("./js/modules/services/AnalyticsService.js"),f=s("./integrations/proxy/helpers/analyticsEventUtils.js"),y=s("./integrations/proxy/components/ProxySettingsConnection.js"),b=s("./integrations/proxy/components/ResponseDomainEndpointSettings.js"),x=s("./integrations/proxy/components/helpers/Clock.js"),S=(s("./integrations/proxy/helpers/constants.ts"),s("./integrations/proxy/components/InterceptorSettingsConnection.js")),_=s("./node_modules/classnames/index.js"),v=s.n(_),E=s("./integrations/proxy/components/helpers/ProxyUtils.ts");function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},w.apply(this,arguments)}let C=(0,m.observer)(n=class extends i.Component{constructor(e){super(e),this.dropdownOptions=[{value:"api_key",label:"API Key"},{value:"access_token",label:"Access Token"},{value:"webhook_url",label:"Webhook URL"}],this.proxyStore=(0,h.resolveStoreInstance)(p.default),this.handlePauseResumeSessionButtonClick=this.handlePauseResumeSessionButtonClick.bind(this),this.getProxyStartPauseButton=this.getProxyStartPauseButton.bind(this),this.stopActiveDebugSession=this.stopActiveDebugSession.bind(this),this.getTotalResponseSize=this.getTotalResponseSize.bind(this),this.state={countPauseButtonClicked:0},this.proxyStore.updatePauseProxyCaptureFlag(!1),this.proxyStore.updateIsStopSessionButtonLoading(!1)}handlePauseResumeSessionButtonClick(){const{addToast:e}=this.props;let t,s;t="Session is paused",s=(0,h.resolveStoreInstance)(u.default).captureRequestEnabled?"Requests already intercepted via interceptor will continue to show up in the session.":"Requests already tunnelled via proxy will continue to show up in the session.",this.proxyStore.pauseProxyCapture||e({title:"Session is paused",description:s,status:"info"}),this.proxyStore.updatePauseProxyCaptureFlag(!this.proxyStore.pauseProxyCapture)}getTotalResponseSize(){const e=this.proxyStore.totalResponseSizeCaptured,t=parseFloat(e/1024).toFixed(3),s=parseFloat(t/1024).toFixed(3),n=parseFloat(s/1024).toFixed(3);return e<=1024?`${e} B`:t<=1024?`${t} kB`:s<=1024?`${s} mB`:n<=1024?`${n} gB`:void 0}getProxyStartPauseButton(){return this.proxyStore.pauseProxyCapture?i.createElement(o.default,{onClick:this.handlePauseResumeSessionButtonClick,type:"tertiary",text:i.createElement(a.default,null,"Resume"),tooltip:"Resume session",icon:i.createElement(c.default,{color:"content-color-link"})}):i.createElement(o.default,{onClick:()=>{this.handlePauseResumeSessionButtonClick(),this.setState({countPauseButtonClicked:this.state.countPauseButtonClicked+1})},type:"tertiary",text:i.createElement(a.default,null,"Pause"),tooltip:"Pause session",icon:i.createElement(d.default,{color:"content-color-link"})})}async stopActiveDebugSession(){this.proxyStore.updateIsStopSessionButtonLoading(!0),this.proxyStore.updatePauseProxyCaptureFlag(!0);let e=(0,f.default)({isProxySession:!0}),t=pm.tcpReader;if((0,h.resolveStoreInstance)(u.default).captureRequestEnabled){e=(0,f.default)({isInterceptorSession:!0}),this.props.handleInterceptorStartStop(!1);try{await this.props.handleRequestCaptureViaInterceptor(!1)}catch(e){this.proxyStore.updateIsStopSessionButtonLoading(!1),pm.logger.error("Error stopping session",e)}}else await(0,E.stopProxySession)();g.default.addEventV2({category:e,action:"session-active-time",value:this.proxyStore.sessionActiveTimeInSeconds,traceId:this.props.sessionId}),g.default.addEventV2({category:e,action:"num-pause-session-clicked",value:this.state.countPauseButtonClicked,traceId:this.props.sessionId}),!(0,h.resolveStoreInstance)(u.default).captureRequestEnabled&&t.saveResponses&&g.default.addEventV2({category:"proxy-session",action:"save-response",traceId:this.props.sessionId}),t.saveCookie&&g.default.addEventV2({category:e,action:"save-cookie",traceId:this.props.sessionId}),"history"!==t.target_id&&(g.default.addEventV2({category:e,action:"requests-added-to-collection",label:"in-session",value:this.proxyStore.getReqData().length,traceId:this.props.controller.proxyId}),t.groupByDomain&&g.default.addEventV2({category:e,action:"organise-by-domain",label:"in-session",traceId:this.props.controller.proxyId}),t.groupByEndpoint&&g.default.addEventV2({category:e,action:"organise-by-endpoint",label:"in-session",traceId:this.props.controller.proxyId}))}render(){return i.createElement(r.default,{className:"fix-bottom",justifyContent:"space-between",alignItems:"center"},i.createElement(r.default,{direction:"row",gap:"spacing-s",alignItems:"center"},i.createElement("div",{style:{width:"200px"}},"history"!==this.props.captureTarget&&((0,h.resolveStoreInstance)(u.default).captureRequestEnabled?i.createElement(S.default,w({},this.props,{clearDisabled:!0})):i.createElement(y.default,w({},this.props,{isClearable:!1})))),(0,h.resolveStoreInstance)(u.default).captureRequestEnabled?null:i.createElement(b.default,{onCaptureResponseSettingToggle:this.props.onCaptureSettingsChange,groupByDomain:this.props.groupByDomain,groupByEndpoint:this.props.groupByEndpoint,captureTarget:this.props.captureTarget})),i.createElement(r.default,{gap:"spacing-m",className:"session-tab-footer-right-section",alignItems:"center"},i.createElement(r.default,{alignItems:"center"},i.createElement("div",{className:v()({"session-tab-footer-right-section-time":!0,"apply-border-right":!(0,h.resolveStoreInstance)(u.default).captureRequestEnabled})},i.createElement(x.default,{isProxyCapturePaused:this.proxyStore.pauseProxyCapture})),!(0,h.resolveStoreInstance)(u.default).captureRequestEnabled&&i.createElement(a.default,{className:"session-tab-footer-right-section-size"},this.getTotalResponseSize())),i.createElement(r.default,{gap:"spacing-xs"},this.getProxyStartPauseButton()),i.createElement(o.default,{onClick:this.stopActiveDebugSession,type:"destructive",text:"Stop",tooltip:"Stop capturing",isLoading:this.proxyStore.isStopSessionButtonLoading})))}})||n;t.default=(0,l.default)(C)},"./integrations/proxy/components/ProxySettingsConnection.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n,i=s("../../node_modules/react/index.js"),o=s("./appsdk/services/PageService.js"),a=s("./appsdk/navigation/constants.js"),r=s("./js/stores/CurrentUserStore.js"),l=s("./js/stores/StoreManager.js"),c=s("./integrations/proxy/stores/ProxySessionStore.js"),d=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),g=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),f=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-fork-stroke-small.js"),y=(s("./node_modules/classnames/index.js"),s("./node_modules/lodash/lodash.js"));let b=(0,d.observer)(n=class extends i.Component{constructor(e){super(e),this.proxyStore=(0,l.resolveStoreInstance)(c.default),this.selectedTarget=this.selectedTarget.bind(this)}selectedTarget(){var e=this.props.filterItems,t=this.props.selectedTarget,s=y.find(e,(e=>e.uid===t.uid));return s||null}getOption(e){const t=e.name;e.uid;return i.createElement(u.default,{maxWidth:"parent",grow:1,shrink:1,minWidth:"0px",alignItems:"center",gap:"spacing-s"},i.createElement(g.default,null),i.createElement(h.default,{isTruncated:!0},e.__isNew__?e.label:t),e.isForked&&i.createElement(u.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},i.createElement(f.default,{color:"content-color-tertiary"}),i.createElement(h.default,{color:"content-color-tertiary",isTruncated:!0,tooltip:e.forkLabel},e.forkLabel)))}render(){var e,{filterItems:t}=this.props,s=o.PageService.activePage===a.SCRATCHPAD&&(0,l.resolveStoreInstance)(r.default).isLoggedIn;return i.createElement(u.default,{direction:"column",gap:"spacing-xs",width:"100%"},this.proxyStore.isOnStartPage&&i.createElement(u.default,{direction:"row",gap:"spacing-xs",wrap:"wrap-reverse"},i.createElement(p.default,{type:"h6",text:"Save requests to a collection "}),i.createElement(h.default,{type:"body-small",color:"content-color-secondary"},"(optional)")),i.createElement(m.default,{isDisabled:s,onChange:this.props.onTargetSelect,options:t,customOptionComponent:this.getOption,value:this.selectedTarget(),placeholder:" ",isSearchable:!0,isClearable:null===(e=this.props.isClearable)||void 0===e||e,allowCreateNewOption:!0,emptyStateMessage:"No collections found",menuWidth:"parent",menuMaxHeight:250}))}})||n},"./integrations/proxy/components/ProxyTab.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return ne}});var n,i,o=s("../../node_modules/react/index.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),g=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),f=s("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),y=s("./js/stores/ActiveWorkspaceStore.js"),b=s("./integrations/proxy/stores/SessionCookieStore.js"),x=s("./js/stores/InterceptorSettingsStore.js"),S=s("./js/stores/StoreManager.js"),_=s("./integrations/proxy/stores/ProxySessionStore.js"),v=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),E=s("./integrations/proxy/components/helpers/ProxyUtils.ts"),w=s("../../node_modules/mobx/lib/mobx.module.js"),C=s("./node_modules/lodash/lodash.js"),I=s.n(C),T=s("./js/modules/services/AnalyticsService.js"),A=s("./js/utils/uid-helper.js"),P=s("./integrations/proxy/components/ProxySettingsConnection.js"),k=s("./integrations/proxy/components/CaptureProxyResponseSettings.js"),j=s("./runtime-repl/collection/_api/CollectionStoreV2.js"),R=s("./appsdk/navigation/constants.js"),O=s("./appsdk/services/PageService.js"),M=s("./integrations/proxy/components/filters/PreSessionFilters/ProxySettingsFilters.js"),L=s("./integrations/proxy/components/PortSettingsTab.js"),D=s("./js/components/interceptor/InterceptorSnapWarning.js"),N=s("./js/components/interceptor/InterceptorConnectionIndicator.js"),F=s("./integrations/proxy/components/InterceptorSettingsConnection.js"),z=s("./integrations/proxy/components/InterceptorBridgeInstallation.js"),B=s("./js/components/interceptor/InterceptorConnection.js"),V=s("./integrations/proxy/components/filters/PreSessionFilters/InterceptorSettingsFilters.js"),H=s("./js/constants/AppUrlConstants.js"),U=s("./appsdk/components/link/Link.js"),W=s("./js/components/base/keymaps/KeyMaps.js"),q=s("./js/services/NavigationService.js"),G=s("./integrations/proxy/components/ResponseDomainEndpointSettings.js"),Y=s("./integrations/proxy/components/ProxySessionTab.js"),$=s("./integrations/proxy/helpers/constants.ts"),X=s("./integrations/proxy/services/ProxyHistoryService.js"),K=s("./integrations/proxy/components/CaptureCookieSettings.js"),Q=s("./integrations/proxy/components/popovers/EnableProxyPopover.js"),Z=s("./integrations/navigation/constants.js"),J=s("./integrations/proxy/components/CaptureAlert.js"),ee=s("./integrations/proxy/components/interceptor/AutoSyncCookiesInstructionBanner.js"),te=s("../../node_modules/console-browserify/index.js");function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},se.apply(this,arguments)}let ne=(0,v.observer)(((i=class extends o.Component{constructor(e){super(e),this.proxyStore=(0,S.resolveStoreInstance)(_.default),this.store=(0,S.resolveStoreInstance)(x.default),this.sessionCookieStore=(0,S.resolveStoreInstance)(b.default),this.source=null,this.collectionList=null,this.cookieSettingInterceptorInfoBadgeText="Captured cookies will be synced to the Interceptor Session. You can manually add cookies to Postman cookie jar to utilise in your Postman workflows. For Interceptor, you have to filter the domains within the cookie tab of the Interceptor browser extension.",this.cookieSettingProxyInfoBadge="Captured cookies will be synced to the Proxy Session. You can manually add cookies to Postman cookie jar to utilise in your Postman workflows.",this.state={activeTab:"Connection",connection:{selectedTarget:{uid:"history",type:"history"},filterItems:[],isInterceptorStarted:!1,isProxyButtonLoading:!1},interceptorConnection:{selectedTarget:{uid:"history",type:"history"},filterItems:[],status:$.STATUS_DISCONNECTED,isInterceptorButtonLoading:!1},isOpenfilterOptions:!1,showFiltersStatus:$.SHOW_FILTERS,showInterceptorFiltersStatus:$.SHOW_FILTERS,isOpenInterceptorFilterOptions:!1,filters:{url:"",url_disabled:"",methods:[],status_codes:[],content_type:"",filter_request_capture:!0,js_enabled:!1,css_enabled:!1,image_enabled:!1},activeItem:$.PROXY,activeFeatureTab:$.SOURCE_TABS.PROXY,activeIndex:0,activeSourceTab:$.SOURCE_TABS.PROXY,showViewRequestsButton:!1,currentTheme:pm.settings.getSetting("postmanTheme")},this.proxyId=this.proxyStore.activeSessionId,this.handlePortChange=this.handlePortChange.bind(this),this.handleTargetSelect=this.handleTargetSelect.bind(this),this.getFilterItems=this.getFilterItems.bind(this),this.onCaptureSettingsChange=this.onCaptureSettingsChange.bind(this),this.delayedSubmit=I().debounce(this.handleFilterSave,500),this.handleFilterSave=this.handleFilterSave.bind(this),this.handleConnect=this.handleConnect.bind(this),this.handleRequestCapture=this.handleRequestCapture.bind(this),this.handleFilterChange=this.handleFilterChange.bind(this),this.togglePortSettingsState=this.togglePortSettingsState.bind(this),this.handleInterceptorTargetSelect=this.handleInterceptorTargetSelect.bind(this),this.getHelperView=this.getHelperView.bind(this),this.onStartCapture=this.onStartCapture.bind(this),this.onInterceptorStartCapture=this.onInterceptorStartCapture.bind(this),this.handleInterceptorStartStop=this.handleInterceptorStartStop.bind(this),this.handleThemeChange=this.handleThemeChange.bind(this),this.sessionCookieStore.updateShowCookiesCaptureHelper(!0)}handleThemeChange(){this.setState({currentTheme:pm.settings.getSetting("postmanTheme")})}UNSAFE_componentWillMount(){this.model=pm.tcpReader,this.interceptorManager=pm.interceptorManager,this.setState({currentTheme:pm.settings.getSetting("postmanTheme")}),pm.settings.on("setSetting:postmanTheme",this.handleThemeChange)}async componentDidMount(){const e=(0,S.resolveStoreInstance)(y.default).id;this.collectionList=await(0,j.subscribeMeta)(e,{permissions:this.constructor.collectionPermissions}),this.setInitialValues(),this.stopProxyInScratchpad=(0,w.reaction)((()=>O.PageService.activePage),(e=>{e===R.SCRATCHPAD&&this.model.proxyConnectionSettings.status===$.STATUS_CONNECTED&&(this.model.disconnect(),this.model.updateProxyConnectionSettings({status:$.STATUS_DISCONNECTING}),this.model.terminateActiveSessionOnWorkspaceSwitch(),this.store.updateShowProxyToast(!1),(0,J.default)())}))}componentWillUnmount(){this.model=null,this.collectionList&&this.collection&&this.collection.unsubscribe&&this.collectionList.unsubscribe(),this.stopProxyInScratchpad&&this.stopProxyInScratchpad()}getFilterItems(e){if(!e)return[];const{list:t}=e;return I().chain(t).filter((e=>e.isEditable)).map((e=>({type:"collection",id:(0,A.decomposeUID)(e.id).modelId,uid:e.uid,name:e.name,value:e.uid,label:e.name,isForked:e.isForked,forkLabel:e.forkLabel}))).value()}async handleTargetSelect(e){e?e&&e.__isNew__&&((e=await(0,E.createNewCollection)(e,"proxy session setup form"))?T.default.addEventV2({category:$.PROXY,action:$.CREATE_COLLECTION_ACTION_NAME,entityId:e.uid,label:$.SELECT_COLLECTION_DROPDOWN_LABEL}):e={uid:"history",type:"history"}):e={uid:"history",type:"history"},this.setState({connection:{...this.state.connection,selectedTarget:{uid:e.uid,type:e.type}}},(()=>{this.model.handleTargetSwitch(e)}))}handlePortChange(e){this.model.updateProxyConnectionSettings({port:e}),pm.settings.setSetting("proxyPort",e)}onCaptureSettingsChange(e,t){this.model[e]=t,this.delayedSubmit()}_sendClientEventsOnSettingsChange(e,t){let s,n;switch(e){case"js_enabled":s="capture-js-resource";break;case"css_enabled":s="capture-css-resource";break;case"image_enabled":s="capture-image-resource";break;case"methods":s="filter-request-by-method";break;case"url":s="filter-request-by-url-contians";break;case"url_disabled":s="filter-request-by-url-not-contians"}n=I().includes(["methods","url","url_disabled"],e)?I().size(t)>0?"applied":"cleared":t?"enabled":"disabled",s&&T.default.addEventV2({category:"proxy-session",action:s,label:n})}handleFilterSave(){let e=this.model;e.filters=this.state.filters,e.save()}getKeyMapHandlers(){return"Filters"===this.state.activeTab?{submit:pm.shortcuts.handle("submit",this.handleFilterSave)}:{submit:pm.shortcuts.handle("submit",this.handleConnect)}}handleConnect(){let e=this.model,t=this.state.connection.selectedTarget;this.store.updateShowProxyToast(!0),null!==t?(I().assign(e,{target_type:"history"===t.uid?"history":"collection",target_uid:"history"===t.uid?"history":t.uid,port:this.model.proxyConnectionSettings.port}),e.save(),this.model.proxyConnectionSettings.status===$.STATUS_CONNECTED?(e.disconnect(),this.model.updateProxyConnectionSettings({status:$.STATUS_DISCONNECTING}),T.default.addEventV2({category:$.PROXY,action:"stop_proxy",label:"toggle"})):this.model.proxyConnectionSettings.status===$.STATUS_DISCONNECTED&&(e.connect(),this.model.updateProxyConnectionSettings({status:$.STATUS_CONNECTING}),T.default.addEventV2({category:$.PROXY,action:"start_proxy",label:"toggle"}))):pm.toasts.error("Select a target to proceed")}async handleRequestCapture(e){if(e)try{this.setState({interceptorConnection:{...this.state.interceptorConnection,isInterceptorButtonLoading:!0}}),this.proxyStore.emptyReqData(),this.proxyId=await X.default.createProxyHistory({name:$.DEFAULT_SESSION_NAME.INTERCEPTOR,source:$.INTERCEPTOR}),this.source=$.INTERCEPTOR,pm.logger.info("Interceptor session id",this.proxyId),T.default.addEventV2({category:$.INTERCEPTOR,action:"enable_request_capture"}),pm.interceptorBridge.requestCapture.enable(),this.proxyStore.updateIsOnStartPage(!1),this.handleInterceptorStartStop(!0),this.proxyStore.updateSource($.INTERCEPTOR),this.proxyStore.updateActiveSessionName($.DEFAULT_SESSION_NAME.INTERCEPTOR),this.proxyStore.add({id:this.proxyId,reqData:[],name:$.DEFAULT_SESSION_NAME.INTERCEPTOR,source:$.INTERCEPTOR,totalRecords:0}),this.proxyStore.updateActiveSessionId(this.proxyId),this.sessionCookieStore.captureInterceptorCookies&&pm.interceptorBridge.cookieSync.enable()}catch(e){pm.toasts.error("Error creating interceptor session"),this.setState({interceptorConnection:{...this.state.interceptorConnection,isInterceptorButtonLoading:!1}}),te.log("Error creating interceptor session",e),pm.logger.error("Error creating interceptor session",e)}else try{this.proxyStore.updateIsStopSessionButtonLoading(!0),await X.default.updateProxyHistory({id:this.proxyId,state:"STOPPED"}),T.default.addEventV2({category:$.INTERCEPTOR,action:"disable_request_capture"}),pm.interceptorBridge.requestCapture.disable(),q.default.transitionTo(Z.CAPTURE_REQUEST_POST_SESSION_PAGE_IDENTIFIER,{proxySessionId:this.proxyId},{},{additionalContext:{name:this.proxyStore.find(this.proxyId).name,source:$.INTERCEPTOR,fromActiveSession:!0}})}catch(e){this.proxyStore.updateIsStopSessionButtonLoading(!1),pm.toasts.error("Can't stop interceptor, error updating state"),pm.logger.error("Error updating state for interceptor session",e),pm.logger.error("Error updating state for interceptor session-> sessionId",this.proxyId)}}setInitialValues(){this.setState((e=>({filters:this.model.filters,connection:{...this.state.connection,selectedTarget:{uid:this.model.target_uid},filterItems:this.getFilterItems(this.collectionList)},interceptorConnection:{...this.state.interceptorConnection,selectedTarget:{uid:"history"===this.store.requestCaptureTarget()?"history":this.store.requestCaptureTarget()}}})))}async onStartCapture(){if(pm.settings.setSetting("isProxyOn",!0),this.model.proxyConnectionSettings.status===$.STATUS_CONNECTED)try{this.setState({connection:{...this.state.connection,isProxyButtonLoading:!0}}),this.proxyStore.emptyReqData(),this.proxyId=await X.default.createProxyHistory({name:$.DEFAULT_SESSION_NAME.PROXY,source:$.PROXY}),this.source=$.PROXY,this.proxyStore.updatePauseProxyCaptureFlag(!1),this.proxyStore.updateIsOnStartPage(!1),this.proxyStore.updateActiveSessionName($.DEFAULT_SESSION_NAME.PROXY),this.proxyStore.updateSource($.PROXY),this.proxyStore.add({id:this.proxyId,reqData:[],name:$.DEFAULT_SESSION_NAME.PROXY,source:$.PROXY,totalRecords:0}),this.proxyStore.updateActiveSessionId(this.proxyId),T.default.addEventV2({category:"proxy-session",action:"session-started"}),this.setState({connection:{...this.state.connection,isProxyButtonLoading:!1}})}catch(e){pm.toasts.error("Error creating proxy session"),pm.logger.error("Error creating proxy session",e),this.setState({connection:{...this.state.connection,isProxyButtonLoading:!1}})}else this.proxyStore.updateShowEnableProxyPopover(!0)}onInterceptorStartCapture(){this.handleRequestCapture(!this.store.captureRequestEnabled),this.store.connectionStatus||pm.toasts.error("Interceptor not connected"),T.default.addEventV2({category:"interceptor-session",action:"session-started"})}getProxyInterceptorCaptureButton(){switch(this.state.activeSourceTab){case $.SOURCE_TABS.PROXY:return o.createElement(a.default,{text:$.CAPTURE_REQUESTS_START,isDisabled:I().includes([$.STATUS_CONNECTING,$.STATUS_DISCONNECTING],this.model.proxyConnectionSettings.status),type:"primary",isLoading:this.state.connection.isProxyButtonLoading,onClick:this.onStartCapture,fullWidth:!1});case $.SOURCE_TABS.INTERCEPTOR:return o.createElement(a.default,{text:this.store.captureRequestEnabled?$.CAPTURE_REQUESTS_STOP:$.CAPTURE_REQUESTS_START,isDisabled:!this.store.connectionStatus,type:"primary",onClick:this.onInterceptorStartCapture,isLoading:this.state.interceptorConnection.isInterceptorButtonLoading,fullWidth:!1})}}handleFilterChange(e,t){this.setState((s=>({filters:{...s.filters,[e]:t}}))),this._sendClientEventsOnSettingsChange(e,t),this.delayedSubmit()}togglePortSettingsState(){this.proxyStore.updateIsOpenPortSettings(!this.proxyStore.isOpenPortSettings)}handleInterceptorTargetSelect(e){this.setState({interceptorConnection:{...this.state.interceptorConnection,selectedTarget:{uid:e.uid}}}),"history"===e.type?T.default.addEventV2({category:$.INTERCEPTOR,action:"update_capture_target",label:"history"}):"collection"===e.type&&T.default.addEventV2({category:$.INTERCEPTOR,action:"update_capture_target",label:"collection"}),pm.interceptorBridge.requestCapture.updateTarget(e)}getHelperView(){let e="",t="",s="";switch(this.state.activeSourceTab){case $.SOURCE_TABS.PROXY:e="Store requests and cookies in a time-bound session using Postman as a proxy.",t=" sessions",s=H.CAPTURE_HTTP_REQUESTS_DOCS_URL;break;case $.SOURCE_TABS.INTERCEPTOR:e="Store requests and cookies in a time-bound session using Postman interceptor.",t=" sessions",s=H.INTERCEPTOR_DOCS_URL}return o.createElement(r.default,{type:"lead"},e," Learn more about ",o.createElement(U.default,{to:s},o.createElement(r.default,{type:"link-default",isExternal:!0},t)))}handleInterceptorStartStop(e){this.setState({...this.state,isInterceptorStarted:e})}render(){if(this.proxyStore.isOpenPortSettings)return o.createElement(L.default,{togglePortSettingsState:this.togglePortSettingsState,onPortChange:this.handlePortChange,handleConnectOnProxyToggle:this.handleConnect});if(!this.proxyStore.isOnStartPage){const e="history"===I().get(this.state,"connection.selectedTarget.uid")?"history":"collection",t="history"===I().get(this.state,"interceptorConnection.selectedTarget.uid")?"history":"collection";return o.createElement(Y.default,se({},this.state.connection,{activeSessionId:this.proxyId,name:this.proxyStore.find(this.proxyId)?this.proxyStore.find(this.proxyId).name:"Postman debug session",filterItems:this.getFilterItems(this.collectionList),onPortChange:this.handlePortChange,onTargetSelect:this.handleTargetSelect,saveResponses:this.model.saveResponses,onCaptureSettingsChange:this.onCaptureSettingsChange,groupByDomain:this.model.groupByDomain,groupByEndpoint:this.model.groupByEndpoint,captureTarget:this.store.captureRequestEnabled?t:e,handleConnect:this.handleConnect,handleInterceptorStartStop:this.handleInterceptorStartStop,isInterceptorStarted:this.state.isInterceptorStarted,handleRequestCaptureViaInterceptor:this.handleRequestCapture,interceptorConnection:this.state.interceptorConnection,onInterceptorTargetSelect:this.handleInterceptorTargetSelect,controller:this.props.controller,onFilterChange:this.handleFilterChange,filters:this.state.filters,source:this.source}))}return o.createElement(l.default,{className:"pm-proxy-session-config-wrapper",direction:"column"},o.createElement(l.default,{className:"pm-proxy-session-config-header"},o.createElement(c.default,{type:"h4",text:$.CAPTURE_REQUESTS_BUTTON_TEXT})),o.createElement(W.default,{keyMap:pm.shortcuts.getShortcuts(),handlers:this.getKeyMapHandlers()},o.createElement(l.default,{className:"pm-proxy-session-config-body-wrapper",direction:"column",gap:"spacing-zero"},o.createElement(l.default,{className:"pm-proxy-session-config-body"},o.createElement(d.default,{className:"pm-proxy-config-body-tabs",activeTabIndex:this.state.activeSourceTab,onChange:e=>this.setState({activeSourceTab:e}),type:"primary"},o.createElement(u.default,null,o.createElement(h.default,{label:"Via Proxy"}),o.createElement(h.default,{label:"Via Interceptor"})),o.createElement(p.default,{className:"pm-proxy-config-body-tab-panels"},o.createElement(m.default,{className:"pm-proxy-config-body-tab-panels-proxy-panel"},o.createElement(l.default,{direction:"column",gap:"spacing-xl",className:"pm-proxy-panel-wrapper"},o.createElement(l.default,{direction:"column",gap:"spacing-s"},o.createElement(l.default,{direction:"row",justifyContent:"space-between"},o.createElement(c.default,{type:"h1",text:"Start a proxy session"}),o.createElement(l.default,{direction:"row",justifyContent:"flex-end"},o.createElement(Q.default,{togglePortSettingsState:this.togglePortSettingsState,handleConnectOnProxyToggle:this.handleConnect}))),o.createElement(l.default,{direction:"column",gap:"spacing-l"},this.getHelperView(),o.createElement(l.default,{direction:"column",gap:"spacing-l"},o.createElement(l.default,{direction:"column",gap:"spacing-l"},o.createElement(k.default,{onCaptureResponseSettingToggle:this.onCaptureSettingsChange,saveResponses:this.model.saveResponses}),o.createElement(K.default,{infoBadgeText:this.cookieSettingProxyInfoBadge,source:$.PROXY}),o.createElement(P.default,se({},this.state.connection,{filterItems:this.getFilterItems(this.collectionList),onPortChange:this.handlePortChange,onTargetSelect:this.handleTargetSelect,captureTarget:"history"===I().get(this.state,"connection.selectedTarget.uid")?"history":"collection"}))),o.createElement(G.default,{onCaptureResponseSettingToggle:this.onCaptureSettingsChange,groupByDomain:this.model.groupByDomain,groupByEndpoint:this.model.groupByEndpoint,captureTarget:"history"===I().get(this.state,"connection.selectedTarget.uid")?"history":"collection"})))),o.createElement(l.default,{direction:"column",gap:"spacing-l"},o.createElement(l.default,{direction:"column",gap:"spacing-xs"},o.createElement(c.default,{type:"h4",text:"Additional Configurations"}),o.createElement(r.default,{color:"content-color-secondary"},"Configure the type of requests you want to capture.")),o.createElement(M.default,{filters:this.state.filters,onFilterChange:this.handleFilterChange}),o.createElement(g.default,{text:"Resources"}),o.createElement(l.default,{direction:"row",gap:"spacing-s"},o.createElement(f.default,{isChecked:this.state.filters.js_enabled,label:"JS",onChange:(e,t,s)=>{this.handleFilterChange("js_enabled",e)}}),o.createElement(f.default,{isChecked:this.state.filters.css_enabled,label:"CSS",onChange:e=>{this.handleFilterChange("css_enabled",e)}}),o.createElement(f.default,{isChecked:this.state.filters.image_enabled,label:"Image",onChange:e=>{this.handleFilterChange("image_enabled",e)}}))),o.createElement(l.default,{className:"pm-proxy-capture-button"},this.getProxyInterceptorCaptureButton()))),o.createElement(m.default,{className:"pm-proxy-config-body-tab-panels-proxy-panel"},o.createElement(l.default,{direction:"column",gap:"spacing-s"},o.createElement("div",{className:"pm-proxy-panel-wrapper"},o.createElement(l.default,{direction:"column",gap:"spacing-s",className:"pm-proxy-panel"},o.createElement(l.default,{direction:"row",justifyContent:"space-between"},o.createElement(c.default,{text:$.INTERCEPTOR_SESSION_HEADING}),o.createElement(l.default,{direction:"row",justifyContent:"flex-end",alignItems:"center"},o.createElement(l.default,{direction:"row",alignItems:"center"},o.createElement(B.default,null),o.createElement(N.default,null)))),o.createElement(l.default,{direction:"column",gap:"spacing-xl"},this.getHelperView(),!this.store.connectionStatus&&(pm.env.SNAP?o.createElement(D.default,null):o.createElement(z.default,null)),o.createElement(K.default,{infoBadgeText:this.cookieSettingInterceptorInfoBadgeText,source:$.INTERCEPTOR}),this.store.showAutoSyncCookiesBannerInterceptor&&o.createElement(ee.default,null),o.createElement(l.default,{gap:"spacing-xl",direction:"column"},o.createElement(F.default,{interceptorConnection:this.state.interceptorConnection,filterItems:this.getFilterItems(this.collectionList),onInterceptorTargetSelect:this.handleInterceptorTargetSelect}),this.store.connectionStatus&&o.createElement(l.default,{direction:"column",gap:"spacing-s",wrap:"nowrap"},o.createElement(l.default,{direction:"column",gap:"spacing-xs"},o.createElement(c.default,{type:"h4",text:"Additional Configurations"}),o.createElement(r.default,{color:"content-color-secondary"},"Configure the type of requests you want to capture.")),o.createElement(l.default,{direction:"column",gap:"spacing-m",grow:1},o.createElement(V.default,null)))),o.createElement("div",{className:"pm-interceptor-capture-button"},this.getProxyInterceptorCaptureButton()))))))))))))}}).collectionPermissions=["edit"],n=i))||n},"./integrations/proxy/components/ProxyTabController.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var n=s("./appsdk/workbench/BaseWorkbenchController.js"),i=s("./js/stores/StoreManager.js"),o=s("./integrations/proxy/stores/ProxySessionStore.js"),a=s("./integrations/proxy/helpers/constants.ts"),r=s("./integrations/proxy/helpers/index.js");class l extends n.default{constructor(){super(),this.proxyStore=(0,i.resolveStoreInstance)(o.default)}didCreate({routeParams:e,queryParams:t,additionalContext:s}){(0,r.isSessionActive)()?s.name&&this.setTitle(s.name):this.setTitle(a.CONFIGURE_TAB_TITLE),this.proxyStore=(0,i.resolveStoreInstance)(o.default),this.proxyStore.updateIsStopSessionButtonLoading(!1)}didActivate(){}didDeactivate(){}beforeDestroy(){this.proxyStore.updateIsOpenPortSettings(!1),this.proxyStore.updatePauseProxyCaptureFlag(!0),this.proxyStore.stopSessionClock()}}},"./integrations/proxy/components/ResponseDomainEndpointSettings.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var n=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),a=s("../../node_modules/react/index.js"),r=s("./node_modules/prop-types/index.js"),l=s.n(r),c=(s("./node_modules/classnames/index.js"),s("./js/stores/StoreManager.js")),d=s("./integrations/proxy/stores/ProxySessionStore.js");function u(e){const[t,s]=(0,a.useState)(e.groupByDomain),[r,l]=(0,a.useState)(e.groupByEndpoint),u=(t,s)=>{s((s=>{const n=!s;return e.onCaptureResponseSettingToggle&&e.onCaptureResponseSettingToggle(t,n),n}))},h=(0,c.resolveStoreInstance)(d.default).isOnStartPage;return"collection"===e.captureTarget&&a.createElement(n.default,{direction:h?"column":"row",gap:"spacing-s"},h&&a.createElement(i.default,{text:"Organize requests by",type:"h6"}),a.createElement(o.default,{isChecked:t,label:"Domain name",onChange:()=>u("groupByDomain",s)}),a.createElement(o.default,{isChecked:r,label:"Endpoints",onChange:()=>u("groupByEndpoint",l)}))}u.propTypes={groupByDomain:l().bool,groupByEndpoint:l().bool,onCaptureResponseSettingToggle:l().func}},"./integrations/proxy/components/SessionNameEditor.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var n,i=s("../../node_modules/react/index.js"),o=s("./node_modules/classnames/index.js"),a=s.n(o),r=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=s("./js/components/base/InlineInput.js"),c=s("./integrations/proxy/services/ProxyHistoryService.js"),d=s("./js/stores/StoreManager.js"),u=s("./integrations/proxy/stores/ProxySessionStore.js"),h=s("./node_modules/lodash/lodash.js"),p=s.n(h);let m=(0,r.observer)(n=class extends i.Component{constructor(e){super(e),this.proxyStore=(0,d.resolveStoreInstance)(u.default),this.state={nameInViewMode:!0},this.handleEditName=this.handleEditName.bind(this),this.handleInlineEditToggle=this.handleInlineEditToggle.bind(this),this.handleRenameSubmit=this.handleRenameSubmit.bind(this),p().invoke(this.props,"controller.setTitle",this.props.name||this.props.placeholder)}getNameContainerClasses(e){return a()({"session-tab-header__name":!0,"is-editing":!this.state.nameInViewMode,editable:e})}handleEditName(){this.setState({nameInViewMode:!1},(()=>{this.inlineInput&&this.inlineInput.startEditing()}))}handleInlineEditToggle(e){if(e&&this.inlineInput)return this.inlineInput.focus(),void this.inlineInput.selectAll();this.setState({nameInViewMode:!0})}async handleRenameSubmit(e){try{await c.default.updateProxyHistory({id:this.props.sessionId,name:e}),p().invoke(this.props,"controller.setTitle",e),this.proxyStore.update({id:this.props.id,name:e}),pm.toasts.success("Session renamed successfully")}catch(e){pm.logger.error("SessionNameEditor~ProxyHistoryService.updateProxyHistory failed",e)}}componentDidUpdate(){try{p().invoke(this.props,"controller.setTitle",this.props.name)}catch(e){pm.logger.error("SessionNameEditor~~ Error in changing the tab title",e)}}renderName(){return i.createElement("div",{className:"session-tab-header__name__wrapper",title:"Proxy Session",onClick:this.handleEditName},i.createElement(l.default,{className:"session-tab-header__name__input",placeholder:this.props.placeholder,ref:e=>{this.inlineInput=e},value:this.props.name||this.props.placeholder,onToggleEdit:this.handleInlineEditToggle,onSubmit:this.handleRenameSubmit}))}render(){const{className:e}=this.props;return i.createElement("div",{className:a()("session-tab-header",{[e]:e})},i.createElement("div",{className:"session-tab-header__name__container"},i.createElement("div",{className:this.getNameContainerClasses(!0)},this.renderName())))}})||n;m.defaultProps={className:null,onSubmit:p().noop,placeholder:"Postman Debug Session"}},"./integrations/proxy/components/SessionsTable.js":function(e,t,s){s.r(t);var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),d=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke-small.js"),u=s("./integrations/proxy/components/helpers/StatusCodeBadge.js"),h=s("./node_modules/lodash/lodash.js"),p=s.n(h),m=s("./js/modules/services/AnalyticsService.js"),g=s("./integrations/proxy/helpers/analyticsEventUtils.js"),f=s("./js/stores/StoreManager.js"),y=s("./integrations/proxy/stores/ProxySessionStore.js"),b=s("./appsdk/components/link/Link.js"),x=s("./integrations/proxy/components/TableRowExpandedView.js"),S=s("./integrations/proxy/helpers/TableUtils.js"),_=s("./integrations/proxy/helpers/constants.ts"),v=s("./integrations/proxy/helpers/responseUtil.js");t.default=e=>{const[t,s]=(0,n.useState)(n.useMemo((()=>e.data))),[h,E]=(0,n.useState)("420px"),[w,C]=(0,n.useState)(""),[I,T]=(0,n.useState)([]),A=(0,f.resolveStoreInstance)(y.default),{addToast:P}=(0,i.default)(),[k,j]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=document.querySelector(".pane-content"),t=new ResizeObserver((e=>{(e=>{E(e[0].contentRect.height-370+"px")})(e)}));return t.observe(e),()=>{t.unobserve(e)}}),[]),(0,n.useEffect)((()=>{s(e.data)}),[e.data]);const R=(0,n.useRef)(p().debounce((()=>{m.default.addEventV2({category:(0,g.default)({source:e.source}),action:"requests-searched",label:"in-session",traceId:e.sessionId})}),1e3)),O=(()=>{const t=[{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Methods")),cellWidth:"101px",id:"method",accessor:e=>[p().get(e,"method")],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para",className:"body-text"},t)},align:"left"},{Header:()=>n.createElement(a.default,{type:"strong"},"URL"),cellWidth:"332px",id:"url",accessor:e=>[p().get(e,"url"),e],Cell:({value:t})=>{const[s,i]=t;return n.createElement(b.default,{onClick:t=>(0,S.openRequest)(t,i,e.source,e.sessionId,_.ANALYTICS.OPEN_REQUEST_LABEL_IN_SESSION),className:"pm-table-url"},n.createElement(a.default,{type:"link-default",isTruncated:!0,isExternal:!0},s))},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Domain")),cellWidth:"160px",id:"domain",accessor:e=>[p().get(e,["headers","host"])],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Type")),cellWidth:"106px",id:"type",accessor:e=>[p().get(e,"dataMode")],Cell:({value:e})=>{let[t]=e;return t&&"-na-"!==t||(t=_.DEFAULT_REQUEST_DATA_TYPE),n.createElement(a.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"}],s=[{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Status")),cellWidth:"86px",id:"status",accessor:e=>[p().get(e,"responseStatusCode"),e],Cell:({value:e})=>{const[t]=e;return t?n.createElement(u.default,{statusCode:t}):n.createElement(a.default,{type:"para"},"-")},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Response Size")),cellWidth:"99px",id:"size",accessor:e=>[p().get(e,"responseSize")],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para",className:"body-text"},(0,v.getResponseSize)(t,"STRING"))},align:"left"},{Header:()=>n.createElement(o.default,{inline:!0,gap:"spacing-xs"},n.createElement(a.default,{type:"strong"},"Response Time")),cellWidth:"99px",id:"timeTaken",accessor:e=>[p().get(e,"responseTime")],Cell:({value:e})=>{const[t]=e;return n.createElement(a.default,{type:"para"},`${t} ms`)},align:"left"}];return e.source===_.PROXY?(0,n.useMemo)((()=>p().concat(p().slice(s,0,1),t,p().slice(s,1)))):e.source==_.INTERCEPTOR?(0,n.useMemo)((()=>t)):void 0})();return n.createElement(o.default,{width:"100%",direction:"column",gap:"spacing-m"},n.createElement(o.default,{direction:"row",justifyContent:"space-between"},n.createElement(r.default,{type:"search",width:"240px",placeholder:"Search captured requests",value:w||"",onClear:()=>C(""),onChange:e=>{R.current(),C(e.target.value)}}),n.createElement(o.default,{direction:"row",gap:"spacing-s"},n.createElement(l.default,{onClick:async()=>{let s,n=0,i=[];p().forEach(I,(e=>{p().forEach(t,(t=>{t.requestDbId&&t.requestDbId===e&&(i.push(t),A.removeFromCapturedRequest(t),n+=(0,v.getResponseSize)(t.responseSize,"INTEGER"))}))})),j(!0),A.updateReqData(A.capturedRequests);try{(await e.deleteSelectedRequestsFromBackend(e.sessionId,A.selectedRequestsIds)).body.data.deletedRequestIds;A.updateTotalResponseSizeCaptured(n,"subtract"),A.updateSelectedRequestsIds([]),T([])}catch(e){pm.logger.error("ActiveSessionTable~~ Failed to delete requests",e),A.updateCapturedRequests(i),A.updateReqData(A.capturedRequests),s=p().size(I)>1?"Failed to delete requests":"Failed to delete request",P({status:"error",description:s})}finally{j(!1)}m.default.addEventV2({category:(0,g.default)({source:e.source}),action:"delete-request-clicked",label:"in-session",traceId:e.sessionId})},type:"tertiary",text:"Delete",icon:n.createElement(d.default,null),isDisabled:!(p().size(I)>0),tooltip:p().size(I)>0?null:"No requests selected to delete."}))),n.createElement(c.default,{data:t,columns:O,getRowId:e=>{if(e)return e.requestDbId?e.requestDbId:`local-${e.requestLocalId}`},rowSelected:{onSelect:e=>{let t=Object.keys(e);p().remove(t,(e=>!!(e&&e.search("local")>=0))),T(t),A.updateSelectedRequestsIds(p().uniq(t))},autoResetSelectedRows:k},bodyMaxHeight:h,rowExpanded:{subComponent:t=>n.createElement(o.default,{padding:{paddingLeft:"spacing-xl"},backgroundColor:"background-color-tertiary",className:"pm-expanded-row-container"},n.createElement(x.default,{rowData:t,isActiveSession:e.isActiveSession,source:e.source})),autoResetExpanded:!1},globalFilter:{filter:w,placeholder:"Search captured requests",autoResetGlobalFilter:!1}}))}},"./integrations/proxy/components/ShowMoreLess.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return a}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("./js/components/base/Buttons.js");class a extends n.Component{constructor(e){super(e),this.container=n.createRef(),this.state={hideExpansionLink:!1,expanded:!1}}componentDidMount(){const e=this.container.current,t=0!==e.clientHeight&&(e.scrollHeight===e.clientHeight||e.scrollHeight<=e.clientHeight+this.props.extraPadding),s=e.scrollHeight>e.clientHeight;t?this.setState({hideExpansionLink:!0}):this.setState({expanded:!s})}render(){const{Inner:e,lineHeight:t,numLines:s,extraPadding:a,parentClass:r}=this.props;return n.createElement(i.default,{direction:"column"},n.createElement("div",{ref:this.container,style:{display:"flex",flexDirection:"column",lineHeight:`${t}px`,maxHeight:`${t*s+a}px`,overflow:"hidden"}},e),n.createElement("div",{onClick:()=>{this.state.expanded?this.container.current.style.setProperty("max-height",`${t*s+a}px`):this.container.current.style.removeProperty("max-height"),this.setState({expanded:!this.state.expanded})}},n.createElement(o.Button,{className:`${r}__show-hide-details`,type:"text"},this.state.hideExpansionLink?"":this.state.expanded?"Show Less":"...Show More")))}}},"./integrations/proxy/components/TableRowExpandedView.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),d=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js"),u=s("./js/modules/services/AnalyticsService.js"),h=s("./integrations/proxy/helpers/analyticsEventUtils.js"),p=s("./js/stores/StoreManager.js"),m=s("./js/stores/InterceptorSettingsStore.js"),g=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),f=s("./integrations/proxy/components/ShowMoreLess.js"),y=s("./node_modules/lodash/lodash.js"),b=s.n(y),x=s("./integrations/proxy/helpers/constants.ts"),S=s("../../node_modules/console-browserify/index.js");let _=(0,g.observer)(n=class extends i.Component{constructor(e){super(e),this.store=(0,p.resolveStoreInstance)(m.default),this.state={showRequestHeaders:!1,showRequestBody:!1,showResponseBody:!1,showResponseHeaders:!1},this.getHeadersView=this.getHeadersView.bind(this),this.getParsedBody=this.getParsedBody.bind(this)}getParsedBody(e){let t={};try{t=b().isArray(e)||b().isObject(e)?JSON.stringify(e,null,2):e}catch(s){S.log("Parsing error ",s),t=e}return t}getBodyView(e){return i.createElement(o.default,{backgroundColor:"background-color-tertiary"},i.createElement(f.default,{extraPadding:14,Inner:i.createElement(a.default,{type:"para",className:"body-text"},this.getParsedBody(e)),lineHeight:24,numLines:8,parentClass:"pm-proxy-expanded-view__details-wrapper"}))}getHeadersView(e){let t=e;return"object"==typeof e&&(t=[],b().forEach(e,((e,s)=>{t.push({key:s,value:e})}))),i.createElement("div",null,i.createElement("table",null,i.createElement("tbody",null,t.map(((e,t)=>i.createElement("tr",{key:t},i.createElement("td",{style:{verticalAlign:"top"}},i.createElement(a.default,{type:"para",className:"body-text"},e.key,"  ")),":  ",i.createElement("td",{style:{verticalAlign:"top"}},i.createElement(a.default,{type:"para",className:"body-text"},e.value))))))))}render(){return u.default.addEventV2({category:(0,h.default)({source:this.props.source}),action:"request-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),i.createElement("div",{className:"pm-proxy-expanded-view"},i.createElement(o.default,{direction:"column",gap:"spacing-s"},i.createElement(a.default,{type:"para",color:"content-color-primary"},"URL : ",this.props.rowData.url),i.createElement(a.default,{color:"content-color-primary",typographyStyle:{paddingLeft:"spacing-s"}},"Method : ",this.props.rowData.method),this.props.source!==x.INTERCEPTOR&&this.props.rowData.responseStatusCode>0&&i.createElement(a.default,{color:"content-color-primary",typographyStyle:{paddingLeft:"spacing-s"}},"Status Code : ",this.props.rowData.responseStatusCode),i.createElement(o.default,{direction:"column",gap:"spacing-zero"},this.props.rowData.headers&&b().size(this.props.rowData.headers)>0&&i.createElement(o.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},i.createElement(o.default,{direction:"column"},i.createElement(o.default,{justifyContent:"flex-start"},i.createElement(r.default,{onClick:()=>{this.state.showRequestHeaders||u.default.addEventV2({category:(0,h.default)({source:this.props.source}),action:"request-req-header-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showRequestHeaders:!this.state.showRequestHeaders})},type:"tertiary",size:"small",text:i.createElement(l.default,{type:"h6",text:"Request Headers",color:"content-color-primary"}),icon:this.state.showRequestHeaders?i.createElement(c.default,null):i.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showRequestHeaders&&this.getHeadersView(this.props.rowData.headers))),this.props.rowData.body&&b().size(this.getParsedBody(this.props.rowData.body))>0&&i.createElement(o.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},i.createElement(o.default,{direction:"column"},i.createElement(o.default,{justifyContent:"flex-start"},i.createElement(r.default,{onClick:()=>{this.state.showRequestBody||u.default.addEventV2({category:(0,h.default)({source:this.props.source}),action:"request-req-body-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showRequestBody:!this.state.showRequestBody})},type:"tertiary",size:"small",text:i.createElement(l.default,{type:"h6",text:"Request Body",color:"content-color-primary"}),icon:this.state.showRequestBody?i.createElement(c.default,null):i.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showRequestBody&&this.getBodyView(this.props.rowData.body))),this.props.rowData.responseHeaders&&b().size(this.props.rowData.responseHeaders)>0&&i.createElement(o.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},i.createElement(o.default,{direction:"column"},i.createElement(o.default,{justifyContent:"flex-start"},i.createElement(r.default,{onClick:()=>{this.state.showResponseHeaders||u.default.addEventV2({category:(0,h.default)({source:this.props.source}),action:"request-res-header-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showResponseHeaders:!this.state.showResponseHeaders})},type:"tertiary",size:"small",text:i.createElement(l.default,{type:"h6",text:"Response Headers",color:"content-color-primary"}),icon:this.state.showResponseHeaders?i.createElement(c.default,null):i.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showResponseHeaders&&this.getHeadersView(this.props.rowData.responseHeaders))),this.props.rowData.responseBody&&b().size(this.getParsedBody(this.props.rowData.responseBody))>0&&i.createElement(o.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},i.createElement(o.default,{direction:"column"},i.createElement(o.default,{justifyContent:"flex-start"},i.createElement(r.default,{onClick:()=>{this.state.showResponseBody||u.default.addEventV2({category:(0,h.default)({source:this.props.source}),action:"request-res-body-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showResponseBody:!this.state.showResponseBody})},type:"tertiary",size:"small",text:i.createElement(l.default,{type:"h6",text:"Response Body",color:"content-color-primary"}),icon:this.state.showResponseBody?i.createElement(c.default,null):i.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showResponseBody&&this.getBodyView(this.props.rowData.responseBody))))))}})||n},"./integrations/proxy/components/filters/ActiveSessionPageFilters/InterceptorMethodsFilters.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),a=s("./integrations/proxy/stores/ProxySessionStore.js"),r=s("./js/stores/StoreManager.js"),l=s("./js/stores/InterceptorSettingsStore.js"),c=s("./node_modules/lodash/lodash.js"),d=s.n(c),u=s("./js/utils/InterceptorUtil.js"),h=s("./js/modules/services/AnalyticsService.js"),p=s("./integrations/proxy/helpers/analyticsEventUtils.js"),m=s("./integrations/proxy/helpers/constants.ts");class g extends n.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default),this.proxyStore=(0,r.resolveStoreInstance)(a.default),this.methodOptions=d().map(m.REQUEST_METHODS,(e=>({value:e,label:e}))),this.oldFilters=d().map(this.store.requestCaptureFilters.methods,(e=>({label:e,value:e}))),this.state={methodFilterValue:this.oldFilters,inlineLabel:this.setInitialInlineLabel()},this.handleMultiSelection=this.handleMultiSelection.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.delayedSubmit=d().debounce(this.handleSubmit,500)}setInitialInlineLabel(){let e="Methods";const t=d().size(this.oldFilters);return t>1?e=`${t} Methods`:1===t&&(e=`${t} Method`),e}handleSubmit(){const e=this.store.getRequestCaptureFilters();let t,s;if(pm.interceptorBridge.requestCapture.updateFilters(e),d().get(e,"methods")){t="filter-request-by-method";let n=(0,u.sanitize)(e.methods);s=d().size(n)>0?"applied":"cleared"}h.default.addEventV2({category:(0,p.default)({isInterceptorSession:!0}),action:t,label:s,traceId:(0,r.resolveStoreInstance)(a.default).activeSessionId})}handleMultiSelection(e){e=d().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()})));let t="Methods";const s=d().size(e);s>1?t=`${s} Methods`:1===s&&(t=`${s} Method`),this.setState({methodFilterValue:e,inlineLabel:t});let n=d().map(e,(e=>e.value.trim().toUpperCase()));n=d().uniq(n),this.store.updateRequestCaptureFilters({url:this.store.requestCaptureFilters.url,methods:n}),this.delayedSubmit()}render(){return n.createElement(i.default,null,n.createElement(o.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.methodOptions,value:this.state.methodFilterValue,placeholder:"Methods",inlineLabel:this.state.inlineLabel,menuMaxHeight:300}))}}},"./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyMethodsFilter.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),a=s("./node_modules/lodash/lodash.js"),r=s.n(a),l=s("./integrations/proxy/helpers/constants.ts");class c extends n.Component{constructor(e){super(e),this.state={value:this.props.filters,inlineLabel:this.setInitialInlineLabel()},this.methodOptions=r().map(l.REQUEST_METHODS,(e=>({value:e,label:e}))),this.handleMultiSelection=this.handleMultiSelection.bind(this)}setInitialInlineLabel(){let e="Methods";const t=r().size(this.props.filters);return t>1?e=`${t} Methods`:1===t&&(e=`${t} Method`),e}handleMultiSelection(e){e=r().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()})));let t="Methods";const s=r().size(e);s>1?t=`${s} Methods`:1===s&&(t=`${s} Method`),this.setState({value:e,inlineLabel:t}),this.props.onFilterChange("methods",e)}render(){return n.createElement(i.default,null,n.createElement(o.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.methodOptions,value:this.state.value,placeholder:"Methods",inlineLabel:this.state.inlineLabel,menuMaxHeight:300}))}}},"./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyResourcesFilter.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),a=s("./node_modules/lodash/lodash.js"),r=s.n(a);class l extends n.Component{constructor(e){if(super(e),this.handleMultiSelection=this.handleMultiSelection.bind(this),this.state={value:[],inlineLabel:this.setInitialInlineLabel()},this.resourcesOptions=[{value:"js_enabled",label:"JS"},{value:"css_enabled",label:"CSS"},{value:"image_enabled",label:"Image"}],this.props.filters.css_enabled){let e=this.state.value;e.push({value:"css_enabled",label:"CSS"}),this.setState({value:r().uniq(e)})}if(this.props.filters.js_enabled){let e=this.state.value;e.push({value:"js_enabled",label:"JS"}),this.setState({value:r().uniq(e)})}if(this.props.filters.image_enabled){let e=this.state.value;e.push({value:"image_enabled",label:"Image"}),this.setState({value:r().uniq(e)})}}setInitialInlineLabel(){let e=0;this.props.filters.css_enabled&&(e+=1),this.props.filters.js_enabled&&(e+=1),this.props.filters.image_enabled&&(e+=1);let t="Resources";return e>1?t=`${e} Resources`:1===e&&(t=`${e} Resource`),t}handleMultiSelection(e){const t=r().difference(this.state.value,e);this.setState({value:e}),r().forEach(e,(e=>{this.props.onFilterChange(e.value,!0)})),r().forEach(t,(e=>{this.props.onFilterChange(e.value,!1)}));let s="Resources";const n=r().size(e);n>1?s=`${n} Resources`:1===n&&(s=`${n} Resource`),this.setState({value:e,inlineLabel:s})}render(){return n.createElement(i.default,null,n.createElement(o.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.resourcesOptions,value:this.state.value,placeholder:"Resources",inlineLabel:this.state.inlineLabel}))}}},"./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyStatusFilter.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),a=s("./integrations/proxy/helpers/constants.ts"),r=s("./node_modules/lodash/lodash.js");class l extends n.Component{constructor(e){super(e),this.userOptions=r.map(a.STATUS_CODES,(e=>({label:e,value:e}))),this.state={value:this.props.filters,inlineLabel:this.setInitialInlineLabel()},this.handleMultiSelection=this.handleMultiSelection.bind(this)}setInitialInlineLabel(){let e="Status Codes";const t=r.size(this.props.filters);return t>1?e=`${t} Status Codes`:1===t&&(e=`${t} Status Code`),e}handleMultiSelection(e){let t="Status Codes";r.size(e)>1?t=`${r.size(e)} Status Codes`:1===r.size(e)&&(t=`${r.size(e)} Status Code`),this.setState({value:e,inlineLabel:t}),this.props.onFilterChange("status_codes",e)}render(){return n.createElement(i.default,null,n.createElement(o.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.userOptions,value:this.state.value,placeholder:"Status Codes",inlineLabel:this.state.inlineLabel,menuMaxHeight:300}))}}},"./integrations/proxy/components/filters/PreSessionFilters/InterceptorSettingsFilters.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var n,i=s("../../node_modules/react/index.js"),o=s("./node_modules/lodash/lodash.js"),a=s.n(o),r=s("./js/stores/CurrentUserStore.js"),l=s("./integrations/proxy/stores/ProxySessionStore.js"),c=s("./js/stores/StoreManager.js"),d=s("./js/stores/InterceptorSettingsStore.js"),u=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),h=s("./appsdk/services/PageService.js"),p=s("./appsdk/navigation/constants.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),g=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),f=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),y=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),b=s("./js/utils/InterceptorUtil.js"),x=s("./js/modules/services/AnalyticsService.js"),S=s("./integrations/proxy/helpers/analyticsEventUtils.js"),_=s("./integrations/proxy/helpers/constants.ts");let v=(0,u.observer)(n=class extends i.Component{constructor(e){super(e),this.store=(0,c.resolveStoreInstance)(d.default),this.proxyStore=(0,c.resolveStoreInstance)(l.default),this.methodOptions=a().map(_.REQUEST_METHODS,(e=>({value:e,label:e}))),this.oldFilters=a().map(this.store.requestCaptureFilters.methods,(e=>({label:e,value:e}))),this.state={methodFilterValue:this.oldFilters},this.handleURLChange=this.handleURLChange.bind(this),this.handleMethodChange=this.handleMethodChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.delayedSubmit=a().debounce(this.handleSubmit,500),this.handleMultiSelection=this.handleMultiSelection.bind(this)}handleURLChange(e){this.store.updateRequestCaptureFilters({url:e,methods:this.store.requestCaptureFilters.methods}),this.delayedSubmit({urlFilterUpdated:!0})}handleMethodChange(e){this.store.updateRequestCaptureFilters({url:this.store.requestCaptureFilters.url,methods:e}),this.delayedSubmit({methodFilterUpdated:!0})}handleSubmit(e){const t=this.store.getRequestCaptureFilters();let s,n;if(pm.interceptorBridge.requestCapture.updateFilters(t),a().has(t,"methods")&&a().get(e,"methodFilterUpdated")){s="filter-request-by-method";let e=(0,b.sanitize)(t.methods);n=a().size(e)>0?"applied":"cleared"}a().has(t,"url")&&a().get(e,"urlFilterUpdated")&&(s="filter-request-by-url-contians",n=a().size(t.url)>0?"applied":"cleared",this.props.updateInlineLabel(t.url)),x.default.addEventV2({category:(0,S.default)({isInterceptorSession:!0}),action:s,label:n,traceId:(0,c.resolveStoreInstance)(l.default).activeSessionId})}handleMultiSelection(e){e=a().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()}))),this.setState({methodFilterValue:e});let t=a().map(e,(e=>e.value.trim().toUpperCase()));t=a().uniq(t),this.store.updateRequestCaptureFilters({url:this.store.requestCaptureFilters.url,methods:t}),this.delayedSubmit({methodFilterUpdated:!0})}render(){let e=h.PageService.activePage===p.SCRATCHPAD&&(0,c.resolveStoreInstance)(r.default).isLoggedIn;return i.createElement(m.default,{direction:"column",gap:"spacing-l",grow:1,width:"100%"},i.createElement(g.default,{isDisabled:e,label:i.createElement(f.default,{text:"URLs must contain",infoText:"Regular expressions are supported"}),onChange:e=>this.handleURLChange(e.target.value),value:this.store.requestCaptureFilters.url}),this.proxyStore.isOnStartPage&&i.createElement(y.default,{label:i.createElement(f.default,{text:"Methods"}),isDisabled:e,value:this.state.methodFilterValue||[],placeholder:" ",onChange:this.handleMultiSelection,options:this.methodOptions,menuMaxHeight:250}))}})||n},"./integrations/proxy/components/filters/PreSessionFilters/ProxySettingsFilters.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var n,i=s("../../node_modules/react/index.js"),o=s("./appsdk/services/PageService.js"),a=s("./appsdk/navigation/constants.js"),r=s("./js/stores/CurrentUserStore.js"),l=s("./js/stores/StoreManager.js"),c=s("./integrations/proxy/stores/ProxySessionStore.js"),d=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),h=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),m=s("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),g=s("./js/models/tcp/helpers/utils.js"),f=s("./integrations/proxy/helpers/constants.ts"),y=s("./node_modules/lodash/lodash.js"),b=s.n(y);let x=(0,d.observer)(n=class extends i.Component{constructor(e){super(e),this.proxyStore=(0,l.resolveStoreInstance)(c.default),this.methodOptions=b().map(f.REQUEST_METHODS,(e=>({value:e,label:e}))),this.state={regexErrors:{url:!1,url_disabled:!1},methodFilterValue:[]},this.validateAndSend=this.validateAndSend.bind(this),this.handleMultiSelection=this.handleMultiSelection.bind(this)}validateAndSend(e,t){this.props.onFilterChange(e,t),(0,g.isValidRegex)(t)?this.setState({regexErrors:{...this.state.regexErrors,[e]:!1}}):this.setState({regexErrors:{...this.state.regexErrors,[e]:!0}}),this.props.updateInlineLabel(t,e)}handleMultiSelection(e){e=b().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()}))),this.setState({methodFilterValue:e}),this.props.onFilterChange("methods",e)}render(){let e=this.props.filters,t=o.PageService.activePage===a.SCRATCHPAD&&(0,l.resolveStoreInstance)(r.default).isLoggedIn;return i.createElement(u.default,{direction:"column",gap:"spacing-l",grow:1,className:"additional-filters-area",width:"100%"},i.createElement(h.default,{isDisabled:t,label:i.createElement(p.default,{text:"URLs must contain",infoText:"Regular expressions are supported"}),onChange:e=>this.validateAndSend("url",e.target.value),value:e.url,validationStatus:this.state.regexErrors.url?"warning":null,validationMessage:this.state.regexErrors.url?"Please enter a valid regex":null}),i.createElement(h.default,{isDisabled:t,label:i.createElement(p.default,{text:"URLs can't contain"}),onChange:e=>this.validateAndSend("url_disabled",e.target.value),value:e.url_disabled,validationStatus:this.state.regexErrors.url_disabled?"warning":null,validationMessage:this.state.regexErrors.url_disabled?"Please enter a valid regex":null}),this.proxyStore.isOnStartPage&&i.createElement(m.default,{label:i.createElement(p.default,{text:"Methods"}),isDisabled:t,value:e.methods,onChange:this.handleMultiSelection,options:this.methodOptions,placeholder:" ",menuMaxHeight:250}))}})||n},"./integrations/proxy/components/helpers/CaptureProxyStartupBanner.js":function(e,t,s){s.r(t);var n=s("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=s("../../node_modules/react/index.js"),l=s("./appsdk/components/link/Link.js"),c=s("./js/constants/AppUrlConstants.js"),d=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=s("./js/stores/StoreManager.js"),h=s("./integrations/proxy/stores/ProxySessionStore.js");t.default=(0,d.observer)((e=>{const t=(0,u.resolveStoreInstance)(h.default);return r.createElement(n.default,{title:r.createElement(i.default,{type:"h5",text:"Capture HTTPS requests via Proxy"}),status:"info",onDismiss:()=>{t.updateShowProxyBanner(!1)}},r.createElement(o.default,{direction:"column",gap:"spacing-s"},r.createElement(a.default,null,"Just install a certificate to start routing HTTPS requests through Postman's proxy server."),r.createElement(l.default,{to:c.PROXY_INSTALL_ROOT_CA_DOCS_URL},r.createElement(a.default,{type:"link-default",isExternal:!0},"Learn how to install a certificate"))))}))},"./integrations/proxy/components/helpers/Clock.js":function(e,t,s){s.r(t);var n=s("../../node_modules/react/index.js"),i=s("./js/stores/StoreManager.js"),o=s("./integrations/proxy/stores/ProxySessionStore.js"),a=s("../../node_modules/mobx-react/dist/mobx-react.module.js");t.default=(0,a.observer)((e=>{const t=(0,i.resolveStoreInstance)(o.default),s=t.activeSessionDurationObject;return(0,n.useEffect)((()=>{e.isProxyCapturePaused?t.stopSessionClock():t.startSessionClock()}),[e.isProxyCapturePaused]),n.createElement("div",null,n.createElement("span",null,s.h>=10?s.h:`0${s.h}`)," : ",n.createElement("span",null,s.m>=10?s.m:`0${s.m}`)," : ",n.createElement("span",null,s.s>=10?s.s:`0${s.s}`))}))},"./integrations/proxy/components/helpers/OverviewChart.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var n=s("../../node_modules/react/index.js"),i=s("./node_modules/chart.js/auto/auto.js"),o=(s("./node_modules/chartjs-adapter-moment/dist/chartjs-adapter-moment.esm.js"),s("../../node_modules/mobx-react/dist/mobx-react.module.js")),a=s("./integrations/proxy/helpers/constants.ts");function r(e){const[t,s]=(0,n.useState)(),o=(0,n.useRef)(null),r={labels:e.data.labels,datasets:[{label:e.xAxisLabel,backgroundColor:a.COLOR_CODES,borderColor:"rgb(255, 199, 132)",data:e.data.data}]},l={responsive:!0,maintainAspectRatio:!1,datasets:{bar:{barPercentage:.5}},plugins:{legend:{display:!1},title:{display:!1,text:"Methods",position:"bottom"}},scales:{x:{title:{display:!0,text:e.xAxisLabel},grid:{display:!1},ticks:{minRotation:0,maxRotation:20}},y:{title:{display:!0,text:"No of requests"},ticks:{callback:function(e,t){if(e%10==0)return e}},grid:{display:!0,drawTicks:!0}}},layout:{paddingTop:"100px"}};return(0,n.useEffect)((()=>{let e=new i.default(o.current.getContext("2d"),{type:"bar",data:r,options:l});return()=>{e.destroy(),s(e)}}),[e.data]),n.createElement("div",{className:"pm-overview-chart"},n.createElement("canvas",{ref:o}))}r.propTypes={type:o.PropTypes.string,data:o.PropTypes.object,options:o.PropTypes.object}},"./integrations/proxy/components/helpers/OverviewTable.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return o}});var n=s("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),i=s("../../node_modules/react/index.js");s("./node_modules/lodash/lodash.js");function o(e){const[t,s]=(0,i.useState)([]),[o,a]=(0,i.useState)("500px");(0,i.useEffect)((()=>{const e=document.querySelector(".pane-content"),t=new ResizeObserver((e=>{(e=>{a(e[0].contentRect.height-650+"px")})(e)}));return t.observe(e),()=>{t.unobserve(e)}}),[]),(0,i.useEffect)((()=>{s(e.data)}),[e.data]);let r=i.useMemo((()=>(()=>{let t=[];return t.push({cellWidth:"32px",id:"SelectAll",accessor:({color:e})=>i.createElement("div",{style:{width:"11.2px",height:"11.2px",backgroundColor:e,marginTop:"4px"}})}),t.push({Header:e.selectedOption.label||"Methods",accessor:"type"}),t.push({Header:"Number of requests",accessor:"noOfRequests"}),t})()));return i.createElement("div",{className:"pm-overview-table"},i.createElement(n.default,{className:"overview-table",data:t,columns:r,bodyMaxHeight:"100%"}))}},"./integrations/proxy/components/helpers/StatusCodeBadge.js":function(e,t,s){s.r(t);var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js");t.default=({statusCode:e})=>{let t="info";const s=parseInt(e/100),o={2:"success",3:"neutral",4:"critical",5:"critical"};return o[s]&&(t=o[s]),n.createElement(i.default,{style:{padding:"0px"},status:t,text:e.toString()})}},"./integrations/proxy/components/interceptor/AutoSyncCookiesInstructionBanner.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var n=s("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=s("../../node_modules/react/index.js"),r=s("./appsdk/components/link/Link.js"),l=s("./js/constants/AppUrlConstants.js"),c=s("./js/stores/StoreManager.js"),d=s("./js/stores/InterceptorSettingsStore.js");function u(e){const t=(0,c.resolveStoreInstance)(d.default);return a.createElement(n.default,{title:"Auto sync cookies from Postman cookie jar",status:"info",onDismiss:()=>t.updateShowAutoSyncCookiesBannerInterceptor(!1)},a.createElement(i.default,{gap:"spacing-s",direction:"column"},a.createElement(o.default,null,"You can now sync cookies from any browser or app to Postman desktop app using Postman Proxy or Interceptor."),a.createElement(r.default,{to:l.COOKIE_SYNC_VIA_PROXY_INTERCEPTOR_DOC_URL},a.createElement(o.default,{type:"link-default"},"Learn More"))))}},"./integrations/proxy/components/popovers/EnableProxyPopover.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke.js"),h=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),p=s("./integrations/proxy/stores/SessionCookieStore.js"),m=s("./js/stores/StoreManager.js"),g=s("./integrations/proxy/stores/ProxySessionStore.js"),f=s("./integrations/proxy/helpers/constants.ts");let y=(0,h.observer)(n=class extends i.Component{constructor(e){super(e),this.proxyStore=(0,m.resolveStoreInstance)(g.default),this.sessionCookieStore=(0,m.resolveStoreInstance)(p.default),this.getTriggerForFilter=this.getTriggerForFilter.bind(this),this.closePopover=this.closePopover.bind(this),this.onEnableProxyClicked=this.onEnableProxyClicked.bind(this)}closePopover(){this.proxyStore.updateShowEnableProxyPopover(!1)}onEnableProxyClicked(e){e===f.ENABLE_PROXY_ACTION?this.props.togglePortSettingsState():e===f.DISABLE_PROXY_ACTION&&this.props.handleConnectOnProxyToggle(),this.closePopover()}getTriggerForFilter(){const{shouldAutoSyncCookiesToCookieJarViaProxy:e}=this.sessionCookieStore,{proxyConnectionSettings:t}=pm.tcpReader,s=e||t.status===f.STATUS_CONNECTING||t.status===f.STATUS_DISCONNECTING;return i.createElement(o.default,{onClick:()=>{const e=t.status===f.STATUS_CONNECTED?f.DISABLE_PROXY_ACTION:f.ENABLE_PROXY_ACTION;this.onEnableProxyClicked(e)},type:"plain",isDisabled:s,text:t.status===f.STATUS_CONNECTED?f.DISABLE_PROXY_ACTION:f.ENABLE_PROXY_ACTION,tooltip:e?i.createElement(a.default,{content:f.COOKIE_SYNC_ENABLED_PROXY_TOGGLE_TOOLTIP,placement:"top"}):null})}render(){return i.createElement(r.default,{placement:"bottom",padding:"spacing-l",isOpen:this.proxyStore.showEnableProxyPopover,trigger:this.getTriggerForFilter(),onClickOutside:this.closePopover},i.createElement(l.default,{direction:"column",gap:"spacing-m"},i.createElement(l.default,{justifyContent:"space-between"},i.createElement(c.default,{type:"h6",text:"Enable proxy to start capturing requests",color:"content-color-primary"}),i.createElement("div",{onClick:this.closePopover,style:{paddingTop:"2px",cursor:"pointer"}},i.createElement(u.default,null))),i.createElement(d.default,{type:"para",color:"content-color-primary"},"By enabling Postman as a proxy will let postman app intercept Incoming traffic from any device or browser")))}})||n},"./integrations/proxy/components/popovers/FilterURLPopover.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),d=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=s("./integrations/proxy/components/filters/PreSessionFilters/ProxySettingsFilters.js"),h=s("./integrations/proxy/stores/ProxySessionStore.js"),p=s("./js/stores/StoreManager.js"),m=s("./js/stores/InterceptorSettingsStore.js"),g=s("./integrations/proxy/components/filters/PreSessionFilters/InterceptorSettingsFilters.js"),f=s("./integrations/proxy/helpers/constants.ts"),y=s("./node_modules/lodash/lodash.js");let b=(0,d.observer)(n=class extends i.Component{constructor(e){super(e),this.interceptorStore=(0,p.resolveStoreInstance)(m.default),this.proxyStore=(0,p.resolveStoreInstance)(h.default),this.state={inlineLabel:this.getInitialInlineLabel()},this.updateInlineLabel=this.updateInlineLabel.bind(this)}updateInlineLabel(e,t){let s="URL";this.props.source===f.INTERCEPTOR?y.size(e)>0&&(s="Custom URL"):this.props.source===f.PROXY&&("url"===t?(y.size(e)>0||y.size(this.props.filters.url_disabled)>0)&&(s="Custom URL"):"url_disabled"===t&&(y.size(e)>0||y.size(this.props.filters.url)>0)&&(s="Custom URL")),this.setState({inlineLabel:s})}getInitialInlineLabel(){let e="URL";return this.props.source===f.INTERCEPTOR?y.size(this.interceptorStore.requestCaptureFilters.url)>0&&(e="Custom URL"):this.props.source===f.PROXY&&(y.size(this.props.filters.url)>0||y.size(this.props.filters.url_disabled)>0)&&(e="Custom URL"),e}getTriggerForFilter(){return i.createElement("div",{onClick:()=>{},className:"pm-proxy-configure-url-popover"},i.createElement(o.default,{direction:"row",gap:"spacing-s"},i.createElement(a.default,{color:"content-color-primary"},this.state.inlineLabel),i.createElement("div",{style:{paddingTop:"2px"}},i.createElement(c.default,null))))}render(){return i.createElement(r.default,{placement:"bottom-start",padding:"spacing-l",trigger:this.getTriggerForFilter()},i.createElement(o.default,{direction:"column",gap:"spacing-s"},i.createElement(l.default,{type:"h6",text:"Configure by URL",color:"content-color-primary"}),i.createElement(a.default,{type:"para"},"Regular expressions are supported"),this.interceptorStore.captureRequestEnabled?i.createElement(g.default,{updateInlineLabel:this.updateInlineLabel}):i.createElement(u.default,{updateInlineLabel:this.updateInlineLabel,filters:this.props.filters,onFilterChange:this.props.onFilterChange})))}})||n},"./integrations/proxy/helpers/TableUtils.js":function(e,t,s){s.r(t),s.d(t,{openRequest:function(){return c},showDeleteToast:function(){return d}});var n=s("./runtime-repl/request-http/_api/RequestInterface.js"),i=s("./js/modules/services/AnalyticsService.js"),o=s("./integrations/proxy/helpers/analyticsEventUtils.js"),a=s("./integrations/proxy/helpers/responseUtil.js"),r=s("./integrations/proxy/helpers/constants.ts"),l=s("./node_modules/lodash/lodash.js");function c(e,t,s,c,d){let u;e.preventDefault();try{u=JSON.parse(l.get(t,"body")),"raw"===t.dataMode&&(u=JSON.stringify(u))}catch(e){u=l.get(t,"body")}const h=l.map(l.keys(t.headers),(e=>({key:e,value:t.headers[e]}))),p=l.assign({},{data:u,dataMode:t.dataMode,headerData:h,method:t.method,url:t.url}),m={headers:t.responseHeaders,body:t.responseBody,statusCode:t.responseStatusCode,statusMessage:t.responseStatusMessage};(0,n.openNewRequestTab)({initialValue:p,response:(0,a.createResponseData)(m,t.responseTime)}),i.default.addEventV2({category:(0,o.default)({source:s}),action:r.ANALYTICS.OPEN_REQUEST_ACTION,label:d,traceId:c})}function d(e,t){let s;s=l.size(t)>1?"Failed to delete requests":"Failed to delete request",e({status:"error",description:s})}},"./integrations/proxy/helpers/analyticsEventUtils.js":function(e,t,s){s.r(t);var n=s("./integrations/proxy/helpers/constants.ts");const i="proxy-session",o="interceptor-session";t.default=function({isProxySession:e,isInterceptorSession:t,source:s}){return s?s===n.PROXY?i:s===n.INTERCEPTOR?o:void 0:e?i:t?o:"capture-session"}},"./integrations/utils/OauthUtilityMethods.js":function(e,t,s){s.r(t);var n=s("./integrations/services/OAuthService.js"),i=s("./node_modules/lodash/lodash.js"),o=s.n(i),a=s("./js/stores/StoreManager.js"),r=s("./js/stores/SyncStatusStore.js"),l=s("./js/services/NavigationService.js");t.default={handleInitiateOAuth:(e,t)=>{let s={};return t&&(s.tokenType=t),new Promise(((t,i)=>{n.default.initiateAuthorization(e,s).then((s=>{let n,a=s.body;if(200===s.status&&!o().isEmpty(a))return n=`${window.postman_integrations_public_url}/oauth/authorize/${e}?sessionId=${a.sessionId}`,l.default.openURL(n,{target:"_blank"}),t(o().get(a,"sessionId"));pm.logger.warn("OauthUtilityMethods~handleInitiateOAuth: Something went wrong while opening authorization",s.body),pm.toasts.error("Something went wrong while initiating authorization"),i(new Error("Something went wrong"))})).catch((e=>{let t=!(0,a.resolveStoreInstance)(r.default).isSocketConnected?"You need to be online to complete the authorization ":"Something went wrong while initiating authorization";pm.logger.warn("OauthUtilityMethods~handleInitiateOAuth: Something went wrong while opening authorization",e),pm.toasts.error(t),i(e)}))}))},pollForToken(e){let t=0;if(!e.sessionId){let e="Something went wrong while fetching authorization information";throw pm.logger.warn("OauthUtilityMethods~pollForToken: sessionId is required."),pm.toasts.error(e),new Error(e)}const s=(i,l)=>{t++,n.default.getSession(e.sessionId).then((n=>{let a=n.body;return 30===t?(pm.toasts.error("Service timed out while performing authorization"),l(new Error("Exceeded max attempts"))):e.cancelOauth?i():a.token&&!o().isEmpty(a.token)?a.error?(pm.logger.warn("OauthUtilityMethods~pollForToken: Error while getting a session for the user",a.error),pm.toasts.error("Something went wrong while fetching authorization information"),l(new Error("Error while getting a session for the user"))):a.token?i(a.token):(pm.toasts.error("Authorization failed. Please try again."),l(new Error("Authorization could not be completed."))):void setTimeout(s,2e3,i,l)})).catch((e=>{if(e.error){let t=!(0,a.resolveStoreInstance)(r.default).isSocketConnected?"You need to be online to complete the authorization ":"Something went wrong while fetching authorization information";pm.logger.warn("OauthUtilityMethods~pollForToken: Error while getting a session for the user",e.error),pm.toasts.error(t)}return l(e)}))};return new Promise(s)}}},"./integrations/views/HandleAuthorizationViaText.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var n=s("../../node_modules/react/index.js"),i=s("./js/modules/services/AnalyticsService.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/TextArea/TextArea.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");const u=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default.div`
  margin-bottom: var(--spacing-l);
  `;function h({showModal:e,setModalVisibility:t,authCode:s,setAuthCode:h,triggerCallback:p,service:m}){return n.createElement(n.Fragment,null,n.createElement(u,{onClick:()=>t(!0)},n.createElement(o.default,{type:"link-primary",color:"content-color-link",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-m"}},"Enter authorization token")),n.createElement(a.Modal,{isOpen:e,onClose:()=>t(!1)},n.createElement(a.ModalHeader,{heading:"Enter authorization token"}),n.createElement(a.ModalContent,null,n.createElement(o.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-m"}},"To copy your token, click “use authorization token” on the browser"),n.createElement(r.default,{direction:"column",gap:"spacing-s"},n.createElement(l.default,{label:n.createElement(c.default,{text:"Enter authorization token"}),placeholder:"Paste token here",value:s,onChange:e=>h(e.target.value)}))),n.createElement(a.ModalFooter,null,n.createElement(r.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-m"},n.createElement(d.default,{type:"primary",text:"Authenticate",onClick:()=>{i.default.addEventV2({category:"api_repo_integration_v2",action:"manual_auth_token_input",label:`on_premise_git_${m}`,value:1}),p()}})))))}},"./integrations/views/LocalOAuthCallbackView.js":function(e,t,s){s.r(t);var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),r=s("./integrations/components/OAuthComponent.js"),l=s("./integrations/git/services/OnPrem/OnPremOAuthService.js"),c=s("./integrations/git/services/OnPrem/constants.ts"),d=s("./integrations/views/HandleAuthorizationViaText.js"),u=s("./node_modules/lodash/lodash.js");let h=(0,o.observer)(n=class extends i.PureComponent{constructor(e){super(e),this.state={authStatus:c.AUTH_STATUS.STARTED,showModal:!1,authCode:""},this.renderHandleAuthToken=this.renderHandleAuthToken.bind(this),this.setModalVisibility=this.setModalVisibility.bind(this),this.setAuthCode=this.setAuthCode.bind(this),this.triggerCallback=this.triggerCallback.bind(this)}componentDidMount(){const{addToast:e}=this.props,{serviceConfig:t}=this.props.controller;u.isEmpty(t)?e({title:"Error",message:"Invalid service provided. Please check the URL for authorization and try again.",status:"error"}):this.props.controller.triggerOauth().catch((e=>{this.setState({authStatus:c.AUTH_STATUS.FAILED})}))}setModalVisibility(e){this.setState({showModal:e})}setAuthCode(e){this.setState({authCode:e})}triggerCallback(){this.setModalVisibility(!1);const e=this.state.authCode;l.default.triggerOAuthCallback(e)}renderHandleAuthToken(){const e=this.state.showModal,t=this.state.authCode,s=this.setModalVisibility,n=this.setAuthCode,i=this.triggerCallback,{serviceConfig:o}=this.props.controller,a=u.get(o,"userFriendlyServiceName");return(0,d.default)({showModal:e,setModalVisibility:s,authCode:t,setAuthCode:n,triggerCallback:i,service:a})}render(){const{serviceConfig:e,cancelFlow:t}=this.props.controller,s=u.get(e,"userFriendlyServiceName"),{authStatus:n}=this.state;return n===c.AUTH_STATUS.STARTED?i.createElement(r.AuthorizingView,{CustomAuthHandler:this.renderHandleAuthToken,iconName:u.get(e,"iconName"),primaryText:`Connecting to ${s}...`,secondaryText:"This may take up to 60 seconds.",onCancel:t}):n===c.AUTH_STATUS.FAILED?i.createElement(r.AuthorizationErrorView,{title:`${s} authorization error`,description:"Please try again.",buttonText:"Try again",onButtonClick:()=>{this.setState({authStatus:c.AUTH_STATUS.STARTED}),this.props.controller.triggerOauth().catch((e=>{this.setState({authStatus:c.AUTH_STATUS.FAILED})}))}}):void 0}})||n;t.default=(0,a.default)(h)},"./integrations/views/OauthReauthenticateView.js":function(e,t,s){s.r(t);var n,i=s("../../node_modules/react/index.js"),o=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),h=s("./integrations/services/OAuthService.js"),p=s("./js/services/NavigationService.js"),m=s("./integrations/components/OAuthComponent.js"),g=s("./integrations/constants/integrationsConstants.ts"),f=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),y=s("./integrations/git/constants.js"),b=s("./integrations/git/stores/helpers.js"),x=s("./api-dev/interfaces/APIInterface.js"),S=s("./integrations/git/services/OnPrem/OnPremOAuthService.js"),_=s("./integrations/git/services/OnPrem/constants.ts"),v=s("./integrations/views/HandleAuthorizationViaText.js"),E=s("./integrations/git/services/OnPrem/helpers.ts"),w=s("./node_modules/lodash/lodash.js");const C=f.default.div`
  padding: var(--spacing-xxl);
  width: calc(var(--size-s) * 20);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
 `;let I=(0,o.observer)(n=class extends i.PureComponent{constructor(e){super(e),this.state={authStatus:_.AUTH_STATUS.STARTED,personalAccessToken:"",personalAccessTokenError:"",isLoading:!1,showModal:!1,authCode:"",hasStarted:!1},this.initiateOAuth=this.initiateOAuth.bind(this),this.updatePersonalAccessToken=this.updatePersonalAccessToken.bind(this),this.getPersonalAccessTokenUpdateForm=this.getPersonalAccessTokenUpdateForm.bind(this),this.onAuthorizationComplete=this.onAuthorizationComplete.bind(this),this.renderHandleAuthToken=this.renderHandleAuthToken.bind(this),this.setModalVisibility=this.setModalVisibility.bind(this),this.setAuthCode=this.setAuthCode.bind(this),this.triggerCallback=this.triggerCallback.bind(this)}componentDidMount(){const{addToast:e}=this.props,{serviceConfig:t}=this.props.controller;if(w.isEmpty(t))return e({title:"Error",message:"Invalid service provided. Please check the URL for authorization and try again.",status:"error"}),void this.setState({authStatus:_.AUTH_STATUS.ERROR})}onAuthorizationComplete(){const{reauthorizationCompletedCallback:e,closeTab:t}=this.props.controller,{addToast:s}=this.props;e(),t()}initiateOAuth(){if(this.state.hasStarted)return;this.setState({hasStarted:!0});const{serviceConfig:e,tokenId:t,authType:s,apiId:n,apiVersionId:i,closeTab:o}=this.props.controller,a=w.get(e,"service"),r=w.get(e,"tokenType"),{addToast:l}=this.props,c={tokenType:r,apiVersionId:i};if(t&&(c.tokenId=t),this.setState({authStatus:_.AUTH_STATUS.STARTED}),s===y.AUTH_CATEGORY.OAUTH_LOCAL)return(0,x.getAPI)(n).then((e=>w.get(e,"version.apiRepositoryStore.apiVersionRepositoryInterface").getRemoteGitIntegration())).then((e=>(0,b.handleOnPremReAuthViaOauth)(n,i,e))).then((()=>{o()})).catch((e=>{this.setState({authStatus:_.AUTH_STATUS.FAILED})}));h.default.initiateAuthorization(a,c).then((({status:e,body:t})=>{if(200!==e)pm.logger.error("OauthReauthenticateView~initiateOAuth: Failed to create an OAuth session",{status:e,body:t}),l(403===e?{title:"Error",description:"You do not have access to update the authorization information.",status:"error"}:{title:"Error",description:"Something went wrong while initiating authorization flow",status:"error"}),this.setState({authStatus:_.AUTH_STATUS.FAILED});else{let e=`${window.postman_integrations_public_url}/oauth/authorize/${a}?sessionId=${t.sessionId}`;p.default.openURL(e,{target:"_blank"}),h.default.getToken(t.sessionId,(e=>{if(e)return l({title:"Error",description:"Something went wrong while authorizing. Please try again.",status:"error"}),pm.logger.error("OauthReauthenticateView~initiateOAuth: Failed to fetch token information",e),void this.setState({authStatus:_.AUTH_STATUS.FAILED});this.onAuthorizationComplete()}))}}))}updatePersonalAccessToken(e){const{tokenId:t}=this.props.controller,{personalAccessToken:s}=this.state;this.setState({isLoading:!0},(()=>{h.default.updateToken(t,{accessToken:s}).then((({status:e,body:t})=>{e>=200&&e<300?this.onAuthorizationComplete():(pm.logger.error("OauthReauthenticateView~updatePersonalAccessToken: Failed to update token",{status:e,body:t}),this.setState({personalAccessTokenError:g.PERSONAL_ACCESS_TOKEN_UPDATE_ERROR,isLoading:!1}))})).catch((e=>{pm.logger.error("OauthReauthenticateView~updatePersonalAccessToken: Failed to update token",e),this.setState({personalAccessTokenError:g.PERSONAL_ACCESS_TOKEN_UPDATE_ERROR,isLoading:!1})}))}))}getPersonalAccessTokenUpdateForm(){const{serviceConfig:e}=this.props.controller,{isLoading:t,personalAccessToken:s,personalAccessTokenError:n}=this.state,o=w.get(e,"userFriendlyServiceName");return i.createElement(a.default,{heading:`Update authentication details for ${o}`,name:"oauth-token-update-form",primaryAction:i.createElement(r.default,{type:"primary",text:"Update",isLoading:t,onClick:this.updatePersonalAccessToken}),secondaryAction:i.createElement(r.default,{type:"secondary",text:"Reset",onClick:e=>{this.setState({personalAccessToken:""})}})},i.createElement(l.default,{direction:"column",gap:"spacing-l"},i.createElement(c.default,{type:"password",label:i.createElement(d.default,{text:"Personal Access Token"}),value:s,validationStatus:n?"error":null,validationMessage:n,entityName:"Personal access token",onChange:e=>{this.setState({personalAccessToken:e.target.value})}})))}setModalVisibility(e){this.setState({showModal:e})}setAuthCode(e){this.setState({authCode:e})}triggerCallback(){this.setModalVisibility(!1);const e=this.state.authCode;S.default.triggerOAuthCallback(e)}renderHandleAuthToken(){const e=this.state.showModal,t=this.state.authCode,s=this.setModalVisibility,n=this.setAuthCode,i=this.triggerCallback,{serviceConfig:o}=this.props.controller,a=w.get(o,"userFriendlyServiceName");return(0,v.default)({showModal:e,setModalVisibility:s,authCode:t,setAuthCode:n,triggerCallback:i,service:a})}render(){const{authStatus:e}=this.state,{serviceConfig:t,closeTab:s,authType:n}=this.props.controller,o=w.get(t,"tokenType"),a=n===y.AUTH_CATEGORY.OAUTH_LOCAL,r=n===y.AUTH_CATEGORY.OAUTH_LOCAL?w.get(g.SERVICE_OAUTH_CONFIG,[w.toUpper((0,E.deriveEnterpriseServiceName)(t.service)),"userFriendlyServiceName"]):w.get(t,"userFriendlyServiceName");return o===g.PERSONAL_ACCESS_TOKEN_TYPE?i.createElement(l.default,{justifyContent:"center",width:"100%"},i.createElement(C,null,this.getPersonalAccessTokenUpdateForm())):e===_.AUTH_STATUS.STARTED?(this.initiateOAuth(),i.createElement(m.AuthorizingView,{iconName:w.get(t,"iconName"),CustomAuthHandler:a?this.renderHandleAuthToken:null,primaryText:`Connecting to ${r}...`,secondaryText:"This may take up to 60 seconds.",onCancel:s})):e===_.AUTH_STATUS.FAILED?i.createElement(m.AuthorizationErrorView,{title:`${r} authorization error`,description:"Please try again.",buttonText:"Try again",onButtonClick:()=>{this.setState({authStatus:_.AUTH_STATUS.STARTED})}}):void s()}})||n;t.default=(0,u.default)(I)},"./js/components/banner/BannerBody.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return i}});var n=s("../../node_modules/react/index.js");s("./node_modules/lodash/lodash.js");function i(e){return n.createElement("div",null,e.children)}},"./js/components/banner/BannerConsts.js":function(e,t,s){s.r(t);t.default={NEUTRAL:"neutral",INFO:"info",WARNING:"warning",ERROR:"error",SUCCESS:"success"}},"./js/components/banner/BannerContainer.js":function(e,t,s){s.r(t);var n=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),i=s("../../node_modules/react/index.js"),o=s("./node_modules/lodash/lodash.js"),a=s.n(o),r=s("./node_modules/prop-types/index.js"),l=s.n(r),c=s("./js/components/banner/BannerConsts.js");const d={[c.default.NEUTRAL]:{styleClass:"banner-container__neutral"},[c.default.INFO]:{icon:"icon-state-info-stroke",iconColor:"content-color-info",styleClass:"banner-container__info"},[c.default.WARNING]:{icon:"icon-state-warning-stroke",iconColor:"content-color-warning",styleClass:"banner-container__warning"},[c.default.ERROR]:{icon:"icon-state-error-stroke",iconColor:"content-color-error",styleClass:"banner-container__error"},[c.default.SUCCESS]:{icon:"icon-state-success-stroke",iconColor:"content-color-success",styleClass:"banner-container__success"}},u=function(e){const t=a().get(d,e.bannerType,c.default.INFO);return i.createElement("div",{className:`banner-container ${t.styleClass}`},t.icon&&i.createElement("div",null,i.createElement(n.default,{name:t.icon,color:t.iconColor})),i.createElement("div",{className:"banner-content"},e.children),e.isDismissible&&i.createElement("div",{className:"proxy-startup-banner__close",onClick:()=>{e.onDismiss&&e.onDismiss()}},i.createElement(n.default,{name:"icon-action-close-stroke",color:"content-color-secondary"})))};u.propTypes={bannerType:l().oneOf(a().values(c.default))},u.defaultProps={bannerType:c.default.INFO},t.default=u},"./js/components/banner/BannerFooter.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return i}});var n=s("../../node_modules/react/index.js");s("./node_modules/lodash/lodash.js");function i(e){return n.createElement("div",{className:"banner-container-footer"},e.children)}},"./js/components/banner/BannerHeader.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return i}});var n=s("../../node_modules/react/index.js");s("./node_modules/lodash/lodash.js");function i(e){return n.createElement("div",null,e.children)}},"./js/components/base/Icons/LockedIcon.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var n=s("../../node_modules/react/index.js"),i=s("./js/components/base/Icons/Icon.js");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}const a=n.createElement("svg",{width:"12",height:"14",viewBox:"0 0 16 16"},n.createElement("defs",null,n.createElement("path",{id:"locked",d:"M8 1C5.79 1 4 2.79 4 5v2H2v8h12V7h-2V5c0-2.21-1.79-4-4-4zm0 2c1.19 0 2 .81 2 2v2H6V5c0-1.19.81-2 2-2z"})),n.createElement("use",{fill:"#282828",fillRule:"evenodd",xlinkHref:"#locked"}));function r(e){return n.createElement(i.default,o({},e,{icon:a}))}},"./js/components/base/Icons/WarningIcon.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var n=s("../../node_modules/react/index.js"),i=s("./js/components/base/Icons/Icon.js");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}const a=n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("defs",null,n.createElement("path",{id:"pm-icon-warning",d:"M8.89487 1.78887C8.52635 1.05182 7.47454 1.05182 7.10602 1.78887L0.724051 14.5528C0.3916 15.2177 0.875095 16 1.61848 16H14.3824C15.1258 16 15.6093 15.2177 15.2768 14.5528L8.89487 1.78887ZM9.00044 7.00976C9.00044 7.00976 9.01601 6.00002 8.00044 6.00002C6.98488 6.00002 7.00044 7.00976 7.00044 7.00976V10C7.00044 10 6.98787 11 8.00044 11C9.01302 11 9.00044 10 9.00044 10V7.00976ZM8.00064 13.9996C8.55254 13.9996 9.00044 13.5517 9.00044 12.9998C9.00044 12.4479 8.55254 12 8.00064 12C7.44873 12 7.00083 12.4479 7.00083 12.9998C7.00083 13.5517 7.44873 13.9996 8.00064 13.9996Z"})),n.createElement("use",{fill:"#ED4B48",fillRule:"evenodd",clipRule:"evenodd",xlinkHref:"#pm-icon-warning"}));function r(e){return n.createElement(i.default,o({},e,{icon:a}))}},"./js/components/base/PasswordInput.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var n=s("../../node_modules/react/index.js"),i=s("./node_modules/classnames/index.js"),o=s.n(i),a=s("./js/components/base/Inputs.js"),r=s("./js/components/base/AutoSuggest/AutoSuggestInput.js"),l=s("./js/components/base/Buttons.js"),c=s("./node_modules/prop-types/index.js"),d=s.n(c),u=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},h.apply(this,arguments)}class p extends n.Component{constructor(e){super(e),this.state={masked:!0,error:"",warning:""},this.handleToggle=this.handleToggle.bind(this)}UNSAFE_componentWillReceiveProps(e){this.handleValidationState(e)}handleToggle(){this.setState({masked:!this.state.masked})}handleValidationState(e){const{validation:t,value:s}=e;if(t){let n,i;for(let o=0;o<t.length;o++){const{validator:a,message:r,type:l}=t[o]||{};if("function"==typeof a&&!a(s,e)){n=l,i=r;break}}if(n)return this.state[n]!==i&&this.setState({[n]:i})}this.setState({error:"",warning:""})}getValidationIcon(){return this.state.error?n.createElement(l.Button,{type:"icon",className:"password-input__error-btn",tooltip:this.state.error},n.createElement(u.default,{name:"icon-state-error-stroke",size:"small"})):this.state.warning?n.createElement(l.Button,{type:"icon",className:"password-input__warning-btn",tooltip:this.state.warning},n.createElement(u.default,{name:"icon-state-warning-stroke",size:"small"})):void 0}getPasswordInput(e){return this.props.enableVariableSuggestions?this.state.masked?n.createElement(a.Input,h({},e,{type:"password"})):n.createElement(r.AutoSuggestInput,h({},e,{enableVariableSuggestions:!0,type:"text"})):n.createElement(a.Input,h({},e,{type:this.state.masked?"password":"text"}))}render(){let{className:e,...t}=this.props;return n.createElement("div",{className:o()("password-input",e)},this.getPasswordInput(t),n.createElement("div",{className:"password-input-message"},this.getValidationIcon()),n.createElement("div",{className:"password-input__toggle",onClick:this.handleToggle},this.state.masked?n.createElement(u.default,{name:"icon-action-hide-stroke",title:"Show"}):n.createElement(u.default,{name:"icon-action-view-stroke",title:"Hide"})))}}p.propTypes={className:d().string,inputStyle:d().oneOf(["box","line"]),size:d().oneOf(["huge"]),enableVariableSuggestions:d().bool,validation:d().arrayOf(d().shape({validator:d().func.isRequired,message:d().string,type:d().oneOf(["error","warning"])}))},p.defaultProps={enableVariableSuggestions:!1}},"./js/components/interceptor/InterceptorConnection.js":function(e,t,s){s.r(t);var n,i=s("../../node_modules/react/index.js"),o=s("./js/stores/StoreManager.js"),a=s("./js/stores/InterceptorSettingsStore.js"),r=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=s("./js/components/base/Buttons.js"),c=s("./js/components/base/Icons/LockedIcon.js"),d=s("./js/components/base/Icons/WarningIcon.js"),u=s("./js/components/base/Tooltips.js"),h=s("./js/components/base/PasswordInput.js"),p=s("./js/modules/services/AnalyticsService.js"),m=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-lock-stroke.js");const g="Connection is secure",f="The information sent between the Postman app and the browser extension is encrypted with a custom key.",y="Encryption keys don't match",b="Check the encryption in the browser extension and ensure it matches the one entered here.",x="Almost done...",S="Now, enter the same encryption key into the Interceptor and you'll be all set.",_="Add an additional layer of security",v="We already encrypt communication with the Interceptor. You can make that communication even more secure by adding a custom encryption key.";let E=(0,r.observer)(n=class extends i.Component{constructor(e){super(e),this.store=(0,o.resolveStoreInstance)(a.default),this.state={isTooltipVisible:!1,tooltipPlacement:"bottom",keyValidationFail:!1,key:this.store.customEncryptionKey,waitingState:!1},this.openTooltip=this.openTooltip.bind(this),this.handleTooltipClose=this.handleTooltipClose.bind(this),this.saveKey=this.saveKey.bind(this)}openTooltip(){this.setState({isTooltipVisible:!0,key:this.store.customEncryptionKey,keyValidationFail:!1})}saveKey(){this.state.key.length<10||!/\d/.test(this.state.key)||!/[a-zA-Z]/.test(this.state.key)?this.setState({keyValidationFail:!0}):(pm.interceptorBridge.setKey(this.state.key),this.setState({keyValidationFail:!1,waitingState:!0}),this.store.updateCustomEncryptionKey(this.state.key),this.store.customKeyInitialized?p.default.addEventV2({category:"interceptor",action:"encryption_key_updated",label:"repeated"}):(this.store.updateCustomKeyInitializedFlag(!0),p.default.addEventV2({category:"interceptor",action:"encryption_key_updated",label:"initial"})))}handleChange(e){this.setState({key:e,keyValidationFail:!1})}handleTooltipClose(){this.state.isTooltipVisible&&this.setState({isTooltipVisible:!1,waitingState:!1})}render(){return i.createElement("div",{className:"interceptor-capture-requests-menu--interceptor-connected-label"},i.createElement("div",{ref:"toolTipTarget"},this.store.connectionStatus&&(this.store.minExtensionVersionForCustomEncryptionSatisfied||this.store.customKeyInitialized||this.store.keyMismatch)?this.state.waitingState?i.createElement(l.Button,{type:"icon tertiary",active:this.state.isTooltipVisible,className:"encryption-key-mismatch-btn",onClick:this.openTooltip,tooltip:"Secure connection"},this.store.keyMismatch?i.createElement(c.default,null):i.createElement(c.default,{className:"interceptor-secure-lock-icon"})):this.store.keyMismatch?i.createElement(l.Button,{type:"icon tertiary",active:this.state.isTooltipVisible,className:"encryption-key-mismatch-btn",onClick:this.openTooltip,tooltip:"Secure connection"},i.createElement("span",{className:"interceptor-encryption-key-warning"},i.createElement(d.default,{className:"interceptor-encryption-key-warning"}))):i.createElement(l.Button,{type:"icon tertiary",active:this.state.isTooltipVisible,className:"encryption-key-mismatch-btn",onClick:this.openTooltip,tooltip:"Secure connection"},this.store.customKeyInitialized?i.createElement("div",{className:"interceptor-secure-lock-icon"},i.createElement(m.default,{color:"base-color-success"})):i.createElement(m.default,null)):i.createElement("div",null),i.createElement(u.Tooltip,{show:this.state.isTooltipVisible,placement:this.state.tooltipPlacement,target:this.refs.toolTipTarget,onClose:this.handleTooltipClose,className:"interceptor-encryption-key-tooltip-wrapper",closeOnClickOutside:!0,immediate:!0},i.createElement(u.TooltipBody,null,i.createElement("div",{className:"interceptor-encryption-key-tooltip"},i.createElement("div",{className:"interceptor-secure-connection-label"},this.store.customKeyInitialized?this.state.waitingState?this.store.keyMismatch?x:i.createElement("span",{className:"key-match"},g):this.store.keyMismatch?i.createElement("span",{className:"key-mismatch"},y):i.createElement("span",{className:"key-match"},g):this.store.keyMismatch?i.createElement("span",{className:"key-mismatch"},y):_),i.createElement("div",{className:"interceptor-tooltip__text"},this.store.customKeyInitialized?this.state.waitingState?this.store.keyMismatch?S:f:this.store.keyMismatch?b:f:this.store.keyMismatch?b:v),i.createElement("div",{className:"interceptor-encryption-key-label"},"Encryption Key"),i.createElement(h.default,{className:"interceptor-encryption-key-input",disabled:!1,inputStyle:"box",error:this.state.keyValidationFail,placeholder:"Password",value:this.state.key,onChange:e=>{this.handleChange(e)}}),i.createElement("div",{className:"interceptor-encryption-key-input-help"},this.state.keyValidationFail?i.createElement("span",{className:"interceptor-key-validation-fail"},"The encryption key must be at least 10 characters long, and contain one digit and one letter"):"Alphanumeric, minimum 10 characters"),i.createElement("div",{className:"interceptor-encryption-key-save-btn"},i.createElement(l.Button,{type:"primary",size:"small",fluid:!0,onClick:this.saveKey,disabled:this.state.waitingState||!this.state.key},"Save Key")))))))}})||n;t.default=E},"./js/components/interceptor/InterceptorConnectionIndicator.js":function(e,t,s){s.r(t);var n,i=s("../../node_modules/react/index.js"),o=s("./js/stores/StoreManager.js"),a=s("./js/stores/InterceptorSettingsStore.js"),r=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js");let c=(0,r.observer)(n=class extends i.Component{constructor(e){super(e),this.store=(0,o.resolveStoreInstance)(a.default)}render(){return this.store.connectionStatus?i.createElement(l.default,{text:"CONNECTED",status:"success"}):i.createElement(l.default,{text:"DISCONNECTED",status:"neutral"})}})||n;t.default=c},"./js/components/interceptor/InterceptorSnapWarning.js":function(e,t,s){s.r(t);var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=s("./js/constants/AppUrlConstants.js"),l=s("./js/components/banner/BannerContainer.js"),c=s("./js/components/banner/BannerHeader.js"),d=s("./js/components/banner/BannerBody.js"),u=s("./js/components/banner/BannerFooter.js"),h=s("./js/external-navigation/ExternalNavigationService.js");class p extends n.Component{constructor(e){super(e),this.openNativeAppDownloadURL.bind(this)}openNativeAppDownloadURL(){(0,h.openExternalLink)(r.NATIVE_APPS_URL)}render(){return n.createElement(n.Fragment,null,n.createElement(l.default,{bannerType:"warn"},n.createElement(c.default,null,n.createElement(i.default,{type:"h5",styleAs:"h5",text:"Interceptor does not work with Snap",hasBottomSpacing:!0})),n.createElement(d.default,null,n.createElement(o.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"If you have installed Postman via Snap, you may have problems connecting to the Interceptor extension. In such cases, we recommend that you download Postman directly by clicking the button below.")),n.createElement(u.default,null,n.createElement(a.default,{type:"outline",size:"medium",text:"Download Postman App",onClick:this.openNativeAppDownloadURL}))))}}t.default=p},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return a}});var n=s("../../node_modules/react/index.js"),i=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),o=s("./js/external-navigation/ExternalNavigationService.js");function a(e){const{extUrl:t}=e;return n.createElement("span",{onClick:()=>(0,o.openExternalLink)(t,"_blank")},n.createElement(i.default,{type:"link-default",isExternal:!0},e.children))}},"./node_modules/chartjs-adapter-moment/dist/chartjs-adapter-moment.esm.js":function(e,t,s){s.r(t);var n=s("./node_modules/moment/moment.js"),i=s.n(n),o=s("./node_modules/chart.js/dist/chart.js");const a={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};o._adapters._date.override("function"==typeof i()?{_id:"moment",formats:function(){return a},parse:function(e,t){return"string"==typeof e&&"string"==typeof t?e=i()(e,t):e instanceof i()||(e=i()(e)),e.isValid()?e.valueOf():null},format:function(e,t){return i()(e).format(t)},add:function(e,t,s){return i()(e).add(t,s).valueOf()},diff:function(e,t,s){return i()(e).diff(i()(t),s)},startOf:function(e,t,s){return e=i()(e),"isoWeek"===t?(s=Math.trunc(Math.min(Math.max(0,s),6)),e.isoWeekday(s).startOf("day").valueOf()):e.startOf(t).valueOf()},endOf:function(e,t){return i()(e).endOf(t).valueOf()}}:{})},"./node_modules/@kurkle/color/dist/color.esm.js":function(e,t,s){function n(e){return e+.5|0}s.r(t),s.d(t,{Color:function(){return H},b2n:function(){return l},b2p:function(){return a},default:function(){return U},hexParse:function(){return g},hexString:function(){return f},hsl2rgb:function(){return E},hslString:function(){return P},hsv2rgb:function(){return C},hueParse:function(){return T},hwb2rgb:function(){return w},lim:function(){return i},n2b:function(){return r},n2p:function(){return c},nameParse:function(){return O},p2b:function(){return o},rgb2hsl:function(){return _},rgbParse:function(){return L},rgbString:function(){return D},rotate:function(){return A},round:function(){return n}});const i=(e,t,s)=>Math.max(Math.min(e,s),t);function o(e){return i(n(2.55*e),0,255)}function a(e){return i(n(e/2.55),0,100)}function r(e){return i(n(255*e),0,255)}function l(e){return i(n(e/2.55)/100,0,1)}function c(e){return i(n(100*e),0,100)}const d={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},u=[..."0123456789ABCDEF"],h=e=>u[15&e],p=e=>u[(240&e)>>4]+u[15&e],m=e=>(240&e)>>4==(15&e);function g(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*d[e[1]],g:255&17*d[e[2]],b:255&17*d[e[3]],a:5===s?17*d[e[4]]:255}:7!==s&&9!==s||(t={r:d[e[1]]<<4|d[e[2]],g:d[e[3]]<<4|d[e[4]],b:d[e[5]]<<4|d[e[6]],a:9===s?d[e[7]]<<4|d[e[8]]:255})),t}function f(e){var t=(e=>m(e.r)&&m(e.g)&&m(e.b)&&m(e.a))(e)?h:p;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b(e,t,s){const n=t*Math.min(s,1-s),i=(t,i=(t+e/30)%12)=>s-n*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function x(e,t,s){const n=(n,i=(n+e/60)%6)=>s-s*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function S(e,t,s){const n=b(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function _(e){const t=e.r/255,s=e.g/255,n=e.b/255,i=Math.max(t,s,n),o=Math.min(t,s,n),a=(i+o)/2;let r,l,c;return i!==o&&(c=i-o,l=a>.5?c/(2-i-o):c/(i+o),r=function(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}(t,s,n,c,i),r=60*r+.5),[0|r,l||0,a]}function v(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(r)}function E(e,t,s){return v(b,e,t,s)}function w(e,t,s){return v(S,e,t,s)}function C(e,t,s){return v(x,e,t,s)}function I(e){return(e%360+360)%360}function T(e){const t=y.exec(e);let s,n=255;if(!t)return;t[5]!==s&&(n=t[6]?o(+t[5]):r(+t[5]));const i=I(+t[2]),a=+t[3]/100,l=+t[4]/100;return s="hwb"===t[1]?w(i,a,l):"hsv"===t[1]?C(i,a,l):E(i,a,l),{r:s[0],g:s[1],b:s[2],a:n}}function A(e,t){var s=_(e);s[0]=I(s[0]+t),s=E(s),e.r=s[0],e.g=s[1],e.b=s[2]}function P(e){if(!e)return;const t=_(e),s=t[0],n=c(t[1]),i=c(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${l(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const k={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let R;function O(e){R||(R=function(){const e={},t=Object.keys(j),s=Object.keys(k);let n,i,o,a,r;for(n=0;n<t.length;n++){for(a=r=t[n],i=0;i<s.length;i++)o=s[i],r=r.replace(o,k[o]);o=parseInt(j[a],16),e[r]=[o>>16&255,o>>8&255,255&o]}return e}(),R.transparent=[0,0,0,0]);const t=R[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const M=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function L(e){const t=M.exec(e);let s,n,a,r=255;if(t){if(t[7]!==s){const e=+t[7];r=t[8]?o(e):i(255*e,0,255)}return s=+t[1],n=+t[3],a=+t[5],s=255&(t[2]?o(s):i(s,0,255)),n=255&(t[4]?o(n):i(n,0,255)),a=255&(t[6]?o(a):i(a,0,255)),{r:s,g:n,b:a,a:r}}}function D(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${l(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const N=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,F=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function z(e,t,s){if(e){let n=_(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,0===t?360:1)),n=E(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function B(e,t){return e?Object.assign(t||{},e):e}function V(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=r(e[3]))):(t=B(e,{r:0,g:0,b:0,a:1})).a=r(t.a),t}class H{constructor(e){if(e instanceof H)return e;const t=typeof e;let s;var n;"object"===t?s=V(e):"string"===t&&(s=g(e)||O(e)||("r"===(n=e).charAt(0)?L(n):T(n))),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=B(this._rgb);return e&&(e.a=l(e.a)),e}set rgb(e){this._rgb=V(e)}rgbString(){return this._valid?D(this._rgb):void 0}hexString(){return this._valid?f(this._rgb):void 0}hslString(){return this._valid?P(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,n=e.rgb;let i;const o=t===i?.5:t,a=2*o-1,r=s.a-n.a,l=((a*r==-1?a:(a+r)/(1+a*r))+1)/2;i=1-l,s.r=255&l*s.r+i*n.r+.5,s.g=255&l*s.g+i*n.g+.5,s.b=255&l*s.b+i*n.b+.5,s.a=o*s.a+(1-o)*n.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const n=F(l(e.r)),i=F(l(e.g)),o=F(l(e.b));return{r:r(N(n+s*(F(l(t.r))-n))),g:r(N(i+s*(F(l(t.g))-i))),b:r(N(o+s*(F(l(t.b))-o))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new H(this.rgb)}alpha(e){return this._rgb.a=r(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=n(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return z(this._rgb,2,e),this}darken(e){return z(this._rgb,2,-e),this}saturate(e){return z(this._rgb,1,e),this}desaturate(e){return z(this._rgb,1,-e),this}rotate(e){return A(this._rgb,e),this}}function U(e){return new H(e)}},"./node_modules/chart.js/auto/auto.js":function(e,t,s){s.r(t),s.d(t,{Animation:function(){return n.Animation},Animations:function(){return n.Animations},ArcElement:function(){return n.ArcElement},BarController:function(){return n.BarController},BarElement:function(){return n.BarElement},BasePlatform:function(){return n.BasePlatform},BasicPlatform:function(){return n.BasicPlatform},BubbleController:function(){return n.BubbleController},CategoryScale:function(){return n.CategoryScale},Chart:function(){return n.Chart},Colors:function(){return n.Colors},DatasetController:function(){return n.DatasetController},Decimation:function(){return n.Decimation},DomPlatform:function(){return n.DomPlatform},DoughnutController:function(){return n.DoughnutController},Element:function(){return n.Element},Filler:function(){return n.Filler},Interaction:function(){return n.Interaction},Legend:function(){return n.Legend},LineController:function(){return n.LineController},LineElement:function(){return n.LineElement},LinearScale:function(){return n.LinearScale},LogarithmicScale:function(){return n.LogarithmicScale},PieController:function(){return n.PieController},PointElement:function(){return n.PointElement},PolarAreaController:function(){return n.PolarAreaController},RadarController:function(){return n.RadarController},RadialLinearScale:function(){return n.RadialLinearScale},Scale:function(){return n.Scale},ScatterController:function(){return n.ScatterController},SubTitle:function(){return n.SubTitle},Ticks:function(){return n.Ticks},TimeScale:function(){return n.TimeScale},TimeSeriesScale:function(){return n.TimeSeriesScale},Title:function(){return n.Title},Tooltip:function(){return n.Tooltip},_adapters:function(){return n._adapters},_detectPlatform:function(){return n._detectPlatform},animator:function(){return n.animator},controllers:function(){return n.controllers},defaults:function(){return n.defaults},elements:function(){return n.elements},layouts:function(){return n.layouts},plugins:function(){return n.plugins},registerables:function(){return n.registerables},registry:function(){return n.registry},scales:function(){return n.scales}});var n=s("./node_modules/chart.js/dist/chart.js");n.Chart.register(...n.registerables),t.default=n.Chart},"./node_modules/chart.js/dist/chart.js":function(e,t,s){s.r(t),s.d(t,{Animation:function(){return c},Animations:function(){return d},ArcElement:function(){return mt},BarController:function(){return j},BarElement:function(){return Rt},BasePlatform:function(){return ce},BasicPlatform:function(){return de},BubbleController:function(){return R},CategoryScale:function(){return Os},Chart:function(){return lt},Colors:function(){return Bt},DatasetController:function(){return v},Decimation:function(){return Ut},DomPlatform:function(){return we},DoughnutController:function(){return O},Element:function(){return Ie},Filler:function(){return as},Interaction:function(){return X},Legend:function(){return ds},LineController:function(){return M},LineElement:function(){return Et},LinearScale:function(){return Ds},LogarithmicScale:function(){return Hs},PieController:function(){return D},PointElement:function(){return Ct},PolarAreaController:function(){return L},RadarController:function(){return N},RadialLinearScale:function(){return Qs},Scale:function(){return Le},ScatterController:function(){return F},SubTitle:function(){return ms},Ticks:function(){return n.aL},TimeScale:function(){return an},TimeSeriesScale:function(){return ln},Title:function(){return hs},Tooltip:function(){return Ps},_adapters:function(){return H},_detectPlatform:function(){return Ce},animator:function(){return a},controllers:function(){return z},defaults:function(){return n.d},elements:function(){return Ot},layouts:function(){return le},plugins:function(){return ks},registerables:function(){return dn},registry:function(){return Fe},scales:function(){return cn}});var n=s("./node_modules/chart.js/dist/chunks/helpers.segment.js"),i=s("../../node_modules/console-browserify/index.js");class o{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,n){const i=t.listeners[n],o=t.duration;i.forEach((n=>n({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=n.r.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((s,n)=>{if(!s.running||!s.items.length)return;const i=s.items;let o,a=i.length-1,r=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>s.duration&&(s.duration=o._total),o.tick(e),r=!0):(i[a]=i[i.length-1],i.pop());r&&(n.draw(),this._notify(n,s,e,"progress")),i.length||(s.running=!1,this._notify(n,s,e,"complete"),s.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var a=new o;const r="transparent",l={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const i=(0,n.c)(e||r),o=i.valid&&(0,n.c)(t||r);return o&&o.valid?o.mix(i,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class c{constructor(e,t,s,i){const o=t[s];i=(0,n.a)([e.to,i,o,e.from]);const a=(0,n.a)([e.from,o,i]);this._active=!0,this._fn=e.fn||l[e.type||typeof a],this._easing=n.e[e.easing]||n.e.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,a=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=(0,n.a)([e.to,t,i,e.from]),this._from=(0,n.a)([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,n=this._prop,i=this._from,o=this._loop,a=this._to;let r;if(this._active=i!==a&&(o||t<s),!this._active)return this._target[n]=a,void this._notify(!0);t<0?this._target[n]=i:(r=t/s%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[n]=this._fn(i,a,r))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,s)=>{e.push({res:t,rej:s})}))}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let e=0;e<s.length;e++)s[e][t]()}}class d{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!(0,n.i)(e))return;const t=Object.keys(n.d.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const o=e[i];if(!(0,n.i)(o))return;const a={};for(const e of t)a[e]=o[e];((0,n.b)(o.properties)&&o.properties||[i]).forEach((e=>{e!==i&&s.has(e)||s.set(e,a)}))}))}_animateOptions(e,t){const s=t.options,n=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!n)return[];const i=this._createAnimations(n,s);return s.$shared&&function(e,t){const s=[],n=Object.keys(t);for(let t=0;t<n.length;t++){const i=e[n[t]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}(e.options.$animations,s).then((()=>{e.options=s}),(()=>{})),i}_createAnimations(e,t){const s=this._properties,n=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const d=t[l];let u=i[l];const h=s.get(l);if(u){if(h&&u.active()){u.update(h,d,a);continue}u.cancel()}h&&h.duration?(i[l]=u=new c(h,e,l,d),n.push(u)):e[l]=d}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(a.add(this._chart,s),!0):void 0}}function u(e,t){const s=e&&e.options||{},n=s.reverse,i=void 0===s.min?t:0,o=void 0===s.max?t:0;return{start:n?o:i,end:n?i:o}}function h(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function p(e,t,s,i={}){const o=e.keys,a="single"===i.mode;let r,l,c,d;if(null!==t){for(r=0,l=o.length;r<l;++r){if(c=+o[r],c===s){if(i.all)continue;break}d=e.values[c],(0,n.g)(d)&&(a||0===t||(0,n.s)(t)===(0,n.s)(d))&&(t+=d)}return t}}function m(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function g(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function f(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const t=e[i.index];if(s&&t>0||!s&&t<0)return i.index}return null}function y(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:a,index:r}=n,l=o.axis,c=a.axis,d=function(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}(o,a,n),u=t.length;let h;for(let e=0;e<u;++e){const s=t[e],{[l]:o,[c]:u}=s;h=(s._stacks||(s._stacks={}))[c]=g(i,d,o),h[r]=u,h._top=f(h,a,!0,n.type),h._bottom=f(h,a,!1,n.type);(h._visualValues||(h._visualValues={}))[r]=u}}function b(e,t){const s=e.scales;return Object.keys(s).filter((e=>s[e].axis===t)).shift()}function x(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][s])return;delete t[n][s],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[s]&&delete t[n]._visualValues[s]}}}const S=e=>"reset"===e||"none"===e,_=(e,t)=>t?e:Object.assign({},e);class v{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=m(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&i.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&x(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(e,t,s,n)=>"x"===e?t:"r"===e?n:s,o=t.xAxisID=(0,n.v)(s.xAxisID,b(e,"x")),a=t.yAxisID=(0,n.v)(s.yAxisID,b(e,"y")),r=t.rAxisID=(0,n.v)(s.rAxisID,b(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,o,a,r),d=t.vAxisID=i(l,a,o,r);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&(0,n.u)(this._data,this),e._stacked&&x(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if((0,n.i)(t))this._data=function(e){const t=Object.keys(e),s=new Array(t.length);let n,i,o;for(n=0,i=t.length;n<i;++n)o=t[n],s[n]={x:o,y:e[o]};return s}(t);else if(s!==t){if(s){(0,n.u)(s,this);const e=this._cachedMeta;x(e),e._parsed=[]}t&&Object.isExtensible(t)&&(0,n.l)(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const i=t._stacked;t._stacked=m(t.vScale,t),t.stack!==s.stack&&(n=!0,x(t),t.stack=s.stack),this._resyncElements(e),(n||i!==t._stacked)&&y(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:a}=s,r=o.axis;let l,c,d,u=0===e&&t===i.length||s._sorted,h=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=i,s._sorted=!0,d=i;else{d=(0,n.b)(i[e])?this.parseArrayData(s,i,e,t):(0,n.i)(i[e])?this.parseObjectData(s,i,e,t):this.parsePrimitiveData(s,i,e,t);const o=()=>null===c[r]||h&&c[r]<h[r];for(l=0;l<t;++l)s._parsed[l+e]=c=d[l],u&&(o()&&(u=!1),h=c);s._sorted=u}a&&y(this,d)}parsePrimitiveData(e,t,s,n){const{iScale:i,vScale:o}=e,a=i.axis,r=o.axis,l=i.getLabels(),c=i===o,d=new Array(n);let u,h,p;for(u=0,h=n;u<h;++u)p=u+s,d[u]={[a]:c||i.parse(l[p],p),[r]:o.parse(t[p],p)};return d}parseArrayData(e,t,s,n){const{xScale:i,yScale:o}=e,a=new Array(n);let r,l,c,d;for(r=0,l=n;r<l;++r)c=r+s,d=t[c],a[r]={x:i.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(e,t,s,i){const{xScale:o,yScale:a}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,u,h,p;for(d=0,u=i;d<u;++d)h=d+s,p=t[h],c[d]={x:o.parse((0,n.f)(p,r),h),y:a.parse((0,n.f)(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const n=this.chart,i=this._cachedMeta,o=t[e.axis];return p({keys:h(n,!0),values:t._stacks[e.axis]._visualValues},o,i.index,{mode:s})}updateRangeFromParsed(e,t,s,n){const i=s[t.axis];let o=null===i?NaN:i;const a=n&&s._stacks[t.axis];n&&a&&(n.values=a,o=p(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&e===s.iScale,a=i.length,r=this._getOtherScale(e),l=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:h(s,!0),values:null})(t,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:u}=function(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}(r);let p,m;function g(){m=i[p];const t=m[r.axis];return!(0,n.g)(m[e.axis])||d>t||u<t}for(p=0;p<a&&(g()||(this.updateRangeFromParsed(c,e,m,l),!o));++p);if(o)for(p=a-1;p>=0;--p)if(!g()){this.updateRangeFromParsed(c,e,m,l);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let i,o,a;for(i=0,o=t.length;i<o;++i)a=t[i][e.axis],(0,n.g)(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,n=t.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,i,o;return(0,n.i)(e)?(t=e.top,s=e.right,i=e.bottom,o=e.left):t=s=i=o=e,{top:t,right:s,bottom:i,left:o,disabled:!1===e}}((0,n.v)(this.options.clip,function(e,t,s){if(!1===s)return!1;const n=u(e,s),i=u(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,n=s.data||[],i=t.chartArea,o=[],a=this._drawStart||0,r=this._drawCount||n.length-a,l=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,i,a,r),c=a;c<a+r;++c){const t=n[c];t.hidden||(t.active&&l?o.push(t):t.draw(e,i))}for(c=0;c<o.length;++c)o[c].draw(e,i)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];o=t.$context||(t.$context=function(e,t,s){return(0,n.j)(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function(e,t){return(0,n.j)(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const i="active"===t,o=this._cachedDataOpts,a=e+"-"+t,r=o[a],l=this.enableOptionSharing&&(0,n.h)(s);if(r)return _(r,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),d),p=Object.keys(n.d.elements[e]),m=c.resolveNamedOptions(h,p,(()=>this.getContext(s,i,t)),u);return m.$shared&&(m.$shared=l,o[a]=Object.freeze(_(m,l))),m}_resolveAnimations(e,t,s){const n=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,a=i[o];if(a)return a;let r;if(!1!==n.options.animation){const n=this.chart.config,i=n.datasetAnimationScopeKeys(this._type,t),o=n.getOptionScopes(this.getDataset(),i);r=n.createResolver(o,this.getContext(e,s,t))}const l=new d(n,r&&r.animations);return r&&r._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||S(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),n=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(t,i)||i!==n;return this.updateSharedOptions(i,t,s),{sharedOptions:i,includeOptions:o}}updateElement(e,t,s,n){S(n)?Object.assign(e,s):this._resolveAnimations(t,n).update(e,s)}updateSharedOptions(e,t,s){e&&!S(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,n){e.active=n;const i=this.getStyle(t,n);this._resolveAnimations(t,s,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[e,t,s]of this._syncList)this[e](t,s);this._syncList=[];const n=s.length,i=t.length,o=Math.min(i,n);o&&this.parse(0,o),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,t,s=!0){const n=this._cachedMeta,i=n.data,o=e+t;let a;const r=e=>{for(e.length+=t,a=e.length-1;a>=o;a--)e[a]=e[a-t]};for(r(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&r(n._parsed),this.parse(e,t),s&&this.updateElements(i,e,t,"reset")}updateElements(e,t,s,n){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(e,t);s._stacked&&x(s,n)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,n]=e;this[t](s,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function E(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,n=s.length;t<n;t++)i=i.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=(0,n._)(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,o,a,r,l=t._length;const c=()=>{32767!==a&&-32768!==a&&((0,n.h)(r)&&(l=Math.min(l,Math.abs(a-r)||l)),r=a)};for(i=0,o=s.length;i<o;++i)a=t.getPixelForValue(s[i]),c();for(r=void 0,i=0,o=t.ticks.length;i<o;++i)a=t.getPixelForTick(i),c();return l}function w(e,t,s,i){return(0,n.b)(e)?function(e,t,s,n){const i=s.parse(e[0],n),o=s.parse(e[1],n),a=Math.min(i,o),r=Math.max(i,o);let l=a,c=r;Math.abs(a)>Math.abs(r)&&(l=r,c=a),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:a,max:r}}(e,t,s,i):t[s.axis]=s.parse(e,i),t}function C(e,t,s,n){const i=e.iScale,o=e.vScale,a=i.getLabels(),r=i===o,l=[];let c,d,u,h;for(c=s,d=s+n;c<d;++c)h=t[c],u={},u[i.axis]=r||i.parse(a[c],c),l.push(w(h,u,o,c));return l}function I(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function T(e,t,s,n){let i=t.borderSkipped;const o={};if(!i)return void(e.borderSkipped=o);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:r,reverse:l,top:c,bottom:d}=function(e){let t,s,n,i,o;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",o="start"):(i="start",o="end"),{start:s,end:n,reverse:t,top:i,bottom:o}}(e);"middle"===i&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=d:(o[A(d,a,r,l)]=!0,i=c)),o[A(i,a,r,l)]=!0,e.borderSkipped=o}function A(e,t,s,n){var i,o,a;return n?(a=s,e=P(e=(i=e)===(o=t)?a:i===a?o:i,s,t)):e=P(e,t,s),e}function P(e,t,s){return"start"===e?t:"end"===e?s:e}function k(e,{inflateAmount:t},s){e.inflateAmount="auto"===t?1===s?.33:0:t}class j extends v{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,n){return C(e,t,s,n)}parseArrayData(e,t,s,n){return C(e,t,s,n)}parseObjectData(e,t,s,i){const{iScale:o,vScale:a}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c="x"===o.axis?r:l,d="x"===a.axis?r:l,u=[];let h,p,m,g;for(h=s,p=s+i;h<p;++h)g=t[h],m={},m[o.axis]=o.parse((0,n.f)(g,c),h),u.push(w((0,n.f)(g,d),m,a,h));return u}updateRangeFromParsed(e,t,s,n){super.updateRangeFromParsed(e,t,s,n);const i=s._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:n}=t,i=this.getParsed(e),o=i._custom,a=I(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,i){const o="reset"===i,{index:a,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),c=r.isHorizontal(),d=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i);for(let p=t;p<t+s;p++){const t=this.getParsed(p),s=o||(0,n.k)(t[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),m=this._calculateBarIndexPixels(p,d),g=(t._stacks||{})[r.axis],f={horizontal:c,base:s.base,enableBorderRadius:!g||I(t._custom)||a===g._top||a===g._bottom,x:c?s.head:m.center,y:c?m.center:s.head,height:c?m.size:Math.abs(s.size),width:c?Math.abs(s.size):m.size};h&&(f.options=u||this.resolveDataElementOptions(p,e[p].active?"active":i));const y=f.options||e[p].options;T(f,y,g,a),k(f,y,d.ratio),this.updateElement(e[p],p,f,i)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),o=s.options.stacked,a=[],r=e=>{const s=e.controller.getParsed(t),i=s&&s[e.vScale.axis];if((0,n.k)(i)||isNaN(i))return!0};for(const s of i)if((void 0===t||!r(s))&&((!1===o||-1===a.indexOf(s.stack)||void 0===o&&void 0===s.stack)&&a.push(s.stack),s.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,s){const n=this._getStacks(e,s),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,n=[];let i,o;for(i=0,o=t.data.length;i<o;++i)n.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||E(t),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:i},options:{base:o,minBarLength:a}}=this,r=o||0,l=this.getParsed(e),c=l._custom,d=I(c);let u,h,p=l[t.axis],m=0,g=s?this.applyStack(t,l,s):p;g!==p&&(m=g-p,g=p),d&&(p=c.barStart,g=c.barEnd-c.barStart,0!==p&&(0,n.s)(p)!==(0,n.s)(c.barEnd)&&(m=0),m+=p);const f=(0,n.k)(o)||d?m:o;let y=t.getPixelForValue(f);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(m+g):y,h=u-y,Math.abs(h)<a){h=function(e,t,s){return 0!==e?(0,n.s)(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(h,t,r)*a,p===r&&(y-=h/2);const e=t.getPixelForDecimal(0),o=t.getPixelForDecimal(1),c=Math.min(e,o),m=Math.max(e,o);y=Math.max(Math.min(y,m),c),u=y+h,s&&!d&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(y))}if(y===t.getPixelForValue(r)){const e=(0,n.s)(h)*t.getLineWidthForValue(r)/2;y+=e,h-=e}return{size:h,base:y,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const s=t.scale,i=this.options,o=i.skipNull,a=(0,n.v)(i.maxBarThickness,1/0);let r,l;if(t.grouped){const s=o?this._getStackCount(e):t.stackCount,c="flex"===i.barThickness?function(e,t,s,n){const i=t.pixels,o=i[e];let a=e>0?i[e-1]:null,r=e<i.length-1?i[e+1]:null;const l=s.categoryPercentage;null===a&&(a=o-(null===r?t.end-t.start:r-o)),null===r&&(r=o+o-a);const c=o-(o-Math.min(a,r))/2*l;return{chunk:Math.abs(r-a)/2*l/n,ratio:s.barPercentage,start:c}}(e,t,i,s):function(e,t,s,i){const o=s.barThickness;let a,r;return(0,n.k)(o)?(a=t.min*s.categoryPercentage,r=s.barPercentage):(a=o*i,r=1),{chunk:a/i,ratio:r,start:t.pixels[e]-a/2}}(e,t,i,s),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);r=c.start+c.chunk*d+c.chunk/2,l=Math.min(a,c.chunk*c.ratio)}else r=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(a,t.min*t.ratio);return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,n=s.length;let i=0;for(;i<n;++i)null!==this.getParsed(i)[t.axis]&&s[i].draw(this._ctx)}}class R extends v{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,n){const i=super.parsePrimitiveData(e,t,s,n);for(let e=0;e<i.length;e++)i[e]._custom=this.resolveDataElementOptions(e+s).radius;return i}parseArrayData(e,t,s,i){const o=super.parseArrayData(e,t,s,i);for(let e=0;e<o.length;e++){const i=t[s+e];o[e]._custom=(0,n.v)(i[2],this.resolveDataElementOptions(e+s).radius)}return o}parseObjectData(e,t,s,i){const o=super.parseObjectData(e,t,s,i);for(let e=0;e<o.length;e++){const i=t[s+e];o[e]._custom=(0,n.v)(i&&i.r&&+i.r,this.resolveDataElementOptions(e+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:i}=t,o=this.getParsed(e),a=n.getLabelForValue(o.x),r=i.getLabelForValue(o.y),l=o._custom;return{label:s[e]||"",value:"("+a+", "+r+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,n){const i="reset"===n,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:r,includeOptions:l}=this._getSharedOptions(t,n),c=o.axis,d=a.axis;for(let u=t;u<t+s;u++){const t=e[u],s=!i&&this.getParsed(u),h={},p=h[c]=i?o.getPixelForDecimal(.5):o.getPixelForValue(s[c]),m=h[d]=i?a.getBasePixel():a.getPixelForValue(s[d]);h.skip=isNaN(p)||isNaN(m),l&&(h.options=r||this.resolveDataElementOptions(u,t.active?"active":n),i&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return"active"!==t&&(i.radius=0),i.radius+=(0,n.v)(s&&s._custom,o),i}}class O extends v{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:n}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:n,lineWidth:o.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=s;else{let o,a,r=e=>+s[e];if((0,n.i)(s[e])){const{key:e="value"}=this._parsing;r=t=>+(0,n.f)(s[t],e)}for(o=e,a=e+t;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return(0,n.t)(this.options.rotation-90)}_getCircumference(){return(0,n.t)(this.options.circumference)}_getRotationExtents(){let e=n.T,t=-n.T;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,i=n._getRotation(),o=n._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,i=this._cachedMeta,o=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,r=Math.max((Math.min(s.width,s.height)-a)/2,0),l=Math.min((0,n.m)(this.options.cutout,r),1),c=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=function(e,t,s){let i=1,o=1,a=0,r=0;if(t<n.T){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),p=Math.sin(c),m=(e,t,i)=>(0,n.p)(e,l,c,!0)?1:Math.max(t,t*s,i,i*s),g=(e,t,i)=>(0,n.p)(e,l,c,!0)?-1:Math.min(t,t*s,i,i*s),f=m(0,d,h),y=m(n.H,u,p),b=g(n.P,d,h),x=g(n.P+n.H,u,p);i=(f-b)/2,o=(y-x)/2,a=-(f+b)/2,r=-(y+x)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:r}}(u,d,l),f=(s.width-a)/h,y=(s.height-a)/p,b=Math.max(Math.min(f,y)/2,0),x=(0,n.n)(this.options.radius,b),S=(x-Math.max(x*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=g*x,i.total=this.calculateTotal(),this.outerRadius=x-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const s=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/n.T)}updateElements(e,t,s,n){const i="reset"===n,o=this.chart,a=o.chartArea,r=o.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=i&&r.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,n);let g,f=this._getRotation();for(g=0;g<t;++g)f+=this._circumference(g,i);for(g=t;g<t+s;++g){const t=this._circumference(g,i),s=e[g],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:h,innerRadius:u};m&&(o.options=p||this.resolveDataElementOptions(g,s.active?"active":n)),f+=t,this.updateElement(s,g,o,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,n=0;for(s=0;s<t.length;s++){const i=e._parsed[s];null===i||isNaN(i)||!this.chart.getDataVisibility(s)||t[s].hidden||(n+=Math.abs(i))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?n.T*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=(0,n.o)(t._parsed[e],s.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const s=this.chart;let n,i,o,a,r;if(!e)for(n=0,i=s.data.datasets.length;n<i;++n)if(s.isDatasetVisible(n)){o=s.getDatasetMeta(n),e=o.data,a=o.controller;break}if(!e)return 0;for(n=0,i=e.length;n<i;++n)r=a.resolveDataElementOptions(n),"inner"!==r.borderAlign&&(t=Math.max(t,r.borderWidth||0,r.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,n=e.length;s<n;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max((0,n.v)(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class M extends v{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=t,a=this.chart._animationsDisabled;let{start:r,count:l}=(0,n.q)(t,i,a);this._drawStart=r,this._drawCount=l,(0,n.w)(t)&&(r=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:c},e),this.updateElements(i,r,l,e)}updateElements(e,t,s,i){const o="reset"===i,{iScale:a,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,i),h=a.axis,p=r.axis,{spanGaps:m,segment:g}=this.options,f=(0,n.x)(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||"none"===i,b=t+s,x=e.length;let S=t>0&&this.getParsed(t-1);for(let s=0;s<x;++s){const m=e[s],x=y?m:{};if(s<t||s>=b){x.skip=!0;continue}const _=this.getParsed(s),v=(0,n.k)(_[p]),E=x[h]=a.getPixelForValue(_[h],s),w=x[p]=o||v?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,_,l):_[p],s);x.skip=isNaN(E)||isNaN(w)||v,x.stop=s>0&&Math.abs(_[h]-S[h])>f,g&&(x.parsed=_,x.raw=c.data[s]),u&&(x.options=d||this.resolveDataElementOptions(s,m.active?"active":i)),y||this.updateElement(m,s,x,i),S=_}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class L extends v{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:n}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:n,lineWidth:o.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=(0,n.o)(t._parsed[e].r,s.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,t,s,i){return n.y.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,s)=>{const n=this.getParsed(s).r;!isNaN(n)&&this.chart.getDataVisibility(s)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(n/2,0),o=(i-Math.max(s.cutoutPercentage?i/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,s,i){const o="reset"===i,a=this.chart,r=a.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,d=l.yCenter,u=l.getIndexAngle(0)-.5*n.P;let h,p=u;const m=360/this.countVisibleElements();for(h=0;h<t;++h)p+=this._computeAngle(h,i,m);for(h=t;h<t+s;h++){const t=e[h];let s=p,n=p+this._computeAngle(h,i,m),g=a.getDataVisibility(h)?l.getDistanceFromCenterForValue(this.getParsed(h).r):0;p=n,o&&(r.animateScale&&(g=0),r.animateRotate&&(s=n=u));const f={x:c,y:d,innerRadius:0,outerRadius:g,startAngle:s,endAngle:n,options:this.resolveDataElementOptions(h,t.active?"active":i)};this.updateElement(t,h,f,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++})),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?(0,n.t)(this.resolveDataElementOptions(e,t).angle||s):0}}class D extends O{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class N extends v{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,i){return n.y.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta,s=t.dataset,n=t.data||[],i=t.iScale.getLabels();if(s.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===n.length,options:t};this.updateElement(s,void 0,o,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,s,n){const i=this._cachedMeta.rScale,o="reset"===n;for(let a=t;a<t+s;a++){const t=e[a],s=this.resolveDataElementOptions(a,t.active?"active":n),r=i.getPointPositionForValue(a,this.getParsed(a).r),l=o?i.xCenter:r.x,c=o?i.yCenter:r.y,d={x:l,y:c,angle:r.angle,skip:isNaN(l)||isNaN(c),options:s};this.updateElement(t,a,d,n)}}}class F extends v{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:i}=t,o=this.getParsed(e),a=n.getLabelForValue(o.x),r=i.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+r+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,i=this.chart._animationsDisabled;let{start:o,count:a}=(0,n.q)(t,s,i);if(this._drawStart=o,this._drawCount=a,(0,n.w)(t)&&(o=0,a=s.length),this.options.showLine){const{dataset:n,_dataset:o}=t;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=s;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:a},e)}this.updateElements(s,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,i){const o="reset"===i,{iScale:a,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(d),h=this.includeOptions(i,u),p=a.axis,m=r.axis,{spanGaps:g,segment:f}=this.options,y=(0,n.x)(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||"none"===i;let x=t>0&&this.getParsed(t-1);for(let d=t;d<t+s;++d){const t=e[d],s=this.getParsed(d),g=b?t:{},S=(0,n.k)(s[m]),_=g[p]=a.getPixelForValue(s[p],d),v=g[m]=o||S?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,s,l):s[m],d);g.skip=isNaN(_)||isNaN(v)||S,g.stop=d>0&&Math.abs(s[p]-x[p])>y,f&&(g.parsed=s,g.raw=c.data[d]),h&&(g.options=u||this.resolveDataElementOptions(d,t.active?"active":i)),b||this.updateElement(t,d,g,i),x=s}this.updateSharedOptions(u,i,d)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}const s=e.dataset,n=s.options&&s.options.borderWidth||0;if(!t.length)return n;const i=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,i,o)/2}}var z=Object.freeze({__proto__:null,BarController:j,BubbleController:R,DoughnutController:O,LineController:M,PolarAreaController:L,PieController:D,RadarController:N,ScatterController:F});function B(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class V{static override(e){Object.assign(V.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return B()}parse(){return B()}format(){return B()}add(){return B()}diff(){return B()}startOf(){return B()}endOf(){return B()}}var H={_date:V};function U(e,t,s,i){const{controller:o,data:a,_sorted:r}=e,l=o._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&r&&a.length){const e=l._reversePixels?n.A:n.B;if(!i)return e(a,t,s);if(o._sharedOptions){const n=a[0],i="function"==typeof n.getRange&&n.getRange(t);if(i){const n=e(a,t,s-i),o=e(a,t,s+i);return{lo:n.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function W(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),a=s[t];for(let e=0,s=o.length;e<s;++e){const{index:s,data:r}=o[e],{lo:l,hi:c}=U(o[e],t,a,i);for(let e=l;e<=c;++e){const t=r[e];t.skip||n(t,s,e)}}}function q(e,t,s,i,o){const a=[];if(!o&&!e.isPointInArea(t))return a;return W(e,s,t,(function(s,r,l){(o||(0,n.C)(s,e.chartArea,0))&&s.inRange(t.x,t.y,i)&&a.push({element:s,datasetIndex:r,index:l})}),!0),a}function G(e,t,s,n,i,o){let a=[];const r=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,n){const i=t?Math.abs(e.x-n.x):0,o=s?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(s);let l=Number.POSITIVE_INFINITY;return W(e,s,t,(function(s,c,d){const u=s.inRange(t.x,t.y,i);if(n&&!u)return;const h=s.getCenterPoint(i);if(!(!!o||e.isPointInArea(h))&&!u)return;const p=r(t,h);p<l?(a=[{element:s,datasetIndex:c,index:d}],l=p):p===l&&a.push({element:s,datasetIndex:c,index:d})})),a}function Y(e,t,s,i,o,a){return a||e.isPointInArea(t)?"r"!==s||i?G(e,t,s,i,o,a):function(e,t,s,i){let o=[];return W(e,s,t,(function(e,s,a){const{startAngle:r,endAngle:l}=e.getProps(["startAngle","endAngle"],i),{angle:c}=(0,n.D)(e,{x:t.x,y:t.y});(0,n.p)(c,r,l)&&o.push({element:e,datasetIndex:s,index:a})})),o}(e,t,s,o):[]}function $(e,t,s,n,i){const o=[],a="x"===s?"inXRange":"inYRange";let r=!1;return W(e,s,t,((e,n,l)=>{e[a](t[s],i)&&(o.push({element:e,datasetIndex:n,index:l}),r=r||e.inRange(t.x,t.y,i))})),n&&!r?[]:o}var X={evaluateInteractionItems:W,modes:{index(e,t,s,i){const o=(0,n.z)(t,e),a=s.axis||"x",r=s.includeInvisible||!1,l=s.intersect?q(e,o,a,i,r):Y(e,o,a,!1,i,r),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=l[0].index,s=e.data[t];s&&!s.skip&&c.push({element:s,datasetIndex:e.index,index:t})})),c):[]},dataset(e,t,s,i){const o=(0,n.z)(t,e),a=s.axis||"xy",r=s.includeInvisible||!1;let l=s.intersect?q(e,o,a,i,r):Y(e,o,a,!1,i,r);if(l.length>0){const t=l[0].datasetIndex,s=e.getDatasetMeta(t).data;l=[];for(let e=0;e<s.length;++e)l.push({element:s[e],datasetIndex:t,index:e})}return l},point:(e,t,s,i)=>q(e,(0,n.z)(t,e),s.axis||"xy",i,s.includeInvisible||!1),nearest(e,t,s,i){const o=(0,n.z)(t,e),a=s.axis||"xy",r=s.includeInvisible||!1;return Y(e,o,a,s.intersect,i,r)},x:(e,t,s,i)=>$(e,(0,n.z)(t,e),"x",s.intersect,i),y:(e,t,s,i)=>$(e,(0,n.z)(t,e),"y",s.intersect,i)}};const K=["left","top","right","bottom"];function Q(e,t){return e.filter((e=>e.pos===t))}function Z(e,t){return e.filter((e=>-1===K.indexOf(e.pos)&&e.box.axis===t))}function J(e,t){return e.sort(((e,s)=>{const n=t?s:e,i=t?e:s;return n.weight===i.weight?n.index-i.index:n.weight-i.weight}))}function ee(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:n,stackWeight:i}=s;if(!e||!K.includes(n))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,a,r;for(o=0,a=e.length;o<a;++o){r=e[o];const{fullSize:a}=r.box,l=s[r.stack],c=l&&r.stackWeight/l.weight;r.horizontal?(r.width=c?c*n:a&&t.availableWidth,r.height=i):(r.width=n,r.height=c?c*i:a&&t.availableHeight)}return s}function te(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function se(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function ne(e,t,s,i){const{pos:o,box:a}=s,r=e.maxPadding;if(!(0,n.i)(o)){s.size&&(e[o]-=s.size);const t=i[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?a.height:a.width),s.size=t.size/t.count,e[o]+=s.size}a.getPadding&&se(r,a.getPadding());const l=Math.max(0,t.outerWidth-te(r,e,"left","right")),c=Math.max(0,t.outerHeight-te(r,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function ie(e,t){const s=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],s[e])})),n}return n(e?["left","right"]:["top","bottom"])}function oe(e,t,s,n){const i=[];let o,a,r,l,c,d;for(o=0,a=e.length,c=0;o<a;++o){r=e[o],l=r.box,l.update(r.width||t.w,r.height||t.h,ie(r.horizontal,t));const{same:a,other:u}=ne(t,s,r,n);c|=a&&i.length,d=d||u,l.fullSize||i.push(r)}return c&&oe(i,t,s,n)||d}function ae(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function re(e,t,s,i){const o=s.padding;let{x:a,y:r}=t;for(const l of e){const e=l.box,c=i[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/c.weight||1;if(l.horizontal){const i=t.w*d,a=c.size||e.height;(0,n.h)(c.start)&&(r=c.start),e.fullSize?ae(e,o.left,r,s.outerWidth-o.right-o.left,a):ae(e,t.left+c.placed,r,i,a),c.start=r,c.placed+=i,r=e.bottom}else{const i=t.h*d,r=c.size||e.width;(0,n.h)(c.start)&&(a=c.start),e.fullSize?ae(e,a,o.top,r,s.outerHeight-o.bottom-o.top):ae(e,a,t.top+c.placed,r,i),c.start=a,c.placed+=i,a=e.right}}t.x=a,t.y=r}var le={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,i){if(!e)return;const o=(0,n.E)(e.options.layout.padding),a=Math.max(t-o.width,0),r=Math.max(s-o.height,0),l=function(e){const t=function(e){const t=[];let s,n,i,o,a,r;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],({position:o,options:{stack:a,stackWeight:r=1}}=i),t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:r});return t}(e),s=J(t.filter((e=>e.box.fullSize)),!0),n=J(Q(t,"left"),!0),i=J(Q(t,"right")),o=J(Q(t,"top"),!0),a=J(Q(t,"bottom")),r=Z(t,"x"),l=Z(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(l).concat(a).concat(r),chartArea:Q(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:o.concat(a).concat(r)}}(e.boxes),c=l.vertical,d=l.horizontal;(0,n.F)(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:o,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/u,hBoxMaxHeight:r/2}),p=Object.assign({},o);se(p,(0,n.E)(i));const m=Object.assign({maxPadding:p,w:a,h:r,x:o.left,y:o.top},o),g=ee(c.concat(d),h);oe(l.fullSize,m,h,g),oe(c,m,h,g),oe(d,m,h,g)&&oe(c,m,h,g),function(e){const t=e.maxPadding;function s(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(m),re(l.leftAndTop,m,h,g),m.x+=m.w,m.y+=m.h,re(l.rightAndBottom,m,h,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},(0,n.F)(l.chartArea,(t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})}))}};class ce{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,n){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):s)}}isAttached(e){return!0}updateConfig(e){}}class de extends ce{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ue={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},he=e=>null===e||""===e;const pe=!!n.K&&{passive:!0};function me(e,t,s){e.canvas.removeEventListener(t,s,pe)}function ge(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function fe(e,t,s){const n=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const s of e)t=t||ge(s.addedNodes,n),t=t&&!ge(s.removedNodes,n);t&&s()}));return i.observe(document,{childList:!0,subtree:!0}),i}function ye(e,t,s){const n=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const s of e)t=t||ge(s.removedNodes,n),t=t&&!ge(s.addedNodes,n);t&&s()}));return i.observe(document,{childList:!0,subtree:!0}),i}const be=new Map;let xe=0;function Se(){const e=window.devicePixelRatio;e!==xe&&(xe=e,be.forEach(((t,s)=>{s.currentDevicePixelRatio!==e&&t()})))}function _e(e,t,s){const i=e.canvas,o=i&&(0,n.I)(i);if(!o)return;const a=(0,n.L)(((e,t)=>{const n=o.clientWidth;s(e,t),n<o.clientWidth&&s()}),window),r=new ResizeObserver((e=>{const t=e[0],s=t.contentRect.width,n=t.contentRect.height;0===s&&0===n||a(s,n)}));return r.observe(o),function(e,t){be.size||window.addEventListener("resize",Se),be.set(e,t)}(e,a),r}function ve(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){be.delete(e),be.size||window.removeEventListener("resize",Se)}(e)}function Ee(e,t,s){const i=e.canvas,o=(0,n.L)((t=>{null!==e.ctx&&s(function(e,t){const s=ue[e.type]||e.type,{x:i,y:o}=(0,n.z)(e,t);return{type:s,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==o?o:null}}(t,e))}),e);return function(e,t,s){e.addEventListener(t,s,pe)}(i,t,o),o}class we extends ce{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,i=e.getAttribute("height"),o=e.getAttribute("width");if(e.$chartjs={initial:{height:i,width:o,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",he(o)){const t=(0,n.J)(e,"width");void 0!==t&&(e.width=t)}if(he(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=(0,n.J)(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t.$chartjs)return!1;const s=t.$chartjs.initial;["height","width"].forEach((e=>{const i=s[e];(0,n.k)(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=s.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t.$chartjs,!0}addEventListener(e,t,s){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),i={attach:fe,detach:ye,resize:_e}[t]||Ee;n[t]=i(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),n=s[t];if(!n)return;({attach:ve,detach:ve,resize:ve}[t]||me)(e,t,n),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,i){return(0,n.G)(e,t,s,i)}isAttached(e){const t=(0,n.I)(e);return!(!t||!t.isConnected)}}function Ce(e){return!(0,n.M)()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?de:we}class Ie{static defaults={};static defaultRoutes=void 0;active=!1;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return(0,n.x)(this.x)&&(0,n.x)(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const n={};return e.forEach((e=>{n[e]=s[e]&&s[e].active()?s[e]._to:this[e]})),n}}function Te(e,t){const s=e.options.ticks,i=function(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}(e),o=Math.min(s.maxTicksLimit||i,i),a=s.major.enabled?function(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}(t):[],r=a.length,l=a[0],c=a[r-1],d=[];if(r>o)return function(e,t,s,n){let i,o=0,a=s[0];for(n=Math.ceil(n),i=0;i<e.length;i++)i===a&&(t.push(e[i]),o++,a=s[o*n])}(t,d,a,r/o),d;const u=function(e,t,s){const i=function(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}(e),o=t.length/s;if(!i)return Math.max(o,1);const a=(0,n.N)(i);for(let e=0,t=a.length-1;e<t;e++){const t=a[e];if(t>o)return t}return Math.max(o,1)}(a,t,o);if(r>0){let e,s;const i=r>1?Math.round((c-l)/(r-1)):null;for(Ae(t,d,u,(0,n.k)(i)?0:l-i,l),e=0,s=r-1;e<s;e++)Ae(t,d,u,a[e],a[e+1]);return Ae(t,d,u,c,(0,n.k)(i)?t.length:c+i),d}return Ae(t,d,u),d}function Ae(e,t,s,i,o){const a=(0,n.v)(i,0),r=Math.min((0,n.v)(o,e.length),e.length);let l,c,d,u=0;for(s=Math.ceil(s),o&&(l=o-i,s=l/Math.floor(l/s)),d=a;d<0;)u++,d=Math.round(a+u*s);for(c=Math.max(a,0);c<r;c++)c===d&&(t.push(e[c]),u++,d=Math.round(a+u*s))}const Pe=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s;function ke(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function je(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,a=e._endPixel,r=1e-6;let l,c=e.getPixelForTick(i);if(!(s&&(l=1===n?Math.max(c-o,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<o-r||c>a+r)))return c}function Re(e){return e.drawTicks?e.tickLength:0}function Oe(e,t){if(!e.display)return 0;const s=(0,n.a0)(e.font,t),i=(0,n.E)(e.padding);return((0,n.b)(e.text)?e.text.length:1)*s.lineHeight+i.height}function Me(e,t,s){let i=(0,n.a1)(e);return(s&&"right"!==t||!s&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Le extends Ie{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return e=(0,n.O)(e,Number.POSITIVE_INFINITY),t=(0,n.O)(t,Number.NEGATIVE_INFINITY),s=(0,n.O)(s,Number.POSITIVE_INFINITY),i=(0,n.O)(i,Number.NEGATIVE_INFINITY),{min:(0,n.O)(e,s),max:(0,n.O)(t,i),minDefined:(0,n.g)(e),maxDefined:(0,n.g)(t)}}getMinMax(e){let t,{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();if(o&&a)return{min:s,max:i};const r=this.getMatchingVisibleMetas();for(let n=0,l=r.length;n<l;++n)t=r[n].controller.getMinMax(this,e),o||(s=Math.min(s,t.min)),a||(i=Math.max(i,t.max));return s=a&&s>i?i:s,i=o&&s>i?s:i,{min:(0,n.O)(s,(0,n.O)(i,s)),max:(0,n.O)(i,(0,n.O)(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,n.Q)(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:i,grace:o,ticks:a}=this.options,r=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,n.R)(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=r<this.ticks.length;this._convertTicksToLabels(l?ke(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Te(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,n.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,n.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,n.Q)(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),(0,n.Q)(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,n.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,i,o;for(s=0,i=e.length;s<i;s++)o=e[s],o.label=(0,n.Q)(t.callback,[o.value,s,e],this)}afterTickToLabelConversion(){(0,n.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,n.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=this.ticks.length,i=t.minRotation||0,o=t.maxRotation;let a,r,l,c=i;if(!this._isVisible()||!t.display||i>=o||s<=1||!this.isHorizontal())return void(this.labelRotation=i);const d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,p=(0,n.S)(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),u+6>a&&(a=p/(s-(e.offset?.5:1)),r=this.maxHeight-Re(e.grid)-t.padding-Oe(e.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),c=(0,n.U)(Math.min(Math.asin((0,n.S)((d.highest.height+6)/a,-1,1)),Math.asin((0,n.S)(r/l,-1,1))-Math.asin((0,n.S)(h/l,-1,1)))),c=Math.max(i,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){(0,n.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,n.Q)(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:o}}=this,a=this._isVisible(),r=this.isHorizontal();if(a){const a=Oe(i,t.options.font);if(r?(e.width=this.maxWidth,e.height=Re(o)+a):(e.height=this.maxHeight,e.width=Re(o)+a),s.display&&this.ticks.length){const{first:t,last:i,widest:o,highest:a}=this._getLabelSizes(),l=2*s.padding,c=(0,n.t)(this.labelRotation),d=Math.cos(c),u=Math.sin(c);if(r){const t=s.mirror?0:u*o.width+d*a.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=s.mirror?0:d*o.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,i,u,d)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,n){const{ticks:{align:i,padding:o},position:a}=this.options,r=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;r?l?(d=n*e.width,u=s*t.height):(d=s*e.height,u=n*t.width):"start"===i?u=t.width:"end"===i?d=e.width:"inner"!==i&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-c+o)*this.width/(this.width-c),0)}else{let s=t.height/2,n=e.height/2;"start"===i?(s=0,n=e.height):"end"===i&&(s=t.height,n=0),this.paddingTop=s+o,this.paddingBottom=n+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,n.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)(0,n.k)(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=ke(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length)}return e}_computeLabelSizes(e,t){const{ctx:s,_longestTextCache:i}=this,o=[],a=[];let r,l,c,d,u,h,p,m,g,f,y,b=0,x=0;for(r=0;r<t;++r){if(d=e[r].label,u=this._resolveTickFontOptions(r),s.font=h=u.string,p=i[h]=i[h]||{data:{},gc:[]},m=u.lineHeight,g=f=0,(0,n.k)(d)||(0,n.b)(d)){if((0,n.b)(d))for(l=0,c=d.length;l<c;++l)y=d[l],(0,n.k)(y)||(0,n.b)(y)||(g=(0,n.V)(s,p.data,p.gc,g,y),f+=m)}else g=(0,n.V)(s,p.data,p.gc,g,d),f=m;o.push(g),a.push(f),b=Math.max(g,b),x=Math.max(f,x)}!function(e,t){(0,n.F)(e,(e=>{const s=e.gc,n=s.length/2;let i;if(n>t){for(i=0;i<n;++i)delete e.data[s[i]];s.splice(0,n)}}))}(i,t);const S=o.indexOf(b),_=a.indexOf(x),v=e=>({width:o[e]||0,height:a[e]||0});return{first:v(0),last:v(t-1),widest:v(S),highest:v(_),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return(0,n.W)(this._alignToPixels?(0,n.X)(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return(0,n.j)(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=(s=this.chart.getContext(),i=this,(0,n.j)(s,{scale:i,type:"scale"})));var s,i}_tickSize(){const e=this.options.ticks,t=(0,n.t)(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,r=o?o.widest.width+a:0,l=o?o.highest.height+a:0;return this.isHorizontal()?l*s>r*i?r/s:l/i:l*i<r*s?l/s:r/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,i=this.options,{grid:o,position:a,border:r}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),u=Re(o),h=[],p=r.setContext(this.getContext()),m=p.display?p.width:0,g=m/2,f=function(e){return(0,n.X)(s,e,m)};let y,b,x,S,_,v,E,w,C,I,T,A;if("top"===a)y=f(this.bottom),v=this.bottom-u,w=y-g,I=f(e.top)+g,A=e.bottom;else if("bottom"===a)y=f(this.top),I=e.top,A=f(e.bottom)-g,v=y+g,w=this.top+u;else if("left"===a)y=f(this.right),_=this.right-u,E=y-g,C=f(e.left)+g,T=e.right;else if("right"===a)y=f(this.left),C=e.left,T=f(e.right)-g,_=y+g,E=this.left+u;else if("x"===t){if("center"===a)y=f((e.top+e.bottom)/2+.5);else if((0,n.i)(a)){const e=Object.keys(a)[0],t=a[e];y=f(this.chart.scales[e].getPixelForValue(t))}I=e.top,A=e.bottom,v=y+g,w=v+u}else if("y"===t){if("center"===a)y=f((e.left+e.right)/2);else if((0,n.i)(a)){const e=Object.keys(a)[0],t=a[e];y=f(this.chart.scales[e].getPixelForValue(t))}_=y-g,E=_-u,C=e.left,T=e.right}const P=(0,n.v)(i.ticks.maxTicksLimit,d),k=Math.max(1,Math.ceil(d/P));for(b=0;b<d;b+=k){const e=this.getContext(b),t=o.setContext(e),i=r.setContext(e),a=t.lineWidth,d=t.color,u=i.dash||[],p=i.dashOffset,m=t.tickWidth,g=t.tickColor,f=t.tickBorderDash||[],y=t.tickBorderDashOffset;x=je(this,b,l),void 0!==x&&(S=(0,n.X)(s,x,a),c?_=E=C=T=S:v=w=I=A=S,h.push({tx1:_,ty1:v,tx2:E,ty2:w,x1:C,y1:I,x2:T,y2:A,width:a,color:d,borderDash:u,borderDashOffset:p,tickWidth:m,tickColor:g,tickBorderDash:f,tickBorderDashOffset:y}))}return this._ticksLength=d,this._borderValue=y,h}_computeLabelItems(e){const t=this.axis,s=this.options,{position:i,ticks:o}=s,a=this.isHorizontal(),r=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=o,h=Re(s.grid),p=h+d,m=u?-d:p,g=-(0,n.t)(this.labelRotation),f=[];let y,b,x,S,_,v,E,w,C,I,T,A,P="middle";if("top"===i)v=this.bottom-m,E=this._getXAxisLabelAlignment();else if("bottom"===i)v=this.top+m,E=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);E=e.textAlign,_=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);E=e.textAlign,_=e.x}else if("x"===t){if("center"===i)v=(e.top+e.bottom)/2+p;else if((0,n.i)(i)){const e=Object.keys(i)[0],t=i[e];v=this.chart.scales[e].getPixelForValue(t)+p}E=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)_=(e.left+e.right)/2-p;else if((0,n.i)(i)){const e=Object.keys(i)[0],t=i[e];_=this.chart.scales[e].getPixelForValue(t)}E=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===l?P="top":"end"===l&&(P="bottom"));const k=this._getLabelSizes();for(y=0,b=r.length;y<b;++y){x=r[y],S=x.label;const e=o.setContext(this.getContext(y));w=this.getPixelForTick(y)+o.labelOffset,C=this._resolveTickFontOptions(y),I=C.lineHeight,T=(0,n.b)(S)?S.length:1;const t=T/2,s=e.color,l=e.textStrokeColor,d=e.textStrokeWidth;let h,p=E;if(a?(_=w,"inner"===E&&(p=y===b-1?this.options.reverse?"left":"right":0===y?this.options.reverse?"right":"left":"center"),A="top"===i?"near"===c||0!==g?-T*I+I/2:"center"===c?-k.highest.height/2-t*I+I:-k.highest.height+I/2:"near"===c||0!==g?I/2:"center"===c?k.highest.height/2-t*I:k.highest.height-T*I,u&&(A*=-1),0===g||e.showLabelBackdrop||(_+=I/2*Math.sin(g))):(v=w,A=(1-T)*I/2),e.showLabelBackdrop){const t=(0,n.E)(e.backdropPadding),s=k.heights[y],i=k.widths[y];let o=A-t.top,a=0-t.left;switch(P){case"middle":o-=s/2;break;case"bottom":o-=s}switch(E){case"center":a-=i/2;break;case"right":a-=i}h={left:a,top:o,width:i+t.width,height:s+t.height,color:e.backdropColor}}f.push({label:S,font:C,textOffset:A,options:{rotation:g,color:s,strokeColor:l,strokeWidth:d,textAlign:p,textBaseline:P,translation:[_,v],backdrop:h}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-(0,n.t)(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:n,padding:i}}=this.options,o=e+i,a=this._getLabelSizes().widest.width;let r,l;return"left"===t?n?(l=this.right+i,"near"===s?r="left":"center"===s?(r="center",l+=a/2):(r="right",l+=a)):(l=this.right-o,"near"===s?r="right":"center"===s?(r="center",l-=a/2):(r="left",l=this.left)):"right"===t?n?(l=this.left+i,"near"===s?r="right":"center"===s?(r="center",l-=a/2):(r="left",l-=a)):(l=this.left+o,"near"===s?r="left":"center"===s?(r="center",l+=a/2):(r="right",l=this.right)):r="right",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:n,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,n,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex((t=>t.value===e));if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(e,t,n)=>{n.width&&n.color&&(s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(i=0,o=n.length;i<o;++i){const e=n[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:i}}=this,o=s.setContext(this.getContext()),a=s.display?o.width:0;if(!a)return;const r=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,u,h;this.isHorizontal()?(c=(0,n.X)(e,this.left,a)-a/2,d=(0,n.X)(e,this.right,r)+r/2,u=h=l):(u=(0,n.X)(e,this.top,a)-a/2,h=(0,n.X)(e,this.bottom,r)+r/2,c=d=l),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(c,u),t.lineTo(d,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&(0,n.Y)(t,s);const i=this.getLabelItems(e);for(const e of i){const s=e.options,i=e.font,o=e.label,a=e.textOffset;(0,n.Z)(t,o,0,a,i,s)}s&&(0,n.$)(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;const o=(0,n.a0)(s.font),a=(0,n.E)(s.padding),r=s.align;let l=o.lineHeight/2;"bottom"===t||"center"===t||(0,n.i)(t)?(l+=a.bottom,(0,n.b)(s.text)&&(l+=o.lineHeight*(s.text.length-1))):l+=a.top;const{titleX:c,titleY:d,maxWidth:u,rotation:h}=function(e,t,s,i){const{top:o,left:a,bottom:r,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h,p,m,g=0;const f=r-o,y=l-a;if(e.isHorizontal()){if(p=(0,n.a2)(i,a,l),(0,n.i)(s)){const e=Object.keys(s)[0],n=s[e];m=u[e].getPixelForValue(n)+f-t}else m="center"===s?(d.bottom+d.top)/2+f-t:Pe(e,s,t);h=l-a}else{if((0,n.i)(s)){const e=Object.keys(s)[0],n=s[e];p=u[e].getPixelForValue(n)-y+t}else p="center"===s?(d.left+d.right)/2-y+t:Pe(e,s,t);m=(0,n.a2)(i,r,o),g="left"===s?-n.H:n.H}return{titleX:p,titleY:m,maxWidth:h,rotation:g}}(this,l,t,r);(0,n.Z)(e,s.text,0,0,o,{color:s.color,maxWidth:u,rotation:h,textAlign:Me(r,t,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=(0,n.v)(e.grid&&e.grid.z,-1),i=(0,n.v)(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Le.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let i,o;for(i=0,o=t.length;i<o;++i){const o=t[i];o[s]!==this.id||e&&o.type!==e||n.push(o)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return(0,n.a0)(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class De{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const i=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,function(e,t,s){const i=(0,n.a4)(Object.create(null),[s?n.d.get(s):{},n.d.get(t),e.defaults]);n.d.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((s=>{const i=s.split("."),o=i.pop(),a=[e].concat(i).join("."),r=t[s].split("."),l=r.pop(),c=r.join(".");n.d.route(a,o,c,l)}))}(t,e.defaultRoutes);e.descriptors&&n.d.describe(t,e.descriptors)}(e,a,s),this.override&&n.d.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,i=this.scope;s in t&&delete t[s],i&&s in n.d[i]&&(delete n.d[i][s],this.override&&delete n.a3[s])}}class Ne{constructor(){this.controllers=new De(v,"datasets",!0),this.elements=new De(Ie,"elements"),this.plugins=new De(Object,"plugins"),this.scales=new De(Le,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach((t=>{const i=s||this._getRegistryForType(t);s||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):(0,n.F)(t,(t=>{const n=s||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,s){const i=(0,n.a5)(e);(0,n.Q)(s["before"+i],[],s),t[e](s),(0,n.Q)(s["after"+i],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+s+".");return n}}var Fe=new Ne;class ze{constructor(){this._init=[]}notify(e,t,s,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(i,e,t,s);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,s,i){i=i||{};for(const o of e){const e=o.plugin,a=e[s],r=[t,i,o.options];if(!1===(0,n.Q)(a,r,e)&&i.cancelable)return!1}return!0}invalidate(){(0,n.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,i=(0,n.v)(s.options&&s.options.plugins,{}),o=function(e){const t={},s=[],n=Object.keys(Fe.plugins.items);for(let e=0;e<n.length;e++)s.push(Fe.getPlugin(n[e]));const i=e.plugins||[];for(let e=0;e<i.length;e++){const n=i[e];-1===s.indexOf(n)&&(s.push(n),t[n.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==i||t?function(e,{plugins:t,localIds:s},n,i){const o=[],a=e.getContext();for(const r of t){const t=r.id,l=Be(n[t],i);null!==l&&o.push({plugin:r,options:Ve(e.config,{plugin:r,local:s[t]},l,a)})}return o}(e,o,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,s),e,"stop"),this._notify(n(s,t),e,"start")}}function Be(e,t){return t||!1!==e?!0===e?{}:e:null}function Ve(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(n,o);return s&&t.defaults&&a.push(t.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function He(e,t){const s=n.d.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function Ue(e,t){if("x"===e||"y"===e||"r"===e)return e;var s;if(e=t.axis||("top"===(s=t.position)||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0)||e.length>1&&Ue(e[0].toLowerCase(),t))return e;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function We(e){const t=e.options||(e.options={});t.plugins=(0,n.v)(t.plugins,{}),t.scales=function(e,t){const s=n.a3[e.type]||{scales:{}},o=t.scales||{},a=He(e.type,t),r=Object.create(null);return Object.keys(o).forEach((e=>{const t=o[e];if(!(0,n.i)(t))return i.error(`Invalid scale configuration for scale: ${e}`);if(t._proxy)return i.warn(`Ignoring resolver passed as options for scale: ${e}`);const l=Ue(e,t),c=function(e,t){return e===t?"_index_":"_value_"}(l,a),d=s.scales||{};r[e]=(0,n.ab)(Object.create(null),[{axis:l},t,d[l],d[c]])})),e.data.datasets.forEach((s=>{const i=s.type||e.type,a=s.indexAxis||He(i,t),l=(n.a3[i]||{}).scales||{};Object.keys(l).forEach((e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,a),i=s[t+"AxisID"]||t;r[i]=r[i]||Object.create(null),(0,n.ab)(r[i],[{axis:t},o[i],l[e]])}))})),Object.keys(r).forEach((e=>{const t=r[e];(0,n.ab)(t,[n.d.scales[t.type],n.d.scale])})),r}(e,t)}function qe(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Ge=new Map,Ye=new Set;function $e(e,t){let s=Ge.get(e);return s||(s=t(),Ge.set(e,s),Ye.add(s)),s}const Xe=(e,t,s)=>{const i=(0,n.f)(t,s);void 0!==i&&e.add(i)};class Ke{constructor(e){this._config=function(e){return(e=e||{}).data=qe(e.data),We(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qe(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),We(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $e(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return $e(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return $e(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return $e(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const s=this._scopeCache;let n=s.get(e);return n&&!t||(n=new Map,s.set(e,n)),n}getOptionScopes(e,t,s){const{options:i,type:o}=this,a=this._cachedScopes(e,s),r=a.get(t);if(r)return r;const l=new Set;t.forEach((t=>{e&&(l.add(e),t.forEach((t=>Xe(l,e,t)))),t.forEach((e=>Xe(l,i,e))),t.forEach((e=>Xe(l,n.a3[o]||{},e))),t.forEach((e=>Xe(l,n.d,e))),t.forEach((e=>Xe(l,n.a6,e)))}));const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),Ye.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,n.a3[t]||{},n.d.datasets[t]||{},{type:t},n.d,n.a6]}resolveNamedOptions(e,t,s,i=[""]){const o={$shared:!0},{resolver:a,subPrefixes:r}=Qe(this._resolverCache,e,i);let l=a;if(function(e,t){const{isScriptable:s,isIndexable:i}=(0,n.aa)(e);for(const o of t){const t=s(o),a=i(o),r=(a||t)&&e[o];if(t&&((0,n.a7)(r)||Ze(r))||a&&(0,n.b)(r))return!0}return!1}(a,t)){o.$shared=!1,s=(0,n.a7)(s)?s():s;const t=this.createResolver(e,s,r);l=(0,n.a8)(a,s,t)}for(const e of t)o[e]=l[e];return o}createResolver(e,t,s=[""],i){const{resolver:o}=Qe(this._resolverCache,e,s);return(0,n.i)(t)?(0,n.a8)(o,t,void 0,i):o}}function Qe(e,t,s){let i=e.get(t);i||(i=new Map,e.set(t,i));const o=s.join();let a=i.get(o);if(!a){a={resolver:(0,n.a9)(t,s),subPrefixes:s.filter((e=>!e.toLowerCase().includes("hover")))},i.set(o,a)}return a}const Ze=e=>(0,n.i)(e)&&Object.getOwnPropertyNames(e).reduce(((t,s)=>t||(0,n.a7)(e[s])),!1);const Je=["top","bottom","left","right","chartArea"];function et(e,t){return"top"===e||"bottom"===e||-1===Je.indexOf(e)&&"x"===t}function tt(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function st(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),(0,n.Q)(s&&s.onComplete,[e],t)}function nt(e){const t=e.chart,s=t.options.animation;(0,n.Q)(s&&s.onProgress,[e],t)}function it(e){return(0,n.M)()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ot={},at=e=>{const t=it(e);return Object.values(ot).filter((e=>e.canvas===t)).pop()};function rt(e,t,s){const n=Object.keys(e);for(const i of n){const n=+i;if(n>=t){const o=e[i];delete e[i],(s>0||n>t)&&(e[n+s]=o)}}}class lt{static defaults=n.d;static instances=ot;static overrides=n.a3;static registry=Fe;static version="4.2.0";static getChart=at;static register(...e){Fe.add(...e),ct()}static unregister(...e){Fe.remove(...e),ct()}constructor(e,t){const s=this.config=new Ke(t),o=it(e),r=at(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Ce(o)),this.platform.updateConfig(s);const c=this.platform.acquireContext(o,l.aspectRatio),d=c&&c.canvas,u=d&&d.height,h=d&&d.width;this.id=(0,n.ac)(),this.ctx=c,this.canvas=d,this.width=h,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ze,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,n.ad)((e=>this.update(e)),l.resizeDelay||0),this._dataChanges=[],ot[this.id]=this,c&&d?(a.listen(this,"complete",st),a.listen(this,"progress",nt),this._initialize(),this.attached&&this.update()):i.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:i,_aspectRatio:o}=this;return(0,n.k)(e)?t&&o?o:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fe}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,n.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,n.af)(this.canvas,this.ctx),this}stop(){return a.stop(this),this}resize(e,t){a.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,i=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,o),r=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,(0,n.ae)(this,r,!0)&&(this.notifyPlugins("resize",{size:a}),(0,n.Q)(s.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};(0,n.F)(e,((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,i=Object.keys(s).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];t&&(o=o.concat(Object.keys(t).map((e=>{const s=t[e],n=Ue(e,s),i="r"===n,o="x"===n;return{options:s,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),(0,n.F)(o,(t=>{const o=t.options,a=o.id,r=Ue(a,o),l=(0,n.v)(o.type,t.dtype);void 0!==o.position&&et(o.position,r)===et(t.dposition)||(o.position=t.dposition),i[a]=!0;let c=null;if(a in s&&s[a].type===l)c=s[a];else{c=new(Fe.getScale(l))({id:a,type:l,ctx:this.ctx,chart:this}),s[c.id]=c}c.init(o,e)})),(0,n.F)(i,((e,t)=>{e||delete s[t]})),(0,n.F)(s,(e=>{le.configure(this,e,e.options),le.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort(((e,t)=>e.index-t.index)),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(tt("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,s)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(s)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){const i=t[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||He(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const t=Fe.getController(a),{datasetElementType:i,dataElementType:r}=n.d.datasets[a];Object.assign(t,{dataElementType:Fe.getElement(r),datasetElementType:i&&Fe.getElement(i)}),o.controller=new t(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){(0,n.F)(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),s=!i&&-1===o.indexOf(t);t.buildOrUpdateElements(s),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),i||(0,n.F)(o,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tt("z","_idx"));const{_active:r,_lastEvent:l}=this;l?this._eventHandler(l,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){(0,n.F)(this.scales,(e=>{le.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(0,n.ag)(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:i}of t){rt(e,n,"_removeElements"===s?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=s(0);for(let e=1;e<t;e++)if(!(0,n.ag)(i,s(e)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;le.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],(0,n.F)(this.boxes,(e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,(0,n.a7)(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),n={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(s.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(a.has(this)?this.attached&&!a.running(this)&&a.start(this):(this.draw(),st({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let n,i;for(n=0,i=t.length;n<i;++n){const i=t[n];e&&!i.visible||s.push(i)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s=e._clip,i=!s.disabled,o=function(e){const{xScale:t,yScale:s}=e;if(t&&s)return{left:t.left,right:t.right,top:s.top,bottom:s.bottom}}(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&(0,n.Y)(t,{left:!1===s.left?0:o.left-s.left,right:!1===s.right?this.width:o.right+s.right,top:!1===s.top?0:o.top-s.top,bottom:!1===s.bottom?this.height:o.bottom+s.bottom}),e.controller.draw(),i&&(0,n.$)(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return(0,n.C)(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,n){const i=X.modes[t];return"function"==typeof i?i(this,e,s,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let n=s.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=(0,n.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"==typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const i=s?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,i);(0,n.h)(t)?(o.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(o,{visible:s}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),a.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),(0,n.af)(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ot[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},i=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};(0,n.F)(this.options.events,(e=>s(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(s,n)=>{e[s]&&(t.removeEventListener(this,s,n),delete e[s])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),s("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){(0,n.F)(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},(0,n.F)(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const n=s?"set":"remove";let i,o,a,r;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),a=0,r=e.length;a<r;++a){o=e[a];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map((({datasetIndex:e,index:t})=>{const s=this.getDatasetMeta(e);if(!s)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:s.data[t],index:t}}));!(0,n.ah)(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,s){const n=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=i(t,e),a=s?e:i(e,t);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,n))return;const i=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(i||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:i=[],options:o}=this,a=t,r=this._getActiveElements(e,i,s,a),l=(0,n.ai)(e),c=function(e,t,s,n){return s&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,s,l);s&&(this._lastEvent=null,(0,n.Q)(o.onHover,[e,r,this],this),l&&(0,n.Q)(o.onClick,[e,r,this],this));const d=!(0,n.ah)(r,i);return(d||t)&&(this._active=r,this._updateHoverStyles(r,i,t)),this._lastEvent=c,d}_getActiveElements(e,t,s,n){if("mouseout"===e.type)return[];if(!s)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}}function ct(){return(0,n.F)(lt.instances,(e=>e._plugins.invalidate()))}function dt(e,t,s,i){const o=(a=e.options.borderRadius,(0,n.ak)(a,["outerStart","outerEnd","innerStart","innerEnd"]));var a;const r=(s-t)/2,l=Math.min(r,i*t/2),c=e=>{const t=(s-Math.min(r,e))*i/2;return(0,n.S)(e,0,Math.min(r,t))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:(0,n.S)(o.innerStart,0,l),innerEnd:(0,n.S)(o.innerEnd,0,l)}}function ut(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function ht(e,t,s,i,o,a){const{x:r,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+i+s-d,0),p=u>0?u+i+s+d:0;let m=0;const g=o-c;if(i){const e=((u>0?u-i:0)+(h>0?h-i:0))/2;m=(g-(0!==e?g*e/(e+i):g))/2}const f=(g-Math.max(.001,g*h-s/n.P)/h)/2,y=c+f+m,b=o-f-m,{outerStart:x,outerEnd:S,innerStart:_,innerEnd:v}=dt(t,p,h,b-y),E=h-x,w=h-S,C=y+x/E,I=b-S/w,T=p+_,A=p+v,P=y+_/T,k=b-v/A;if(e.beginPath(),a){const t=(C+I)/2;if(e.arc(r,l,h,C,t),e.arc(r,l,h,t,I),S>0){const t=ut(w,I,r,l);e.arc(t.x,t.y,S,I,b+n.H)}const s=ut(A,b,r,l);if(e.lineTo(s.x,s.y),v>0){const t=ut(A,k,r,l);e.arc(t.x,t.y,v,b+n.H,k+Math.PI)}const i=(b-v/p+(y+_/p))/2;if(e.arc(r,l,p,b-v/p,i,!0),e.arc(r,l,p,i,y+_/p,!0),_>0){const t=ut(T,P,r,l);e.arc(t.x,t.y,_,P+Math.PI,y-n.H)}const o=ut(E,y,r,l);if(e.lineTo(o.x,o.y),x>0){const t=ut(E,C,r,l);e.arc(t.x,t.y,x,y-n.H,C)}}else{e.moveTo(r,l);const t=Math.cos(C)*h+r,s=Math.sin(C)*h+l;e.lineTo(t,s);const n=Math.cos(I)*h+r,i=Math.sin(I)*h+l;e.lineTo(n,i)}e.closePath()}function pt(e,t,s,i,o){const{fullCircles:a,startAngle:r,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h="inner"===c.borderAlign;if(!d)return;h?(e.lineWidth=2*d,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let p=t.endAngle;if(a){ht(e,t,s,i,p,o);for(let t=0;t<a;++t)e.stroke();isNaN(l)||(p=r+(l%n.T||n.T))}h&&function(e,t,s){const{startAngle:i,pixelMargin:o,x:a,y:r,outerRadius:l,innerRadius:c}=t;let d=o/l;e.beginPath(),e.arc(a,r,l,i-d,s+d),c>o?(d=o/c,e.arc(a,r,c,s+d,i-d,!0)):e.arc(a,r,o,s+n.H,i-n.H),e.closePath(),e.clip()}(e,t,p),a||(ht(e,t,s,i,p,o),e.stroke())}class mt extends Ie{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=(0,n.D)(i,{x:e,y:t}),{startAngle:r,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=this.options.spacing/2,p=(0,n.v)(u,l-r)>=n.T||(0,n.p)(o,r,l),m=(0,n.aj)(a,c+h,d+h);return p&&m}getCenterPoint(e){const{x:t,y:s,startAngle:n,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:r,spacing:l}=this.options,c=(n+i)/2,d=(o+a+l+r)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>n.T?Math.floor(s/n.T):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*i,Math.sin(r)*i);const l=i*(1-Math.sin(Math.min(n.P,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,i,o){const{fullCircles:a,startAngle:r,circumference:l}=t;let c=t.endAngle;if(a){ht(e,t,s,i,c,o);for(let t=0;t<a;++t)e.fill();isNaN(l)||(c=r+(l%n.T||n.T))}ht(e,t,s,i,c,o),e.fill()}(e,this,l,o,a),pt(e,this,l,o,a),e.restore()}}function gt(e,t,s=t){e.lineCap=(0,n.v)(s.borderCapStyle,t.borderCapStyle),e.setLineDash((0,n.v)(s.borderDash,t.borderDash)),e.lineDashOffset=(0,n.v)(s.borderDashOffset,t.borderDashOffset),e.lineJoin=(0,n.v)(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=(0,n.v)(s.borderWidth,t.borderWidth),e.strokeStyle=(0,n.v)(s.borderColor,t.borderColor)}function ft(e,t,s){e.lineTo(s.x,s.y)}function yt(e,t,s={}){const n=e.length,{start:i=0,end:o=n-1}=s,{start:a,end:r}=t,l=Math.max(i,a),c=Math.min(o,r),d=i<a&&o<a||i>r&&o>r;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function bt(e,t,s,i){const{points:o,options:a}=t,{count:r,start:l,loop:c,ilen:d}=yt(o,s,i),u=function(e){return e.stepped?n.ar:e.tension||"monotone"===e.cubicInterpolationMode?n.as:ft}(a);let h,p,m,{move:g=!0,reverse:f}=i||{};for(h=0;h<=d;++h)p=o[(l+(f?d-h:h))%r],p.skip||(g?(e.moveTo(p.x,p.y),g=!1):u(e,m,p,f,a.stepped),m=p);return c&&(p=o[(l+(f?d:0))%r],u(e,m,p,f,a.stepped)),!!c}function xt(e,t,s,n){const i=t.points,{count:o,start:a,ilen:r}=yt(i,s,n),{move:l=!0,reverse:c}=n||{};let d,u,h,p,m,g,f=0,y=0;const b=e=>(a+(c?r-e:e))%o,x=()=>{p!==m&&(e.lineTo(f,m),e.lineTo(f,p),e.lineTo(f,g))};for(l&&(u=i[b(0)],e.moveTo(u.x,u.y)),d=0;d<=r;++d){if(u=i[b(d)],u.skip)continue;const t=u.x,s=u.y,n=0|t;n===h?(s<p?p=s:s>m&&(m=s),f=(y*f+t)/++y):(x(),e.lineTo(t,s),h=n,y=0,p=m=s),g=s}x()}function St(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||s)?xt:bt}const _t="function"==typeof Path2D;function vt(e,t,s,n){_t&&!t.options.segment?function(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),gt(e,t.options),e.stroke(i)}(e,t,s,n):function(e,t,s,n){const{segments:i,options:o}=t,a=St(t);for(const r of i)gt(e,o,r.style),e.beginPath(),a(e,t,r,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}(e,t,s,n)}class Et extends Ie{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;(0,n.al)(this._points,s,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,n.am)(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,i=e[t],o=this.points,a=(0,n.an)(this,{property:t,start:i,end:i});if(!a.length)return;const r=[],l=function(e){return e.stepped?n.ao:e.tension||"monotone"===e.cubicInterpolationMode?n.ap:n.aq}(s);let c,d;for(c=0,d=a.length;c<d;++c){const{start:n,end:d}=a[c],u=o[n],h=o[d];if(u===h){r.push(u);continue}const p=l(u,h,Math.abs((i-u[t])/(h[t]-u[t])),s.stepped);p[t]=e[t],r.push(p)}return 1===r.length?r[0]:r}pathSegment(e,t,s){return St(this)(e,this,t,s)}path(e,t,s){const n=this.segments,i=St(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const a of n)o&=i(e,this,a,{start:t,end:t+s-1});return!!o}draw(e,t,s,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),vt(e,this,s,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function wt(e,t,s,n){const i=e.options,{[s]:o}=e.getProps([s],n);return Math.abs(t-o)<i.radius+i.hitRadius}class Ct extends Ie{static id="point";static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.options,{x:i,y:o}=this.getProps(["x","y"],s);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return wt(this,e,"x",t)}inYRange(e,t){return wt(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!(0,n.C)(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,(0,n.at)(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function It(e,t){const{x:s,y:n,base:i,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let r,l,c,d,u;return e.horizontal?(u=a/2,r=Math.min(s,i),l=Math.max(s,i),c=n-u,d=n+u):(u=o/2,r=s-u,l=s+u,c=Math.min(n,i),d=Math.max(n,i)),{left:r,top:c,right:l,bottom:d}}function Tt(e,t,s,i){return e?0:(0,n.S)(t,s,i)}function At(e){const t=It(e),s=t.right-t.left,i=t.bottom-t.top,o=function(e,t,s){const i=e.options.borderWidth,o=e.borderSkipped,a=(0,n.av)(i);return{t:Tt(o.top,a.top,0,s),r:Tt(o.right,a.right,0,t),b:Tt(o.bottom,a.bottom,0,s),l:Tt(o.left,a.left,0,t)}}(e,s/2,i/2),a=function(e,t,s){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,a=(0,n.aw)(o),r=Math.min(t,s),l=e.borderSkipped,c=i||(0,n.i)(o);return{topLeft:Tt(!c||l.top||l.left,a.topLeft,0,r),topRight:Tt(!c||l.top||l.right,a.topRight,0,r),bottomLeft:Tt(!c||l.bottom||l.left,a.bottomLeft,0,r),bottomRight:Tt(!c||l.bottom||l.right,a.bottomRight,0,r)}}(e,s/2,i/2);return{outer:{x:t.left,y:t.top,w:s,h:i,radius:a},inner:{x:t.left+o.l,y:t.top+o.t,w:s-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function Pt(e,t,s,i){const o=null===t,a=null===s,r=e&&!(o&&a)&&It(e,i);return r&&(o||(0,n.aj)(t,r.left,r.right))&&(a||(0,n.aj)(s,r.top,r.bottom))}function kt(e,t){e.rect(t.x,t.y,t.w,t.h)}function jt(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,a=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+a,radius:e.radius}}class Rt extends Ie{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:i}}=this,{inner:o,outer:a}=At(this),r=(l=a.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?n.au:kt;var l;e.save(),a.w===o.w&&a.h===o.h||(e.beginPath(),r(e,jt(a,t,o)),e.clip(),r(e,jt(o,-t,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),r(e,jt(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,s){return Pt(this,e,t,s)}inXRange(e,t){return Pt(this,e,null,t)}inYRange(e,t){return Pt(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+n)/2:t,y:i?s:(s+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}var Ot=Object.freeze({__proto__:null,ArcElement:mt,LineElement:Et,PointElement:Ct,BarElement:Rt});const Mt=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Lt=Mt.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function Dt(e){return Mt[e%Mt.length]}function Nt(e){return Lt[e%Lt.length]}function Ft(e){let t=0;return(s,n)=>{const i=e.getDatasetMeta(n).controller;i instanceof O?t=function(e,t){return e.backgroundColor=e.data.map((()=>Dt(t++))),t}(s,t):i instanceof L?t=function(e,t){return e.backgroundColor=e.data.map((()=>Nt(t++))),t}(s,t):i&&(t=function(e,t){return e.borderColor=Dt(t),e.backgroundColor=Nt(t),++t}(s,t))}}function zt(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Bt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:n},options:i}=e.config,{elements:o}=i;if(!s.forceOverride&&(zt(n)||(a=i)&&(a.borderColor||a.backgroundColor)||o&&zt(o)))return;var a;const r=Ft(e);n.forEach(r)}};function Vt(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function Ht(e){e.data.datasets.forEach((e=>{Vt(e)}))}var Ut={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled)return void Ht(e);const i=e.width;e.data.datasets.forEach(((t,o)=>{const{_data:a,indexAxis:r}=t,l=e.getDatasetMeta(o),c=a||t.data;if("y"===(0,n.a)([r,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type)return;if(e.options.parsing)return;let{start:u,count:h}=function(e,t){const s=t.length;let i,o=0;const{iScale:a}=e,{min:r,max:l,minDefined:c,maxDefined:d}=a.getUserBounds();return c&&(o=(0,n.S)((0,n.B)(t,a.axis,r).lo,0,s-1)),i=d?(0,n.S)((0,n.B)(t,a.axis,l).hi+1,o,s)-o:s-o,{start:o,count:i}}(l,c);if(h<=(s.threshold||4*i))return void Vt(t);let p;switch((0,n.k)(a)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),s.algorithm){case"lttb":p=function(e,t,s,n,i){const o=i.samples||n;if(o>=s)return e.slice(t,t+s);const a=[],r=(s-2)/(o-2);let l=0;const c=t+s-1;let d,u,h,p,m,g=t;for(a[l++]=e[g],d=0;d<o-2;d++){let n,i=0,o=0;const c=Math.floor((d+1)*r)+1+t,f=Math.min(Math.floor((d+2)*r)+1,s)+t,y=f-c;for(n=c;n<f;n++)i+=e[n].x,o+=e[n].y;i/=y,o/=y;const b=Math.floor(d*r)+1+t,x=Math.min(Math.floor((d+1)*r)+1,s)+t,{x:S,y:_}=e[g];for(h=p=-1,n=b;n<x;n++)p=.5*Math.abs((S-i)*(e[n].y-_)-(S-e[n].x)*(o-_)),p>h&&(h=p,u=e[n],m=n);a[l++]=u,g=m}return a[l++]=e[c],a}(c,u,h,i,s);break;case"min-max":p=function(e,t,s,i){let o,a,r,l,c,d,u,h,p,m,g=0,f=0;const y=[],b=t+s-1,x=e[t].x,S=e[b].x-x;for(o=t;o<t+s;++o){a=e[o],r=(a.x-x)/S*i,l=a.y;const t=0|r;if(t===c)l<p?(p=l,d=o):l>m&&(m=l,u=o),g=(f*g+a.x)/++f;else{const s=o-1;if(!(0,n.k)(d)&&!(0,n.k)(u)){const t=Math.min(d,u),n=Math.max(d,u);t!==h&&t!==s&&y.push({...e[t],x:g}),n!==h&&n!==s&&y.push({...e[n],x:g})}o>0&&s!==h&&y.push(e[s]),y.push(a),c=t,f=0,p=m=l,d=u=h=o}}return y}(c,u,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}t._decimated=p}))},destroy(e){Ht(e)}};function Wt(e,t,s,i){if(i)return;let o=t[e],a=s[e];return"angle"===e&&(o=(0,n.ay)(o),a=(0,n.ay)(a)),{property:e,start:o,end:a}}function qt(e,t,s){for(;t>e;t--){const e=s[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Gt(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function Yt(e,t){let s=[],i=!1;return(0,n.b)(e)?(i=!0,s=e):s=function(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,o=[];return t.segments.forEach((({start:e,end:t})=>{t=qt(e,t,i);const a=i[e],r=i[t];null!==n?(o.push({x:a.x,y:n}),o.push({x:r.x,y:n})):null!==s&&(o.push({x:s,y:a.y}),o.push({x:s,y:r.y}))})),o}(e,t),s.length?new Et({points:s,options:{tension:0},_loop:i,_fullLoop:i}):null}function $t(e){return e&&!1!==e.fill}function Xt(e,t,s){let i=e[t].fill;const o=[t];let a;if(!s)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!(0,n.g)(i))return i;if(a=e[i],!a)return!1;if(a.visible)return i;o.push(i),i=a.fill}return!1}function Kt(e,t,s){const i=function(e){const t=e.options,s=t.fill;let i=(0,n.v)(s&&s.target,s);void 0===i&&(i=!!t.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(e);if((0,n.i)(i))return!isNaN(i.value)&&i;let o=parseFloat(i);return(0,n.g)(o)&&Math.floor(o)===o?function(e,t,s,n){"-"!==e&&"+"!==e||(s=t+s);if(s===t||s<0||s>=n)return!1;return s}(i[0],t,o,s):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Qt(e,t,s){const n=[];for(let i=0;i<s.length;i++){const o=s[i],{first:a,last:r,point:l}=Zt(o,t,"x");if(!(!l||a&&r))if(a)n.unshift(l);else if(e.push(l),!r)break}e.push(...n)}function Zt(e,t,s){const i=e.interpolate(t,s);if(!i)return{};const o=i[s],a=e.segments,r=e.points;let l=!1,c=!1;for(let e=0;e<a.length;e++){const t=a[e],i=r[t.start][s],d=r[t.end][s];if((0,n.aj)(o,i,d)){l=o===i,c=o===d;break}}return{first:l,last:c,point:i}}class Jt{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:i,y:o,radius:a}=this;return t=t||{start:0,end:n.T},e.arc(i,o,a,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:n}=this,i=e.angle;return{x:t+Math.cos(i)*n,y:s+Math.sin(i)*n,angle:i}}}function es(e){const{chart:t,fill:s,line:i}=e;if((0,n.g)(s))return function(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}(t,s);if("stack"===s)return function(e){const{scale:t,index:s,line:n}=e,i=[],o=n.segments,a=n.points,r=function(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let e=0;e<n.length;e++){const i=n[e];if(i.index===t)break;i.hidden||s.unshift(i.dataset)}return s}(t,s);r.push(Yt({x:null,y:t.bottom},n));for(let e=0;e<o.length;e++){const t=o[e];for(let e=t.start;e<=t.end;e++)Qt(i,a[e],r)}return new Et({points:i,options:{}})}(e);if("shape"===s)return!0;const o=function(e){if((e.scale||{}).getPointPositionForValue)return function(e){const{scale:t,fill:s}=e,i=t.options,o=t.getLabels().length,a=i.reverse?t.max:t.min,r=function(e,t,s){let i;return i="start"===e?s:"end"===e?t.options.reverse?t.min:t.max:(0,n.i)(e)?e.value:t.getBaseValue(),i}(s,t,a),l=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,a);return new Jt({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(r)})}for(let e=0;e<o;++e)l.push(t.getPointPositionForValue(e,r));return l}(e);return function(e){const{scale:t={},fill:s}=e,i=function(e,t){let s=null;return"start"===e?s=t.bottom:"end"===e?s=t.top:(0,n.i)(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}(s,t);if((0,n.g)(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return o instanceof Jt?o:Yt(o,i)}function ts(e,t,s){const i=es(t),{line:o,scale:a,axis:r}=t,l=o.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:h=d}=c||{};i&&o.points.length&&((0,n.Y)(e,s),function(e,t){const{line:s,target:n,above:i,below:o,area:a,scale:r}=t,l=s._loop?"angle":t.axis;e.save(),"x"===l&&o!==i&&(ss(e,n,a.top),ns(e,{line:s,target:n,color:i,scale:r,property:l}),e.restore(),e.save(),ss(e,n,a.bottom));ns(e,{line:s,target:n,color:o,scale:r,property:l}),e.restore()}(e,{line:o,target:i,above:u,below:h,area:s,scale:a,axis:r}),(0,n.$)(e))}function ss(e,t,s){const{segments:n,points:i}=t;let o=!0,a=!1;e.beginPath();for(const r of n){const{start:n,end:l}=r,c=i[n],d=i[qt(n,l,i)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(c.x,s),e.lineTo(c.x,c.y)),a=!!t.pathSegment(e,r,{move:a}),a?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function ns(e,t){const{line:s,target:i,property:o,color:a,scale:r}=t,l=function(e,t,s){const i=e.segments,o=e.points,a=t.points,r=[];for(const e of i){let{start:i,end:l}=e;l=qt(i,l,o);const c=Wt(s,o[i],o[l],e.loop);if(!t.segments){r.push({source:e,target:c,start:o[i],end:o[l]});continue}const d=(0,n.an)(t,c);for(const t of d){const i=Wt(s,a[t.start],a[t.end],t.loop),l=(0,n.ax)(e,o,i);for(const e of l)r.push({source:e,target:t,start:{[s]:Gt(c,i,"start",Math.max)},end:{[s]:Gt(c,i,"end",Math.min)}})}}return r}(s,i,o);for(const{source:t,target:n,start:c,end:d}of l){const{style:{backgroundColor:l=a}={}}=t,u=!0!==i;e.save(),e.fillStyle=l,is(e,r,u&&Wt(o,c,d)),e.beginPath();const h=!!s.pathSegment(e,t);let p;if(u){h?e.closePath():os(e,i,d,o);const t=!!i.pathSegment(e,n,{move:h,reverse:!0});p=h&&t,p||os(e,i,c,o)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function is(e,t,s){const{top:n,bottom:i}=t.chart.chartArea,{property:o,start:a,end:r}=s||{};"x"===o&&(e.beginPath(),e.rect(a,n,r-a,i-n),e.clip())}function os(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var as={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let o,a,r,l;for(a=0;a<n;++a)o=e.getDatasetMeta(a),r=o.dataset,l=null,r&&r.options&&r instanceof Et&&(l={visible:e.isDatasetVisible(a),index:a,fill:Kt(r,a,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],l&&!1!==l.fill&&(l.fill=Xt(i,a,s.propagate))},beforeDraw(e,t,s){const n="beforeDraw"===s.drawTime,i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let t=i.length-1;t>=0;--t){const s=i[t].$filler;s&&(s.line.updateControlPoints(o,s.axis),n&&s.fill&&ts(e.ctx,s,o))}},beforeDatasetsDraw(e,t,s){if("beforeDatasetsDraw"!==s.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t){const s=n[t].$filler;$t(s)&&ts(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;$t(n)&&"beforeDatasetDraw"===s.drawTime&&ts(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rs=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}};class ls extends Ie{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=(0,n.Q)(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,s)=>e.sort(t,s,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,i=(0,n.a0)(s.font),o=i.size,a=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=rs(s,o);let c,d;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(a,o,r,l)+10):(d=this.maxHeight,c=this._fitCols(a,i,r,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,n){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+a;let d=e;i.textAlign="left",i.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const m=s+t/2+i.measureText(e.text).width;(0===p||l[l.length-1]+m+2*a>o)&&(d+=c,l[l.length-(p>0?0:1)]=0,h+=c,u++),r[p]={left:0,top:h,row:u,width:m,height:n},l[l.length-1]+=m+a})),d}_fitCols(e,t,s,n){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e;let d=a,u=0,h=0,p=0,m=0;return this.legendItems.forEach(((e,o)=>{const{itemWidth:g,itemHeight:f}=function(e,t,s,n,i){const o=function(e,t,s,n){let i=e.text;i&&"string"!=typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+s.size/2+n.measureText(i).width}(n,e,t,s),a=function(e,t,s){let n=e;"string"!=typeof t.text&&(n=cs(t,s));return n}(i,n,t.lineHeight);return{itemWidth:o,itemHeight:a}}(s,t,i,e,n);o>0&&h+f+2*a>c&&(d+=u+a,l.push({width:u,height:h}),p+=u+a,m++,u=h=0),r[o]={left:p,top:h,col:m,width:g,height:f},u=Math.max(u,g),h+=f+a})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:o}}=this,a=(0,n.az)(o,this.left,this.width);if(this.isHorizontal()){let o=0,r=(0,n.a2)(s,this.left+i,this.right-this.lineWidths[o]);for(const l of t)o!==l.row&&(o=l.row,r=(0,n.a2)(s,this.left+i,this.right-this.lineWidths[o])),l.top+=this.top+e+i,l.left=a.leftForLtr(a.x(r),l.width),r+=l.width+i}else{let o=0,r=(0,n.a2)(s,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const l of t)l.col!==o&&(o=l.col,r=(0,n.a2)(s,this.top+e+i,this.bottom-this.columnSizes[o].height)),l.top=r,l.left+=this.left+i,l.left=a.leftForLtr(a.x(l.left),l.width),r+=l.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;(0,n.Y)(e,this),this._draw(),(0,n.$)(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:i}=this,{align:o,labels:a}=e,r=n.d.color,l=(0,n.az)(e.rtl,this.left,this.width),c=(0,n.a0)(a.font),{padding:d}=a,u=c.size,h=u/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:f}=rs(a,u),y=this.isHorizontal(),b=this._computeTitleHeight();p=y?{x:(0,n.a2)(o,this.left+d,this.right-s[0]),y:this.top+d+b,line:0}:{x:this.left+d,y:(0,n.a2)(o,this.top+b+d,this.bottom-t[0].height),line:0},(0,n.aA)(this.ctx,e.textDirection);const x=f+d;this.legendItems.forEach(((S,_)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const v=i.measureText(S.text).width,E=l.textAlign(S.textAlign||(S.textAlign=a.textAlign)),w=m+h+v;let C=p.x,I=p.y;l.setWidth(this.width),y?_>0&&C+w+d>this.right&&(I=p.y+=x,p.line++,C=p.x=(0,n.a2)(o,this.left+d,this.right-s[p.line])):_>0&&I+x>this.bottom&&(C=p.x=C+t[p.line].width+d,p.line++,I=p.y=(0,n.a2)(o,this.top+b+d,this.bottom-t[p.line].height));if(function(e,t,s){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const o=(0,n.v)(s.lineWidth,1);if(i.fillStyle=(0,n.v)(s.fillStyle,r),i.lineCap=(0,n.v)(s.lineCap,"butt"),i.lineDashOffset=(0,n.v)(s.lineDashOffset,0),i.lineJoin=(0,n.v)(s.lineJoin,"miter"),i.lineWidth=o,i.strokeStyle=(0,n.v)(s.strokeStyle,r),i.setLineDash((0,n.v)(s.lineDash,[])),a.usePointStyle){const r={radius:g*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:o},c=l.xPlus(e,m/2),d=t+h;(0,n.aD)(i,r,c,d,a.pointStyleWidth&&m)}else{const a=t+Math.max((u-g)/2,0),r=l.leftForLtr(e,m),c=(0,n.aw)(s.borderRadius);i.beginPath(),Object.values(c).some((e=>0!==e))?(0,n.au)(i,{x:r,y:a,w:m,h:g,radius:c}):i.rect(r,a,m,g),i.fill(),0!==o&&i.stroke()}i.restore()}(l.x(C),I,S),C=(0,n.aB)(E,C+m+h,y?C+w:this.right,e.rtl),function(e,t,s){(0,n.Z)(i,s.text,e,t+f/2,c,{strikethrough:s.hidden,textAlign:l.textAlign(s.textAlign)})}(l.x(C),I,S),y)p.x+=w+d;else if("string"!=typeof S.text){const e=c.lineHeight;p.y+=cs(S,e)}else p.y+=x})),(0,n.aC)(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=(0,n.a0)(t.font),i=(0,n.E)(t.padding);if(!t.display)return;const o=(0,n.az)(e.rtl,this.left,this.width),a=this.ctx,r=t.position,l=s.size/2,c=i.top+l;let d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,u=(0,n.a2)(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);d=c+(0,n.a2)(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const p=(0,n.a2)(r,u,u+h);a.textAlign=o.textAlign((0,n.a1)(r)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=s.string,(0,n.Z)(a,t.text,p,d,s)}_computeTitleHeight(){const e=this.options.title,t=(0,n.a0)(e.font),s=(0,n.E)(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,i,o;if((0,n.aj)(e,this.left,this.right)&&(0,n.aj)(t,this.top,this.bottom))for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],(0,n.aj)(e,i.left,i.left+i.width)&&(0,n.aj)(t,i.top,i.top+i.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,r=(o=s,null!==(i=a)&&null!==o&&i.datasetIndex===o.datasetIndex&&i.index===o.index);a&&!r&&(0,n.Q)(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!r&&(0,n.Q)(t.onHover,[e,s,this],this)}else s&&(0,n.Q)(t.onClick,[e,s,this],this);var i,o}}function cs(e,t){return t*(e.text?e.text.length+.5:0)}var ds={id:"legend",_element:ls,start(e,t,s){const n=e.legend=new ls({ctx:e.ctx,options:s,chart:e});le.configure(e,n,s),le.addBox(e,n)},stop(e){le.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;le.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:o,color:a,useBorderRadius:r,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const c=e.controller.getStyle(s?0:void 0),d=(0,n.E)(c.borderWidth);return{text:t[e.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:r&&(l||c.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class us extends Ie{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=(0,n.b)(s.text)?s.text.length:1;this._padding=(0,n.E)(s.padding);const o=i*(0,n.a0)(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:i,right:o,options:a}=this,r=a.align;let l,c,d,u=0;return this.isHorizontal()?(c=(0,n.a2)(r,s,o),d=t+e,l=o-s):("left"===a.position?(c=s+e,d=(0,n.a2)(r,i,t),u=-.5*n.P):(c=o-e,d=(0,n.a2)(r,t,i),u=.5*n.P),l=i-t),{titleX:c,titleY:d,maxWidth:l,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=(0,n.a0)(t.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:r,rotation:l}=this._drawArgs(i);(0,n.Z)(e,t.text,0,0,s,{color:t.color,maxWidth:r,rotation:l,textAlign:(0,n.a1)(t.align),textBaseline:"middle",translation:[o,a]})}}var hs={id:"title",_element:us,start(e,t,s){!function(e,t){const s=new us({ctx:e.ctx,options:t,chart:e});le.configure(e,s,t),le.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;le.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;le.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ps=new WeakMap;var ms={id:"subtitle",start(e,t,s){const n=new us({ctx:e.ctx,options:s,chart:e});le.configure(e,n,s),le.addBox(e,n),ps.set(e,n)},stop(e){le.removeBox(e,ps.get(e)),ps.delete(e)},beforeUpdate(e,t,s){const n=ps.get(e);le.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gs={average(e){if(!e.length)return!1;let t,s,n=0,i=0,o=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();n+=e.x,i+=e.y,++o}}return{x:n/o,y:i/o}},nearest(e,t){if(!e.length)return!1;let s,i,o,a=t.x,r=t.y,l=Number.POSITIVE_INFINITY;for(s=0,i=e.length;s<i;++s){const i=e[s].element;if(i&&i.hasValue()){const e=i.getCenterPoint(),s=(0,n.aE)(t,e);s<l&&(l=s,o=i)}}if(o){const e=o.tooltipPosition();a=e.x,r=e.y}return{x:a,y:r}}};function fs(e,t){return t&&((0,n.b)(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ys(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function bs(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:a,value:r}=o.getLabelAndValue(i);return{chart:e,label:a,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:r,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function xs(e,t){const s=e.chart.ctx,{body:i,footer:o,title:a}=e,{boxWidth:r,boxHeight:l}=t,c=(0,n.a0)(t.bodyFont),d=(0,n.a0)(t.titleFont),u=(0,n.a0)(t.footerFont),h=a.length,p=o.length,m=i.length,g=(0,n.E)(t.padding);let f=g.height,y=0,b=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(f+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){f+=m*(t.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(b-m)*c.lineHeight+(b-1)*t.bodySpacing}p&&(f+=t.footerMarginTop+p*u.lineHeight+(p-1)*t.footerSpacing);let x=0;const S=function(e){y=Math.max(y,s.measureText(e).width+x)};return s.save(),s.font=d.string,(0,n.F)(e.title,S),s.font=c.string,(0,n.F)(e.beforeBody.concat(e.afterBody),S),x=t.displayColors?r+2+t.boxPadding:0,(0,n.F)(i,(e=>{(0,n.F)(e.before,S),(0,n.F)(e.lines,S),(0,n.F)(e.after,S)})),x=0,s.font=u.string,(0,n.F)(e.footer,S),s.restore(),y+=g.width,{width:y,height:f}}function Ss(e,t,s,n){const{x:i,width:o}=s,{width:a,chartArea:{left:r,right:l}}=e;let c="center";return"center"===n?c=i<=(r+l)/2?"left":"right":i<=o/2?c="left":i>=a-o/2&&(c="right"),function(e,t,s,n){const{x:i,width:o}=n,a=s.caretSize+s.caretPadding;return"left"===e&&i+o+a>t.width||"right"===e&&i-o-a<0||void 0}(c,e,t,s)&&(c="center"),c}function _s(e,t,s){const n=s.yAlign||t.yAlign||function(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||Ss(e,t,s,n),yAlign:n}}function vs(e,t,s,i){const{caretSize:o,caretPadding:a,cornerRadius:r}=e,{xAlign:l,yAlign:c}=s,d=o+a,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:m}=(0,n.aw)(r);let g=function(e,t){let{x:s,width:n}=e;return"right"===t?s-=n:"center"===t&&(s-=n/2),s}(t,l);const f=function(e,t,s){let{y:n,height:i}=e;return"top"===t?n+=s:n-="bottom"===t?i+s:i/2,n}(t,c,d);return"center"===c?"left"===l?g+=d:"right"===l&&(g-=d):"left"===l?g-=Math.max(u,p)+o:"right"===l&&(g+=Math.max(h,m)+o),{x:(0,n.S)(g,0,i.width-t.width),y:(0,n.S)(f,0,i.height-t.height)}}function Es(e,t,s){const i=(0,n.E)(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function ws(e){return fs([],ys(e))}function Cs(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Is={beforeTitle:n.aF,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:n.aF,beforeBody:n.aF,beforeLabel:n.aF,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return(0,n.k)(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:n.aF,afterBody:n.aF,beforeFooter:n.aF,footer:n.aF,afterFooter:n.aF};function Ts(e,t,s,n){const i=e[t].call(s,n);return void 0===i?Is[t].call(s,n):i}class As extends Ie{static positioners=gs;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&t.options.animation&&s.animations,i=new d(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,(0,n.j)(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,n=Ts(s,"beforeTitle",this,e),i=Ts(s,"title",this,e),o=Ts(s,"afterTitle",this,e);let a=[];return a=fs(a,ys(n)),a=fs(a,ys(i)),a=fs(a,ys(o)),a}getBeforeBody(e,t){return ws(Ts(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,i=[];return(0,n.F)(e,(e=>{const t={before:[],lines:[],after:[]},n=Cs(s,e);fs(t.before,ys(Ts(n,"beforeLabel",this,e))),fs(t.lines,Ts(n,"label",this,e)),fs(t.after,ys(Ts(n,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return ws(Ts(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,n=Ts(s,"beforeFooter",this,e),i=Ts(s,"footer",this,e),o=Ts(s,"afterFooter",this,e);let a=[];return a=fs(a,ys(n)),a=fs(a,ys(i)),a=fs(a,ys(o)),a}_createItems(e){const t=this._active,s=this.chart.data,i=[],o=[],a=[];let r,l,c=[];for(r=0,l=t.length;r<l;++r)c.push(bs(this.chart,t[r]));return e.filter&&(c=c.filter(((t,n,i)=>e.filter(t,n,i,s)))),e.itemSort&&(c=c.sort(((t,n)=>e.itemSort(t,n,s)))),(0,n.F)(c,(t=>{const s=Cs(e.callbacks,t);i.push(Ts(s,"labelColor",this,t)),o.push(Ts(s,"labelPointStyle",this,t)),a.push(Ts(s,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,t){const s=this.options.setContext(this.getContext()),n=this._active;let i,o=[];if(n.length){const e=gs[s.position].call(this,n,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const t=this._size=xs(this,s),a=Object.assign({},e,t),r=_s(this.chart,s,a),l=vs(s,a,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,n){const i=this.getCaretPosition(e,s,n);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,s){const{xAlign:i,yAlign:o}=this,{caretSize:a,cornerRadius:r}=s,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:u}=(0,n.aw)(r),{x:h,y:p}=e,{width:m,height:g}=t;let f,y,b,x,S,_;return"center"===o?(S=p+g/2,"left"===i?(f=h,y=f-a,x=S+a,_=S-a):(f=h+m,y=f+a,x=S-a,_=S+a),b=f):(y="left"===i?h+Math.max(l,d)+a:"right"===i?h+m-Math.max(c,u)-a:this.caretX,"top"===o?(x=p,S=x-a,f=y-a,b=y+a):(x=p+g,S=x+a,f=y+a,b=y-a),_=x),{x1:f,x2:y,x3:b,y1:x,y2:S,y3:_}}drawTitle(e,t,s){const i=this.title,o=i.length;let a,r,l;if(o){const c=(0,n.az)(s.rtl,this.x,this.width);for(e.x=Es(this,s.titleAlign,s),t.textAlign=c.textAlign(s.titleAlign),t.textBaseline="middle",a=(0,n.a0)(s.titleFont),r=s.titleSpacing,t.fillStyle=s.titleColor,t.font=a.string,l=0;l<o;++l)t.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r,l+1===o&&(e.y+=s.titleMarginBottom-r)}}_drawColorBox(e,t,s,i,o){const a=this.labelColors[s],r=this.labelPointStyles[s],{boxHeight:l,boxWidth:c,boxPadding:d}=o,u=(0,n.a0)(o.bodyFont),h=Es(this,"left",o),p=i.x(h),m=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+m;if(o.usePointStyle){const t={radius:Math.min(c,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},s=i.leftForLtr(p,c)+c/2,d=g+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,(0,n.at)(e,t,s,d),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,(0,n.at)(e,t,s,d)}else{e.lineWidth=(0,n.i)(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=i.leftForLtr(p,c-d),s=i.leftForLtr(i.xPlus(p,1),c-d-2),r=(0,n.aw)(a.borderRadius);Object.values(r).some((e=>0!==e))?(e.beginPath(),e.fillStyle=o.multiKeyBackground,(0,n.au)(e,{x:t,y:g,w:c,h:l,radius:r}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),(0,n.au)(e,{x:s,y:g+1,w:c-2,h:l-2,radius:r}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(t,g,c,l),e.strokeRect(t,g,c,l),e.fillStyle=a.backgroundColor,e.fillRect(s,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:i}=this,{bodySpacing:o,bodyAlign:a,displayColors:r,boxHeight:l,boxWidth:c,boxPadding:d}=s,u=(0,n.a0)(s.bodyFont);let h=u.lineHeight,p=0;const m=(0,n.az)(s.rtl,this.x,this.width),g=function(s){t.fillText(s,m.x(e.x+p),e.y+h/2),e.y+=h+o},f=m.textAlign(a);let y,b,x,S,_,v,E;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=Es(this,f,s),t.fillStyle=s.bodyColor,(0,n.F)(this.beforeBody,g),p=r&&"right"!==f?"center"===a?c/2+d:c+2+d:0,S=0,v=i.length;S<v;++S){for(y=i[S],b=this.labelTextColors[S],t.fillStyle=b,(0,n.F)(y.before,g),x=y.lines,r&&x.length&&(this._drawColorBox(t,e,S,m,s),h=Math.max(u.lineHeight,l)),_=0,E=x.length;_<E;++_)g(x[_]),h=u.lineHeight;(0,n.F)(y.after,g)}p=0,h=u.lineHeight,(0,n.F)(this.afterBody,g),e.y-=o}drawFooter(e,t,s){const i=this.footer,o=i.length;let a,r;if(o){const l=(0,n.az)(s.rtl,this.x,this.width);for(e.x=Es(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",a=(0,n.a0)(s.footerFont),t.fillStyle=s.footerColor,t.font=a.string,r=0;r<o;++r)t.fillText(i[r],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,t,s,i){const{xAlign:o,yAlign:a}=this,{x:r,y:l}=e,{width:c,height:d}=s,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:m}=(0,n.aw)(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(r+u,l),"top"===a&&this.drawCaret(e,t,s,i),t.lineTo(r+c-h,l),t.quadraticCurveTo(r+c,l,r+c,l+h),"center"===a&&"right"===o&&this.drawCaret(e,t,s,i),t.lineTo(r+c,l+d-m),t.quadraticCurveTo(r+c,l+d,r+c-m,l+d),"bottom"===a&&this.drawCaret(e,t,s,i),t.lineTo(r+p,l+d),t.quadraticCurveTo(r,l+d,r,l+d-p),"center"===a&&"left"===o&&this.drawCaret(e,t,s,i),t.lineTo(r,l+u),t.quadraticCurveTo(r,l,r+u,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,n=s&&s.x,i=s&&s.y;if(n||i){const s=gs[e.position].call(this,this._active,this._eventPosition);if(!s)return;const o=this._size=xs(this,e),a=Object.assign({},s,this._size),r=_s(t,e,a),l=vs(e,a,r,t);n._to===l.x&&i._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=o.width,this.height=o.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=(0,n.E)(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,i,t),(0,n.aA)(e,t.textDirection),o.y+=a.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),(0,n.aC)(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,i=e.map((({datasetIndex:e,index:t})=>{const s=this.chart.getDatasetMeta(e);if(!s)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:s.data[t],index:t}})),o=!(0,n.ah)(s,i),a=this._positionChanged(i,t);(o||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],a=this._getActiveElements(e,o,t,s),r=this._positionChanged(a,e),l=t||!(0,n.ah)(a,o)||r;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,n){const i=this.options;if("mouseout"===e.type)return[];if(!n)return t;const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:n,options:i}=this,o=gs[i.position].call(this,e,t);return!1!==o&&(s!==o.x||n!==o.y)}}var Ps={id:"tooltip",_element:As,positioners:gs,afterInit(e,t,s){s&&(e.tooltip=new As({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Is},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ks=Object.freeze({__proto__:null,Colors:Bt,Decimation:Ut,Filler:as,Legend:ds,SubTitle:ms,Title:hs,Tooltip:Ps});function js(e,t,s,n){const i=e.indexOf(t);if(-1===i)return((e,t,s,n)=>("string"==typeof t?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,n);return i!==e.lastIndexOf(t)?s:i}function Rs(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Os extends Le{static id="category";static defaults={ticks:{callback:Rs}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:n}of t)e[s]===n&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if((0,n.k)(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:(0,n.S)(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:js(s,e,(0,n.v)(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,n=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let s=e;s<=t;s++)n.push({value:s});return n}getLabelForValue(e){return Rs.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Ms(e,t,{horizontal:s,minRotation:i}){const o=(0,n.t)(i),a=(s?Math.sin(o):Math.cos(o))||.001,r=.75*t*(""+e).length;return Math.min(t/a,r)}class Ls extends Le{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return(0,n.k)(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const a=e=>i=t?i:e,r=e=>o=s?o:e;if(e){const e=(0,n.s)(i),t=(0,n.s)(o);e<0&&t<0?r(0):e>0&&t>0&&a(0)}if(i===o){let t=0===o?1:Math.abs(.05*o);r(o+t),e||a(i-t)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(i.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i=function(e,t){const s=[],{bounds:i,step:o,min:a,max:r,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:h}=e,p=o||1,m=d-1,{min:g,max:f}=t,y=!(0,n.k)(a),b=!(0,n.k)(r),x=!(0,n.k)(c),S=(f-g)/(u+1);let _,v,E,w,C=(0,n.aH)((f-g)/m/p)*p;if(C<1e-14&&!y&&!b)return[{value:g},{value:f}];w=Math.ceil(f/C)-Math.floor(g/C),w>m&&(C=(0,n.aH)(w*C/m/p)*p),(0,n.k)(l)||(_=Math.pow(10,l),C=Math.ceil(C*_)/_),"ticks"===i?(v=Math.floor(g/C)*C,E=Math.ceil(f/C)*C):(v=g,E=f),y&&b&&o&&(0,n.aI)((r-a)/o,C/1e3)?(w=Math.round(Math.min((r-a)/C,d)),C=(r-a)/w,v=a,E=r):x?(v=y?a:v,E=b?r:E,w=c-1,C=(E-v)/w):(w=(E-v)/C,w=(0,n.aJ)(w,Math.round(w),C/1e3)?Math.round(w):Math.ceil(w));const I=Math.max((0,n.aK)(C),(0,n.aK)(v));_=Math.pow(10,(0,n.k)(l)?I:l),v=Math.round(v*_)/_,E=Math.round(E*_)/_;let T=0;for(y&&(h&&v!==a?(s.push({value:a}),v<a&&T++,(0,n.aJ)(Math.round((v+T*C)*_)/_,a,Ms(a,S,e))&&T++):v<a&&T++);T<w;++T)s.push({value:Math.round((v+T*C)*_)/_});return b&&h&&E!==r?s.length&&(0,n.aJ)(s[s.length-1].value,r,Ms(r,S,e))?s[s.length-1].value=r:s.push({value:r}):b&&E!==r||s.push({value:E}),s}({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&(0,n.aG)(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const n=(s-t)/Math.max(e.length-1,1)/2;t-=n,s+=n}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return(0,n.o)(e,this.chart.options.locale,this.options.ticks.format)}}class Ds extends Ls{static id="linear";static defaults={ticks:{callback:n.aL.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,n.g)(e)?e:0,this.max=(0,n.g)(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=(0,n.t)(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ns=e=>Math.floor((0,n.aM)(e)),Fs=(e,t)=>Math.pow(10,Ns(e)+t);function zs(e){return 1===e/Math.pow(10,Ns(e))}function Bs(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function Vs(e,{min:t,max:s}){t=(0,n.O)(e.min,t);const i=[],o=Ns(t);let a=function(e,t){let s=Ns(t-e);for(;Bs(e,t,s)>10;)s++;for(;Bs(e,t,s)<10;)s--;return Math.min(s,Ns(e))}(t,s),r=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=o>a?Math.pow(10,o):0,d=Math.round((t-c)*r)/r,u=Math.floor((t-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,a)),p=(0,n.O)(e.min,Math.round((c+u+h*Math.pow(10,a))*r)/r);for(;p<s;)i.push({value:p,major:zs(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,r=a>=0?1:r),p=Math.round((c+u+h*Math.pow(10,a))*r)/r;const m=(0,n.O)(e.max,p);return i.push({value:m,major:zs(m),significand:h}),i}class Hs extends Le{static id="logarithmic";static defaults={ticks:{callback:n.aL.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Ls.prototype.parse.apply(this,[e,t]);if(0!==s)return(0,n.g)(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,n.g)(e)?Math.max(0,e):null,this.max=(0,n.g)(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,n.g)(this._userMin)&&(this.min=e===Fs(this.min,0)?Fs(this.min,-1):Fs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,n=this.max;const i=t=>s=e?s:t,o=e=>n=t?n:e;s===n&&(s<=0?(i(1),o(10)):(i(Fs(s,-1)),o(Fs(n,1)))),s<=0&&i(Fs(n,-1)),n<=0&&o(Fs(s,1)),this.min=s,this.max=n}buildTicks(){const e=this.options,t=Vs({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&(0,n.aG)(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":(0,n.o)(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=(0,n.aM)(e),this._valueRange=(0,n.aM)(this.max)-(0,n.aM)(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:((0,n.aM)(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Us(e){const t=e.ticks;if(t.display&&e.display){const e=(0,n.E)(t.backdropPadding);return(0,n.v)(t.font&&t.font.size,n.d.font.size)+e.height}return 0}function Ws(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function qs(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),i=[],o=[],a=e._pointLabels.length,r=e.options.pointLabels,l=r.centerPointLabels?n.P/a:0;for(let h=0;h<a;h++){const a=r.setContext(e.getPointLabelContext(h));o[h]=a.padding;const p=e.getPointPosition(h,e.drawingArea+o[h],l),m=(0,n.a0)(a.font),g=(c=e.ctx,d=m,u=e._pointLabels[h],u=(0,n.b)(u)?u:[u],{w:(0,n.aN)(c,d.string,u),h:u.length*d.lineHeight});i[h]=g;const f=(0,n.ay)(e.getIndexAngle(h)+l),y=Math.round((0,n.U)(f));Gs(s,t,f,Ws(y,p.x,g.w,0,180),Ws(y,p.y,g.h,90,270))}var c,d,u;e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=function(e,t,s){const i=[],o=e._pointLabels.length,a=e.options,r=Us(a)/2,l=e.drawingArea,c=a.pointLabels.centerPointLabels?n.P/o:0;for(let a=0;a<o;a++){const o=e.getPointPosition(a,l+r+s[a],c),d=Math.round((0,n.U)((0,n.ay)(o.angle+n.H))),u=t[a],h=Xs(o.y,u.h,d),p=Ys(d),m=$s(o.x,u.w,p);i.push({x:o.x,y:h,textAlign:p,left:m,top:h,right:m+u.w,bottom:h+u.h})}return i}(e,i,o)}function Gs(e,t,s,n,i){const o=Math.abs(Math.sin(s)),a=Math.abs(Math.cos(s));let r=0,l=0;n.start<t.l?(r=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-r)):n.end>t.r&&(r=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+r)),i.start<t.t?(l=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function Ys(e){return 0===e||180===e?"center":e<180?"left":"right"}function $s(e,t,s){return"right"===s?e-=t:"center"===s&&(e-=t/2),e}function Xs(e,t,s){return 90===s||270===s?e-=t/2:(s>270||s<90)&&(e-=t),e}function Ks(e,t,s,i){const{ctx:o}=e;if(s)o.arc(e.xCenter,e.yCenter,t,0,n.T);else{let s=e.getPointPosition(0,t);o.moveTo(s.x,s.y);for(let n=1;n<i;n++)s=e.getPointPosition(n,t),o.lineTo(s.x,s.y)}}class Qs extends Ls{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:n.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=(0,n.E)(Us(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=(0,n.g)(e)&&!isNaN(e)?e:0,this.max=(0,n.g)(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Us(this.options))}generateTickLabels(e){Ls.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const s=(0,n.Q)(this.options.pointLabels.callback,[e,t],this);return s||0===s?s:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?qs(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,n))}getIndexAngle(e){const t=n.T/(this._pointLabels.length||1),s=this.options.startAngle||0;return(0,n.ay)(e*t+(0,n.t)(s))}getDistanceFromCenterForValue(e){if((0,n.k)(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if((0,n.k)(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return function(e,t,s){return(0,n.j)(e,{label:s,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}getPointPosition(e,t,s=0){const i=this.getIndexAngle(e)-n.H+s;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:n,bottom:i}=this._pointLabelItems[e];return{left:t,top:s,right:n,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Ks(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:i,border:o}=t,a=this._pointLabels.length;let r,l,c;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:i}}=e;for(let o=t-1;o>=0;o--){const t=i.setContext(e.getPointLabelContext(o)),a=(0,n.a0)(t.font),{x:r,y:l,textAlign:c,left:d,top:u,right:h,bottom:p}=e._pointLabelItems[o],{backdropColor:m}=t;if(!(0,n.k)(m)){const e=(0,n.aw)(t.borderRadius),i=(0,n.E)(t.backdropPadding);s.fillStyle=m;const o=d-i.left,a=u-i.top,r=h-d+i.width,l=p-u+i.height;Object.values(e).some((e=>0!==e))?(s.beginPath(),(0,n.au)(s,{x:o,y:a,w:r,h:l,radius:e}),s.fill()):s.fillRect(o,a,r,l)}(0,n.Z)(s,e._pointLabels[o],r,l+a.lineHeight/2,a,{color:t.color,textAlign:c,textBaseline:"middle"})}}(this,a),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t){l=this.getDistanceFromCenterForValue(e.value);const s=this.getContext(t),n=i.setContext(s),r=o.setContext(s);!function(e,t,s,n,i){const o=e.ctx,a=t.circular,{color:r,lineWidth:l}=t;!a&&!n||!r||!l||s<0||(o.save(),o.strokeStyle=r,o.lineWidth=l,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),Ks(e,s,a,n),o.closePath(),o.stroke(),o.restore())}(this,n,l,a,r)}})),s.display){for(e.save(),r=a-1;r>=0;r--){const n=s.setContext(this.getPointLabelContext(r)),{color:i,lineWidth:o}=n;o&&i&&(e.lineWidth=o,e.strokeStyle=i,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(r,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let o,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,r)=>{if(0===r&&!t.reverse)return;const l=s.setContext(this.getContext(r)),c=(0,n.a0)(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[r].value),l.showLabelBackdrop){e.font=c.string,a=e.measureText(i.label).width,e.fillStyle=l.backdropColor;const t=(0,n.E)(l.backdropPadding);e.fillRect(-a/2-t.left,-o-c.size/2-t.top,a+t.width,c.size+t.height)}(0,n.Z)(e,i.label,0,-o,c,{color:l.color})})),e.restore()}drawTitle(){}}const Zs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Js=Object.keys(Zs);function en(e,t){return e-t}function tn(e,t){if((0,n.k)(t))return null;const s=e._adapter,{parser:i,round:o,isoWeekday:a}=e._parseOpts;let r=t;return"function"==typeof i&&(r=i(r)),(0,n.g)(r)||(r="string"==typeof i?s.parse(r,i):s.parse(r)),null===r?null:(o&&(r="week"!==o||!(0,n.x)(a)&&!0!==a?s.startOf(r,o):s.startOf(r,"isoWeek",a)),+r)}function sn(e,t,s,n){const i=Js.length;for(let o=Js.indexOf(e);o<i-1;++o){const e=Zs[Js[o]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(i*e.size))<=n)return Js[o]}return Js[i-1]}function nn(e,t,s){if(s){if(s.length){const{lo:i,hi:o}=(0,n.aP)(s,t);e[s[i]>=t?s[i]:s[o]]=!0}}else e[t]=!0}function on(e,t,s){const n=[],i={},o=t.length;let a,r;for(a=0;a<o;++a)r=t[a],i[r]=a,n.push({value:r,major:!1});return 0!==o&&s?function(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),a=t[t.length-1].value;let r,l;for(r=o;r<=a;r=+i.add(r,1,n))l=s[r],l>=0&&(t[l].major=!0);return t}(e,n,i,s):n}class an extends Le{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),i=this._adapter=new H._date(e.adapters.date);i.init(t),(0,n.ab)(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:tn(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:i,max:o,minDefined:a,maxDefined:r}=this.getUserBounds();function l(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),r||isNaN(e.max)||(o=Math.max(o,e.max))}a&&r||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),i=(0,n.g)(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),o=(0,n.g)(o)&&!isNaN(o)?o:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,i="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,a=this.max,r=(0,n.aO)(i,o,a);return this._unit=t.unit||(s.autoSkip?sn(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):function(e,t,s,n,i){for(let o=Js.length-1;o>=Js.indexOf(s);o--){const s=Js[o];if(Zs[s].common&&e._adapter.diff(i,n,s)>=t-1)return s}return Js[s?Js.indexOf(s):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=Js.indexOf(e)+1,s=Js.length;t<s;++t)if(Zs[Js[t]].common)return Js[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&r.reverse(),on(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,s,i=0,o=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,s=this.getDecimalForValue(e[e.length-1]),o=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=(0,n.S)(i,0,a),o=(0,n.S)(o,0,a),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const e=this._adapter,t=this.min,s=this.max,i=this.options,o=i.time,a=o.unit||sn(o.minUnit,t,s,this._getLabelCapacity(t)),r=(0,n.v)(i.ticks.stepSize,1),l="week"===a&&o.isoWeekday,c=(0,n.x)(l)||!0===l,d={};let u,h,p=t;if(c&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,c?"day":a),e.diff(s,t,a)>1e5*r)throw new Error(t+" and "+s+" are too far apart with stepSize of "+r+" "+a);const m="data"===i.ticks.source&&this.getDataTimestamps();for(u=p,h=0;u<s;u=+e.add(u,r,a),h++)nn(d,u,m);return u!==s&&"ticks"!==i.bounds&&1!==h||nn(d,u,m),Object.keys(d).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,n=this._unit,i=t||s[n];return this._adapter.format(e,i)}_tickFormatFunction(e,t,s,i){const o=this.options,a=o.ticks.callback;if(a)return(0,n.Q)(a,[e,t,s],this);const r=o.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&r[l],u=c&&r[c],h=s[t],p=c&&u&&h&&h.major;return this._adapter.format(e,i||(p?u:d))}generateTickLabels(e){let t,s,n;for(t=0,s=e.length;t<s;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,i=(0,n.t)(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),a=Math.sin(i),r=this._resolveTickFontOptions(0).size;return{w:s*o+r*a,h:s*a+r*o}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,n=s[t.unit]||s.millisecond,i=this._tickFormatFunction(e,0,on(this,[e],this._majorUnit),n),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)s=s.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const n=this.getLabels();for(t=0,s=n.length;t<s;++t)e.push(tn(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return(0,n._)(e.sort(en))}}function rn(e,t,s){let i,o,a,r,l=0,c=e.length-1;s?(t>=e[l].pos&&t<=e[c].pos&&({lo:l,hi:c}=(0,n.B)(e,"pos",t)),({pos:i,time:a}=e[l]),({pos:o,time:r}=e[c])):(t>=e[l].time&&t<=e[c].time&&({lo:l,hi:c}=(0,n.B)(e,"time",t)),({time:i,pos:a}=e[l]),({time:o,pos:r}=e[c]));const d=o-i;return d?a+(r-a)*(t-i)/d:a}class ln extends an{static id="timeseries";static defaults=an.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=rn(t,this.min),this._tableRange=rn(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,n=[],i=[];let o,a,r,l,c;for(o=0,a=e.length;o<a;++o)l=e[o],l>=t&&l<=s&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,a=n.length;o<a;++o)c=n[o+1],r=n[o-1],l=n[o],Math.round((c+r)/2)!==l&&i.push({time:l,pos:o/(a-1)});return i}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=t.length&&s.length?this.normalize(t.concat(s)):t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(rn(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return rn(this._table,s*this._tableRange+this._minPos,!0)}}var cn=Object.freeze({__proto__:null,CategoryScale:Os,LinearScale:Ds,LogarithmicScale:Hs,RadialLinearScale:Qs,TimeScale:an,TimeSeriesScale:ln});const dn=[z,Ot,ks,cn]},"./node_modules/chart.js/dist/chunks/helpers.segment.js":function(e,t,s){s.r(t),s.d(t,{$:function(){return Qe},A:function(){return le},B:function(){return re},C:function(){return Xe},D:function(){return Z},E:function(){return dt},F:function(){return f},G:function(){return qt},H:function(){return F},I:function(){return Nt},J:function(){return $t},K:function(){return Yt},L:function(){return fe},M:function(){return Dt},N:function(){return q},O:function(){return u},P:function(){return O},Q:function(){return g},R:function(){return pt},S:function(){return ne},T:function(){return M},U:function(){return K},V:function(){return Ue},W:function(){return ie},X:function(){return qe},Y:function(){return Ke},Z:function(){return et},_:function(){return pe},a:function(){return ht},a$:function(){return me},a0:function(){return ut},a1:function(){return be},a2:function(){return xe},a3:function(){return De},a4:function(){return _},a5:function(){return A},a6:function(){return Ne},a7:function(){return k},a8:function(){return ft},a9:function(){return gt},aA:function(){return Jt},aB:function(){return Se},aC:function(){return es},aD:function(){return $e},aE:function(){return J},aF:function(){return o},aG:function(){return $},aH:function(){return W},aI:function(){return Y},aJ:function(){return U},aK:function(){return Q},aL:function(){return Le},aM:function(){return V},aN:function(){return We},aO:function(){return ce},aP:function(){return ae},aQ:function(){return Te},aR:function(){return Pe},aS:function(){return b},aT:function(){return S},aU:function(){return E},aV:function(){return w},aW:function(){return I},aX:function(){return He},aY:function(){return Rt},aZ:function(){return Ot},a_:function(){return Bt},aa:function(){return yt},ab:function(){return v},ac:function(){return a},ad:function(){return ye},ae:function(){return Gt},af:function(){return Ge},ag:function(){return j},ah:function(){return y},ai:function(){return R},aj:function(){return oe},ak:function(){return rt},al:function(){return Lt},am:function(){return os},an:function(){return is},ao:function(){return Kt},ap:function(){return Qt},aq:function(){return Xt},ar:function(){return Ze},as:function(){return Je},at:function(){return Ye},au:function(){return nt},av:function(){return lt},aw:function(){return ct},ax:function(){return ns},ay:function(){return te},az:function(){return Zt},b:function(){return l},b0:function(){return at},b1:function(){return L},b2:function(){return D},b3:function(){return N},b4:function(){return z},b5:function(){return B},b6:function(){return ee},c:function(){return Ae},d:function(){return Ve},e:function(){return Ie},f:function(){return T},g:function(){return d},h:function(){return P},i:function(){return c},j:function(){return mt},k:function(){return r},l:function(){return ue},m:function(){return p},n:function(){return m},o:function(){return Oe},p:function(){return se},q:function(){return _e},r:function(){return ge},s:function(){return H},t:function(){return X},u:function(){return he},v:function(){return h},w:function(){return ve},x:function(){return G},y:function(){return At},z:function(){return Ut}});var n=s("./node_modules/@kurkle/color/dist/color.esm.js"),i=s("../../node_modules/console-browserify/index.js");function o(){}const a=(()=>{let e=0;return()=>e++})();function r(e){return null==e}function l(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function c(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function d(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function u(e,t){return d(e)?e:t}function h(e,t){return void 0===e?t:e}const p=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,m=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function g(e,t,s){if(e&&"function"==typeof e.call)return e.apply(s,t)}function f(e,t,s,n){let i,o,a;if(l(e))if(o=e.length,n)for(i=o-1;i>=0;i--)t.call(s,e[i],i);else for(i=0;i<o;i++)t.call(s,e[i],i);else if(c(e))for(a=Object.keys(e),o=a.length,i=0;i<o;i++)t.call(s,e[a[i]],a[i])}function y(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function b(e){if(l(e))return e.map(b);if(c(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=b(e[s[i]]);return t}return e}function x(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function S(e,t,s,n){if(!x(e))return;const i=t[e],o=s[e];c(i)&&c(o)?_(i,o,n):t[e]=b(o)}function _(e,t,s){const n=l(t)?t:[t],i=n.length;if(!c(e))return e;const o=(s=s||{}).merger||S;let a;for(let t=0;t<i;++t){if(a=n[t],!c(a))continue;const i=Object.keys(a);for(let t=0,n=i.length;t<n;++t)o(i[t],e,a,s)}return e}function v(e,t){return _(e,t,{merger:E})}function E(e,t,s){if(!x(e))return;const n=t[e],i=s[e];c(n)&&c(i)?v(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=b(i))}function w(e,t,s,n){void 0!==t&&i.warn(e+': "'+s+'" is deprecated. Please use "'+n+'" instead')}const C={"":e=>e,x:e=>e.x,y:e=>e.y};function I(e){const t=e.split("."),s=[];let n="";for(const e of t)n+=e,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function T(e,t){const s=C[t]||(C[t]=function(e){const t=I(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function A(e){return e.charAt(0).toUpperCase()+e.slice(1)}const P=e=>void 0!==e,k=e=>"function"==typeof e,j=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function R(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const O=Math.PI,M=2*O,L=M+O,D=Number.POSITIVE_INFINITY,N=O/180,F=O/2,z=O/4,B=2*O/3,V=Math.log10,H=Math.sign;function U(e,t,s){return Math.abs(e-t)<s}function W(e){const t=Math.round(e);e=U(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(V(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function q(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n==0&&(t.push(n),t.push(e/n));return s===(0|s)&&t.push(s),t.sort(((e,t)=>e-t)).pop(),t}function G(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function $(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function X(e){return e*(O/180)}function K(e){return e*(180/O)}function Q(e){if(!d(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Z(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*O&&(o+=M),{angle:o,distance:i}}function J(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ee(e,t){return(e-t+L)%M-O}function te(e){return(e%M+M)%M}function se(e,t,s,n){const i=te(e),o=te(t),a=te(s),r=te(o-i),l=te(a-i),c=te(i-o),d=te(i-a);return i===o||i===a||n&&o===a||r>l&&c<d}function ne(e,t,s){return Math.max(t,Math.min(s,e))}function ie(e){return ne(e,-32768,32767)}function oe(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function ae(e,t,s){s=s||(s=>e[s]<t);let n,i=e.length-1,o=0;for(;i-o>1;)n=o+i>>1,s(n)?o=n:i=n;return{lo:o,hi:i}}const re=(e,t,s,n)=>ae(e,s,n?n=>{const i=e[n][t];return i<s||i===s&&e[n+1][t]===s}:n=>e[n][t]<s),le=(e,t,s)=>ae(e,s,(n=>e[n][t]>=s));function ce(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const de=["push","pop","shift","splice","unshift"];function ue(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),de.forEach((t=>{const s="_onData"+A(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const i=n.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"==typeof e[s]&&e[s](...t)})),i}})})))}function he(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);-1!==i&&n.splice(i,1),n.length>0||(de.forEach((t=>{delete e[t]})),delete e._chartjs)}function pe(e){const t=new Set;let s,n;for(s=0,n=e.length;s<n;++s)t.add(e[s]);return t.size===n?e:Array.from(t)}function me(e,t,s){return t+" "+e+"px "+s}const ge="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function fe(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,ge.call(window,(()=>{n=!1,e.apply(t,s)})))}}function ye(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const be=e=>"start"===e?"left":"end"===e?"right":"center",xe=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2,Se=(e,t,s,n)=>e===(n?"left":"right")?s:"center"===e?(t+s)/2:t;function _e(e,t,s){const n=t.length;let i=0,o=n;if(e._sorted){const{iScale:a,_parsed:r}=e,l=a.axis,{min:c,max:d,minDefined:u,maxDefined:h}=a.getUserBounds();u&&(i=ne(Math.min(re(r,a.axis,c).lo,s?n:re(t,l,a.getPixelForValue(c)).lo),0,n-1)),o=h?ne(Math.max(re(r,a.axis,d,!0).hi+1,s?0:re(t,l,a.getPixelForValue(d),!0).hi+1),i,n)-i:n-i}return{start:i,count:o}}function ve(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),o}const Ee=e=>0===e||1===e,we=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*M/s),Ce=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*M/s)+1,Ie={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*F),easeOutSine:e=>Math.sin(e*F),easeInOutSine:e=>-.5*(Math.cos(O*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ee(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ee(e)?e:we(e,.075,.3),easeOutElastic:e=>Ee(e)?e:Ce(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ee(e)?e:e<.5?.5*we(2*e,t,.45):.5+.5*Ce(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Ie.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*Ie.easeInBounce(2*e):.5*Ie.easeOutBounce(2*e-1)+.5};function Te(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ae(e){return Te(e)?e:new n.Color(e)}function Pe(e){return Te(e)?e:new n.Color(e).saturate(.5).darken(.1).hexString()}const ke=["x","y","borderWidth","radius","tension"],je=["color","borderColor","backgroundColor"];const Re=new Map;function Oe(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Re.get(s);return n||(n=new Intl.NumberFormat(e,t),Re.set(s,n)),n}(t,s).format(e)}const Me={values:e=>l(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),o=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const a=V(Math.abs(o)),r=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),Oe(e,n,l)},logarithmic(e,t,s){if(0===e)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(V(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?Me.numeric.call(this,e,t,s):""}};var Le={formatters:Me};const De=Object.create(null),Ne=Object.create(null);function Fe(e,t){if(!t)return e;const s=t.split(".");for(let t=0,n=s.length;t<n;++t){const n=s[t];e=e[n]||(e[n]=Object.create(null))}return e}function ze(e,t,s){return"string"==typeof t?_(Fe(e,t),s):_(Fe(e,""),t)}class Be{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Pe(t.backgroundColor),this.hoverBorderColor=(e,t)=>Pe(t.borderColor),this.hoverColor=(e,t)=>Pe(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ze(this,e,t)}get(e){return Fe(this,e)}describe(e,t){return ze(Ne,e,t)}override(e,t){return ze(De,e,t)}route(e,t,s,n){const i=Fe(this,e),o=Fe(this,s),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=o[n];return c(e)?Object.assign({},t,e):h(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Ve=new Be({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:je},numbers:{type:"number",properties:ke}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Le.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function He(e){return!e||r(e.size)||r(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ue(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function We(e,t,s,n){let i=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let a=0;const r=s.length;let c,d,u,h,p;for(c=0;c<r;c++)if(h=s[c],null!=h&&!0!==l(h))a=Ue(e,i,o,a,h);else if(l(h))for(d=0,u=h.length;d<u;d++)p=h[d],null==p||l(p)||(a=Ue(e,i,o,a,p));e.restore();const m=o.length/2;if(m>s.length){for(c=0;c<m;c++)delete i[o[c]];o.splice(0,m)}return a}function qe(e,t,s){const n=e.currentDevicePixelRatio,i=0!==s?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function Ge(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Ye(e,t,s,n){$e(e,t,s,n,null)}function $e(e,t,s,n,i){let o,a,r,l,c,d,u,h;const p=t.pointStyle,m=t.rotation,g=t.radius;let f=(m||0)*N;if(p&&"object"==typeof p&&(o=p.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(s,n),e.rotate(f),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,g,0,0,M):e.arc(s,n,g,0,M),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(s+Math.sin(f)*d,n-Math.cos(f)*g),f+=B,e.lineTo(s+Math.sin(f)*d,n-Math.cos(f)*g),f+=B,e.lineTo(s+Math.sin(f)*d,n-Math.cos(f)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,a=Math.cos(f+z)*l,u=Math.cos(f+z)*(i?i/2-c:l),r=Math.sin(f+z)*l,h=Math.sin(f+z)*(i?i/2-c:l),e.arc(s-u,n-r,c,f-O,f-F),e.arc(s+h,n-a,c,f-F,f),e.arc(s+u,n+r,c,f,f+F),e.arc(s-h,n+a,c,f+F,f+O),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=i?i/2:l,e.rect(s-d,n-l,2*d,2*l);break}f+=z;case"rectRot":u=Math.cos(f)*(i?i/2:g),a=Math.cos(f)*g,r=Math.sin(f)*g,h=Math.sin(f)*(i?i/2:g),e.moveTo(s-u,n-r),e.lineTo(s+h,n-a),e.lineTo(s+u,n+r),e.lineTo(s-h,n+a),e.closePath();break;case"crossRot":f+=z;case"cross":u=Math.cos(f)*(i?i/2:g),a=Math.cos(f)*g,r=Math.sin(f)*g,h=Math.sin(f)*(i?i/2:g),e.moveTo(s-u,n-r),e.lineTo(s+u,n+r),e.moveTo(s+h,n-a),e.lineTo(s-h,n+a);break;case"star":u=Math.cos(f)*(i?i/2:g),a=Math.cos(f)*g,r=Math.sin(f)*g,h=Math.sin(f)*(i?i/2:g),e.moveTo(s-u,n-r),e.lineTo(s+u,n+r),e.moveTo(s+h,n-a),e.lineTo(s-h,n+a),f+=z,u=Math.cos(f)*(i?i/2:g),a=Math.cos(f)*g,r=Math.sin(f)*g,h=Math.sin(f)*(i?i/2:g),e.moveTo(s-u,n-r),e.lineTo(s+u,n+r),e.moveTo(s+h,n-a),e.lineTo(s-h,n+a);break;case"line":a=i?i/2:Math.cos(f)*g,r=Math.sin(f)*g,e.moveTo(s-a,n-r),e.lineTo(s+a,n+r);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(f)*(i?i/2:g),n+Math.sin(f)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Xe(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Ke(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Qe(e){e.restore()}function Ze(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if("middle"===i){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else"after"===i!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function Je(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function et(e,t,s,n,i,o={}){const a=l(t)?t:[t],c=o.strokeWidth>0&&""!==o.strokeColor;let d,u;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]);r(t.rotation)||e.rotate(t.rotation);t.color&&(e.fillStyle=t.color);t.textAlign&&(e.textAlign=t.textAlign);t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),d=0;d<a.length;++d)u=a[d],o.backdrop&&st(e,o.backdrop),c&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),r(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,s,n,o.maxWidth)),e.fillText(u,s,n,o.maxWidth),tt(e,s,n,u,o),n+=i.lineHeight;e.restore()}function tt(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),a=t-o.actualBoundingBoxLeft,r=t+o.actualBoundingBoxRight,l=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,d),e.lineTo(r,d),e.stroke()}}function st(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function nt(e,t){const{x:s,y:n,w:i,h:o,radius:a}=t;e.arc(s+a.topLeft,n+a.topLeft,a.topLeft,-F,O,!0),e.lineTo(s,n+o-a.bottomLeft),e.arc(s+a.bottomLeft,n+o-a.bottomLeft,a.bottomLeft,O,F,!0),e.lineTo(s+i-a.bottomRight,n+o),e.arc(s+i-a.bottomRight,n+o-a.bottomRight,a.bottomRight,F,0,!0),e.lineTo(s+i,n+a.topRight),e.arc(s+i-a.topRight,n+a.topRight,a.topRight,0,-F,!0),e.lineTo(s+a.topLeft,n)}const it=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ot=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function at(e,t){const s=(""+e).match(it);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}function rt(e,t){const s={},n=c(t),i=n?Object.keys(t):t,o=c(e)?n?s=>h(e[s],e[t[s]]):t=>e[t]:()=>e;for(const e of i)s[e]=+o(e)||0;return s}function lt(e){return rt(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ct(e){return rt(e,["topLeft","topRight","bottomLeft","bottomRight"])}function dt(e){const t=lt(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ut(e,t){e=e||{},t=t||Ve.font;let s=h(e.size,t.size);"string"==typeof s&&(s=parseInt(s,10));let n=h(e.style,t.style);n&&!(""+n).match(ot)&&(i.warn('Invalid font style specified: "'+n+'"'),n=void 0);const o={family:h(e.family,t.family),lineHeight:at(h(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:h(e.weight,t.weight),string:""};return o.string=He(o),o}function ht(e,t,s,n){let i,o,a,r=!0;for(i=0,o=e.length;i<o;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==s&&l(a)&&(a=a[s%a.length],r=!1),void 0!==a))return n&&!r&&(n.cacheable=!1),a}function pt(e,t,s){const{min:n,max:i}=e,o=m(t,(i-n)/2),a=(e,t)=>s&&0===e?0:e+t;return{min:a(n,-Math.abs(o)),max:a(i,o)}}function mt(e,t){return Object.assign(Object.create(e),t)}function gt(e,t=[""],s=e,n,i=(()=>e[0])){P(n)||(n=It("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:i,override:i=>gt([i,...e],t,s,n)};return new Proxy(o,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,n)=>St(s,n,(()=>function(e,t,s,n){let i;for(const o of t)if(i=It(bt(o,e),s),P(i))return xt(e,i)?wt(s,n,e,i):i}(n,t,e,s))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Tt(e).includes(t),ownKeys:e=>Tt(e),set(e,t,s){const n=e._storage||(e._storage=i());return e[t]=n[t]=s,delete e._keys,!0}})}function ft(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:yt(e,n),setContext:t=>ft(e,t,s,n),override:i=>ft(e.override(i),t,s,n)};return new Proxy(i,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>St(e,t,(()=>function(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:a}=e;let r=n[t];k(r)&&a.isScriptable(t)&&(r=function(e,t,s,n){const{_proxy:i,_context:o,_subProxy:a,_stack:r}=s;if(r.has(e))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+e);r.add(e),t=t(o,a||n),r.delete(e),xt(e,t)&&(t=wt(i._scopes,i,e,t));return t}(t,r,e,s));l(r)&&r.length&&(r=function(e,t,s,n){const{_proxy:i,_context:o,_subProxy:a,_descriptors:r}=s;if(P(o.index)&&n(e))t=t[o.index%t.length];else if(c(t[0])){const s=t,n=i._scopes.filter((e=>e!==s));t=[];for(const l of s){const s=wt(n,i,e,l);t.push(ft(s,o,a&&a[e],r))}}return t}(t,r,e,a.isIndexable));xt(t,r)&&(r=ft(r,i,o&&o[t],a));return r}(e,t,s))),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,n)=>(e[s]=n,delete t[s],!0)})}function yt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:k(s)?s:()=>s,isIndexable:k(n)?n:()=>n}}const bt=(e,t)=>e?e+A(t):t,xt=(e,t)=>c(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function St(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=s();return e[t]=n,n}function _t(e,t,s){return k(e)?e(t,s):e}const vt=(e,t)=>!0===e?t:"string"==typeof e?T(t,e):void 0;function Et(e,t,s,n,i){for(const o of t){const t=vt(s,o);if(t){e.add(t);const o=_t(t._fallback,s,i);if(P(o)&&o!==s&&o!==n)return o}else if(!1===t&&P(n)&&s!==n)return null}return!1}function wt(e,t,s,n){const i=t._rootScopes,o=_t(t._fallback,s,n),a=[...e,...i],r=new Set;r.add(n);let d=Ct(r,a,s,o||s,n);return null!==d&&((!P(o)||o===s||(d=Ct(r,a,o,d,n),null!==d))&&gt(Array.from(r),[""],i,o,(()=>function(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];if(l(i)&&c(s))return s;return i||{}}(t,s,n))))}function Ct(e,t,s,n,i){for(;s;)s=Et(e,t,s,n,i);return s}function It(e,t){for(const s of t){if(!s)continue;const t=s[e];if(P(t))return t}}function Tt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function At(e,t,s,n){const{iScale:i}=e,{key:o="r"}=this._parsing,a=new Array(n);let r,l,c,d;for(r=0,l=n;r<l;++r)c=r+s,d=t[c],a[r]={r:i.parse(T(d,o),c)};return a}const Pt=Number.EPSILON||1e-14,kt=(e,t)=>t<e.length&&!e[t].skip&&e[t],jt=e=>"x"===e?"y":"x";function Rt(e,t,s,n){const i=e.skip?t:e,o=t,a=s.skip?t:s,r=J(o,i),l=J(a,o);let c=r/(r+l),d=l/(r+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:o.x-u*(a.x-i.x),y:o.y-u*(a.y-i.y)},next:{x:o.x+h*(a.x-i.x),y:o.y+h*(a.y-i.y)}}}function Ot(e,t="x"){const s=jt(t),n=e.length,i=Array(n).fill(0),o=Array(n);let a,r,l,c=kt(e,0);for(a=0;a<n;++a)if(r=l,l=c,c=kt(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[s]-l[s])/e:0}o[a]=r?c?H(i[a-1])!==H(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,s){const n=e.length;let i,o,a,r,l,c=kt(e,0);for(let d=0;d<n-1;++d)l=c,c=kt(e,d+1),l&&c&&(U(t[d],0,Pt)?s[d]=s[d+1]=0:(i=s[d]/t[d],o=s[d+1]/t[d],r=Math.pow(i,2)+Math.pow(o,2),r<=9||(a=3/Math.sqrt(r),s[d]=i*a*t[d],s[d+1]=o*a*t[d])))}(e,i,o),function(e,t,s="x"){const n=jt(s),i=e.length;let o,a,r,l=kt(e,0);for(let c=0;c<i;++c){if(a=r,r=l,l=kt(e,c+1),!r)continue;const i=r[s],d=r[n];a&&(o=(i-a[s])/3,r[`cp1${s}`]=i-o,r[`cp1${n}`]=d-o*t[c]),l&&(o=(l[s]-i)/3,r[`cp2${s}`]=i+o,r[`cp2${n}`]=d+o*t[c])}}(e,o,t)}function Mt(e,t,s){return Math.max(Math.min(e,s),t)}function Lt(e,t,s,n,i){let o,a,r,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Ot(e,i);else{let s=n?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)r=e[o],l=Rt(s,r,e[Math.min(o+1,a-(n?0:1))%a],t.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,s=r}t.capBezierPoints&&function(e,t){let s,n,i,o,a,r=Xe(e[0],t);for(s=0,n=e.length;s<n;++s)a=o,o=r,r=s<n-1&&Xe(e[s+1],t),o&&(i=e[s],a&&(i.cp1x=Mt(i.cp1x,t.left,t.right),i.cp1y=Mt(i.cp1y,t.top,t.bottom)),r&&(i.cp2x=Mt(i.cp2x,t.left,t.right),i.cp2y=Mt(i.cp2y,t.top,t.bottom)))}(e,s)}function Dt(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Nt(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ft(e,t,s){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[s])):n=e,n}const zt=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Bt(e,t){return zt(e).getPropertyValue(t)}const Vt=["top","right","bottom","left"];function Ht(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=Vt[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ut(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=zt(s),o="border-box"===i.boxSizing,a=Ht(i,"padding"),r=Ht(i,"border","width"),{x:l,y:c,box:d}=function(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let a,r,l=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(i,o,e.target))a=i,r=o;else{const e=t.getBoundingClientRect();a=n.clientX-e.left,r=n.clientY-e.top,l=!0}return{x:a,y:r,box:l}}(e,s),u=a.left+(d&&r.left),h=a.top+(d&&r.top);let{width:p,height:m}=t;return o&&(p-=a.width+r.width,m-=a.height+r.height),{x:Math.round((l-u)/p*s.width/n),y:Math.round((c-h)/m*s.height/n)}}const Wt=e=>Math.round(10*e)/10;function qt(e,t,s,n){const i=zt(e),o=Ht(i,"margin"),a=Ft(i.maxWidth,e,"clientWidth")||D,r=Ft(i.maxHeight,e,"clientHeight")||D,l=function(e,t,s){let n,i;if(void 0===t||void 0===s){const o=Nt(e);if(o){const e=o.getBoundingClientRect(),a=zt(o),r=Ht(a,"border","width"),l=Ht(a,"padding");t=e.width-l.width-r.width,s=e.height-l.height-r.height,n=Ft(a.maxWidth,o,"clientWidth"),i=Ft(a.maxHeight,o,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:n||D,maxHeight:i||D}}(e,t,s);let{width:c,height:d}=l;if("content-box"===i.boxSizing){const e=Ht(i,"border","width"),t=Ht(i,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=Wt(Math.min(c,a,l.maxWidth)),d=Wt(Math.min(d,r,l.maxHeight)),c&&!d&&(d=Wt(c/2));return(void 0!==t||void 0!==s)&&n&&l.height&&d>l.height&&(d=l.height,c=Wt(Math.floor(d*n))),{width:c,height:d}}function Gt(e,t,s){const n=t||1,i=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(s||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||a.height!==i||a.width!==o)&&(e.currentDevicePixelRatio=n,a.height=i,a.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0)}const Yt=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function $t(e,t){const s=Bt(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Xt(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Kt(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:"middle"===n?s<.5?e.y:t.y:"after"===n?s<1?e.y:t.y:s>0?t.y:e.y}}function Qt(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=Xt(e,i,s),r=Xt(i,o,s),l=Xt(o,t,s),c=Xt(a,r,s),d=Xt(r,l,s);return Xt(c,d,s)}function Zt(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Jt(e,t){let s,n;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function es(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ts(e){return"angle"===e?{between:se,compare:ee,normalize:te}:{between:oe,compare:(e,t)=>e-t,normalize:e=>e}}function ss({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s==0,style:i}}function ns(e,t,s){if(!s)return[e];const{property:n,start:i,end:o}=s,a=t.length,{compare:r,between:l,normalize:c}=ts(n),{start:d,end:u,loop:h,style:p}=function(e,t,s){const{property:n,start:i,end:o}=s,{between:a,normalize:r}=ts(n),l=t.length;let c,d,{start:u,end:h,loop:p}=e;if(p){for(u+=l,h+=l,c=0,d=l;c<d&&a(r(t[u%l][n]),i,o);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:p,style:e.style}}(e,t,s),m=[];let g,f,y,b=!1,x=null;const S=()=>b||l(i,y,g)&&0!==r(i,y),_=()=>!b||0===r(o,g)||l(o,y,g);for(let e=d,s=d;e<=u;++e)f=t[e%a],f.skip||(g=c(f[n]),g!==y&&(b=l(g,i,o),null===x&&S()&&(x=0===r(g,i)?e:s),null!==x&&_()&&(m.push(ss({start:x,end:e,loop:h,count:a,style:p})),x=null),s=e,y=g));return null!==x&&m.push(ss({start:x,end:u,loop:h,count:a,style:p})),m}function is(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const o=ns(n[i],e.points,t);o.length&&s.push(...o)}return s}function os(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const o=!!e._loop,{start:a,end:r}=function(e,t,s,n){let i=0,o=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}(s,i,o,n);if(!0===n)return as(e,[{start:a,end:r,loop:o}],s,t);return as(e,function(e,t,s,n){const i=e.length,o=[];let a,r=t,l=e[t];for(a=t+1;a<=s;++a){const s=e[a%i];s.skip||s.stop?l.skip||(n=!1,o.push({start:t%i,end:(a-1)%i,loop:n}),t=r=s.stop?a:null):(r=a,l.skip&&(t=a)),l=s}return null!==r&&o.push({start:t%i,end:r%i,loop:n}),o}(s,a,r<a?r+i:r,!!e._fullLoop&&0===a&&r===i-1),s,t)}function as(e,t,s,n){return n&&n.setContext&&s?function(e,t,s,n){const i=e._chart.getContext(),o=rs(e.options),{_datasetIndex:a,options:{spanGaps:r}}=e,l=s.length,c=[];let d=o,u=t[0].start,h=u;function p(e,t,n,i){const o=r?-1:1;if(e!==t){for(e+=l;s[e%l].skip;)e-=o;for(;s[t%l].skip;)t+=o;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:i}),d=i,u=t%l)}}for(const e of t){u=r?u:e.start;let t,o=s[u%l];for(h=u+1;h<=e.end;h++){const r=s[h%l];t=rs(n.setContext(mt(i,{type:"segment",p0:o,p1:r,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),ls(t,d)&&p(u,h-1,e.loop,d),o=r,d=t}u<h-1&&p(u,h-1,e.loop,d)}return c}(e,t,s,n):t}function rs(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ls(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}}}]);