"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[147],{"../../node_modules/@postman/aether/esmLib/src/components/CheckBoxGroup/CheckboxGroup.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),a=n("../../node_modules/prop-types/index.js"),i=n.n(a),o=n("../../node_modules/@postman/aether-design-tokens/esmLib/src/tokens.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js");function c(e){var t=e.isHidden,n=e.direction,a=e.children,i=e.padding,o=e.label,c=e.helperText,p=e["data-testid"],m=e["data-click"],h=s.Children.map(a,(function(e){return(0,s.isValidElement)(e)&&e.type===u.default?e:null}));return s.createElement("div",{"data-testid":p,"data-click":m},o?s.createElement(l.default,{type:"h6",text:o}):"",c?s.createElement(r.default,{padding:"spacing-xs spacing-zero"},s.createElement(d.default,{type:"para"},c)):"",s.createElement(r.default,{hiddenFor:t?["mobile","tablet","computer"]:[],direction:n,padding:i,gap:"column"===n?"spacing-m":"spacing-l"},h))}t.default=c,c.defaultProps={label:"",isHidden:!1,direction:"column",padding:"spacing-s spacing-zero spacing-zero",helperText:"","data-testid":"aether-checkbox-group","data-click":""},c.propTypes={isHidden:i().bool,direction:i().oneOf(["row","column"]),children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired,padding:i().oneOfType([i().oneOf(Object.keys(o.globals.spacing)),i().shape({paddingTop:i().string,paddingBottom:i().string,paddingLeft:i().string,paddingRight:i().string}),i().string]),label:i().string,helperText:i().string,"data-testid":i().string,"data-click":i().string}},"../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n("../../node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("../../node_modules/react/index.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/prop-types/index.js"),l=n.n(r),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=["heading","description","width","onSubmit","preventDefault","primaryAction","secondaryAction","children"],h=o.default.form.withConfig({displayName:"Form__StyledForm",componentId:"ak4rok-0"})(["width:",";"],(function(e){return e.width}));function g(e){var t=e.heading,n=e.description,o=e.width,r=e.onSubmit,l=e.preventDefault,g=e.primaryAction,f=e.secondaryAction,v=e.children,y=(0,a.default)(e,m);return i.createElement(h,(0,s.default)({width:o},y,{"data-aether-id":"aether-form",onSubmit:function(e){l&&e.preventDefault(),r&&r(e)}}),i.createElement(d.default,{gap:"spacing-xxl",direction:"column"},i.createElement(d.default,{gap:"spacing-xl",direction:"column"},(t||n)&&i.createElement(d.default,{gap:"spacing-xs",direction:"column"},t?i.createElement(c.default,{type:"h1",text:t,"data-testid":"aether-form-heading"}):null,n?i.createElement(p.default,{type:"lead","data-testid":"aether-form-description"},n):null),v),i.createElement(d.default,{gap:"spacing-s"},function(e){if(e&&e.type===u.default&&"primary"===(e.props&&e.props.type))return e;return null}(g),function(e){if(e&&e.type===u.default&&"secondary"===(e.props&&e.props.type))return e;return null}(f))))}g.defaultProps={heading:"",description:"",width:"100%",primaryAction:null,secondaryAction:null,preventDefault:!0,onSubmit:null,"data-testid":"aether-form","data-click":""},g.propTypes={heading:l().string,description:l().string,width:l().string,onSubmit:l().func,preventDefault:l().bool,primaryAction:function(e){var t=e.primaryAction;if(t){if(t.type!==u.default)return new Error("Form: primaryAction prop only accepts Aether button component.");if("primary"!==(t.props&&t.props.type))return new Error("Form: primaryAction prop only accepts button type primary.")}return null},secondaryAction:function(e){var t=e.secondaryAction;if(t){if(t.type!==u.default)return new Error("Form: secondaryAction prop only accepts Aether button component.");if("secondary"!==(t.props&&t.props.type))return new Error("Form: secondaryAction prop only accepts button type secondary.")}return null},children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,"data-testid":l().string,"data-click":l().string}},"./iam/src/TeamSettings/pages/ManageGroups/AddUsers.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),a=n("./node_modules/@postman/react-click-outside/dist/index.js"),i=n.n(a),o=n("./node_modules/prop-types/index.js"),r=n.n(o),l=n("./node_modules/@postman/sanitise-user-content/index.js"),d=n.n(l),u=n("./node_modules/react-contenteditable/lib/react-contenteditable.js"),c=n.n(u),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),h=n("./js/components/base/EditableTag.js"),g=n("./js/components/base/Dropdowns.js"),f=n("./js/components/base/Avatar.js"),v=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),y=n("./iam/src/common/utils/index.js"),b=n("./node_modules/lodash/lodash.js");const E=v.default.div`
  width: 100%;
  flex-flow: wrap;
  display: flex;
  align-items: center;
  border-radius: var(--border-radius-default);
  border: var(--border-width-default) var(--border-style-solid) #A6A6A6;
`,I=(0,v.default)(p.default)`
  padding-left: var(--spacing-s);
  color: var(--content-color-tertiary);
`,x=(0,v.default)(m.default)`
  margin-left: var(--spacing-s);
`,T=(0,v.default)(c())`
  width: 100%;
  font-size: var(--text-size-m);
`,j=(0,v.default)(g.DropdownMenu)`
  & > div {
    height: 48px;
  }
`,S="group",_="editing",C=[" ",";",","],A=27,k=8,w=46,R=40,L=38,O=13;class F extends s.Component{constructor(e){super(e),this.state={activeInput:{value:"",index:0,isLastNode:!0},suggestions:[],previousValue:"",containerFocused:!0,selectedTag:null},this.handleActiveInputChange=this.handleActiveInputChange.bind(this),this.handleActiveInputClick=this.handleActiveInputClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleContainerClick=this.handleContainerClick.bind(this),this.focusActiveInput=this.focusActiveInput.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.handleSuggestionSelect=this.handleSuggestionSelect.bind(this),this.handleDelimiter=this.handleDelimiter.bind(this),this.renderTagContent=this.renderTagContent.bind(this)}componentDidMount(){this.props.disableFocusInput?this.setState({containerFocused:!1}):this.focusActiveInput()}componentDidUpdate(e,t){!this.state.containerFocused||t.activeInput.index===this.state.activeInput.index&&e.tags.length===this.props.tags.length||this.focusActiveInput()}focusActiveInput(){b.invoke(this.refs,"contentEditable.htmlEl.focus")}getTagFromString(e,t,n){return t===S?{value:e,type:S,id:n}:{value:e,id:n,type:"regular"}}shouldRenderPlaceHolder(){return 1===this.props.tags.length&&0===this.state.activeInput.index&&!this.state.activeInput.value||!(this.state.activeInput.value||this.props.tags.length||this.state.containerFocused)}checkEmailExists(e=this.props.tags,t){for(let n=0;n<e.length;++n)if(e[n].value===t&&e[n].type!==_)return!0;return!1}splitInput(e){let t=[],n={},s=!1;for(let t=0;t<C.length;++t)if(e.includes(C[t])){e=e.split(C[t]),s=!0;break}return t=s?e:[e],t.filter((e=>!n.hasOwnProperty(e)&&(n[e]=!0)))}handleClickOutside(e){this.state.containerFocused&&(this.userSuggestionsRef&&this.userSuggestionsRef.dropdownPortal&&this.userSuggestionsRef.dropdownPortal.contains(e.target)||this.setState({containerFocused:!1}))}handleContainerClick(e){e&&(this.state.containerFocused||this.setState({containerFocused:!0}),this.focusActiveInput());let{activeInput:t,previousValue:n}=this.state,{tags:s}=this.props,a={tags:s,activeInput:t,previousValue:n};this.setState({activeInput:a.activeInput,previousValue:a.previousValue}),this.props.onTagsChange(a.tags)}handleRemove(e,t){t.stopPropagation();let n={tags:this.props.tags,activeInput:this.state.activeInput};n=this.removeEmail(n,e),this.setState({activeInput:n.activeInput}),this.props.onTagsChange(n.tags)}handleBackspaceAndDelete(e){if(!this.state.activeInput.value){if(this.state.selectedTag&&this.state.activeInput.index){let t={tags:this.props.tags,activeInput:this.state.activeInput};return t=this.removeEmail(t,e-1),this.setState({activeInput:t.activeInput,selectedTag:null}),this.props.getActiveInput&&this.props.getActiveInput(t.activeInput),void this.props.onTagsChange(t.tags)}this.state.activeInput.index&&this.setState({selectedTag:e})}}handleEscapeKey(e){if(!this.state.previousValue)return;let{previousValue:t}=this.state,{tags:n}=this.props,s=[...n.slice(0,e),this.getTagFromString(t),...n.slice(e+1)],a={value:"",index:s.length,isLastNode:!0};this.setState({activeInput:a,previousValue:""}),this.props.getActiveInput&&this.props.getActiveInput(a),this.props.onTagsChange(s)}saveActiveBadge(e){let{tags:t,activeInput:n,previousValue:s}=e;if(!n.value||this.checkEmailExists(t,n.value)){if(!n.isLastNode){let e=[...t.slice(0,n.index),...t.slice(n.index+1)];return s="",{tags:e,activeInput:{value:"",isLastNode:!0,index:e.length},previousValue:s}}return{...e,activeInput:{...n,value:""},previousValue:""}}let a=[...t.slice(0,n.index),this.getTagFromString(n.value,n.type,n.id),...t.slice(n.index+1)];return{tags:a,activeInput:{...n,value:"",index:a.length,isLastNode:!0},previousValue:""}}editEmail(e,t){let{tags:n,activeInput:s}=e,a=n[t].value,i={...s,value:a,index:t,isLastNode:n.length-1===s.index};return n[t].type=_,{tags:n,activeInput:i,previousValue:a}}removeEmail(e,t){let{activeInput:n,tags:s}=e;return{tags:[...s.slice(0,t),...s.slice(t+1)],activeInput:{...n,index:t<n.index?n.index-1:n.index}}}handleDelimiter(){if(!this.state.activeInput.isLastNode||this.state.activeInput.value){let{activeInput:e,previousValue:t}=this.state,{tags:n}=this.props,s={tags:n,activeInput:e,previousValue:t};s=this.saveActiveBadge(s),this.setState({activeInput:s.activeInput,previousValue:s.previousValue}),this.props.getActiveInput&&this.props.getActiveInput(s.activeInput),this.props.onTagsChange(s.tags)}}handleKeyDown(e){let t=e&&e.keyCode;if(this.userSuggestionsRef)switch(t){case R:b.invoke(this.userSuggestionsRef,"focusNext");break;case L:b.invoke(this.userSuggestionsRef,"focusPrev");break;case O:e.preventDefault(),b.invoke(this.userSuggestionsRef,"selectItem")}else t!==A?t!==k&&t!==w||this.handleBackspaceAndDelete(this.state.activeInput.index):this.handleEscapeKey(this.state.activeInput.index)}handleActiveInputChange(e){let t=e.target.value,n={...this.state.activeInput,value:t},s=t?b.filter(this.props.suggestions,(e=>{let n=e.email||"",s=e.name||"";return(0,y.filterUsersBasedOnSearch)(`${s.toLowerCase()} ${n.toLowerCase()}`,(t||"").toLowerCase().replace("&nbsp;"," "))})):null;this.setState({activeInput:n,suggestions:s,selectedTag:null}),this.props.getActiveInput&&this.props.getActiveInput(n)}handleActiveInputClick(e){e.stopPropagation(),this.setState({containerFocused:!0})}handleSuggestionSelect({email:e,name:t,type:n,id:s}){this.setState({activeInput:{...this.state.activeInput,value:e||t,isLastNode:!0,type:n,id:s}},this.handleDelimiter)}renderSuggestions(e){return e&&this.props.inviteRef&&!b.isEmpty(this.state.suggestions)&&this.state.containerFocused?s.createElement(j,{fluid:!0,wrappedRef:e=>this.userSuggestionsRef=e,targetRef:this.props.inviteRef,onSelect:this.handleSuggestionSelect},b.map(this.state.suggestions,(e=>{let t=e.email,n=b.includes(this.props.members,parseInt(e.id));return s.createElement(g.MenuItem,{key:`${e.type}-${e.id}`,refKey:e,disabled:n},s.createElement(m.default,{gap:"spacing-s",alignItems:"center",justifyContent:"space-between",width:"360px"},s.createElement(m.default,{gap:"spacing-s",shrink:1,alignItems:"center",justifyContent:"flex-start",width:n?"240px":"340px"},s.createElement(f.default,{size:"medium",userId:e.id,linkProfile:!1}),s.createElement(m.default,{direction:"column",shrink:1,width:"95%"},s.createElement(p.default,{isTruncated:!0},e.name),s.createElement(p.default,{isTruncated:!0},t))),n&&s.createElement(m.default,null,s.createElement(p.default,{color:"content-color-tertiary"},"Added to group"))))}))):null}renderContentEditable(e,t){return s.createElement(x,{key:t,grow:1},s.createElement(T,{ref:"contentEditable",className:"active-input",html:d()(e),onChange:this.handleActiveInputChange,onClick:this.handleActiveInputClick,onKeyDown:this.handleKeyDown}),!this.props.disableTeamSuggestions&&this.renderSuggestions(e))}renderTagContent(e,t){return this.props.renderTagContent({value:e,type:t})}render(){return s.createElement(E,{onClick:this.handleContainerClick},this.shouldRenderPlaceHolder()&&s.createElement(I,null,"e.g. cooper, emma@yourcompany.com"),this.props.tags.map(((e,t)=>s.createElement(h.default,{content:this.renderTagContent(e.value,e.type),isSelected:t===this.state.selectedTag-1,key:t,name:"tag",value:e.value,type:e.type,onClose:this.handleRemove.bind(this,t)}))),this.state.activeInput.isLastNode&&this.renderContentEditable(this.state.activeInput.value))}}F.propTypes={onTagsChange:r().func.isRequired,tags:r().array,renderTagContent:r().func},F.defaultProps={tags:[],tagValidator:()=>!0,renderTagContent:function(e){return s.createElement("div",null,s.createElement("div",{className:"tag-text"},e.value))}},t.default=i()(F)},"./iam/src/TeamSettings/pages/ManageGroups/AddUsersInInput.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var s,a=n("../../node_modules/react/index.js"),i=n("./js/stores/CurrentUserStore.js"),o=n("./js/utils/util.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/components/base/Avatar.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./node_modules/lodash/lodash.js"),p=n.n(c),m=n("./iam/src/TeamSettings/pages/ManageGroups/AddUsers.js"),h=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),g=n("./js/stores/StoreManager.js"),f=n("./js/stores/TeamSettingsStore.js");const v=h.default.div`
  color: var(--content-color-primary);
  min-height: var(--size-m);
  position: relative;
  display: flex;
`;let y=(0,r.observer)(s=class extends a.Component{constructor(e){super(e),this.state={tags:[]},this.getUserSuggestions=this.getUserSuggestions.bind(this),this.handleTagsChange=this.handleTagsChange.bind(this),this.renderTagContent=this.renderTagContent.bind(this)}getUserSuggestions(){let e=p().get((0,g.resolveStoreInstance)(f.default),"team_users");return p().map(e,(e=>({type:"user",email:e.email,name:e.name||e.username,id:e.id})))}handleTagsChange(e){this.setState((t=>({...t,tags:e})),(()=>{this.props.onSelectedUsersChange(e)}))}renderTagContent(e){const t=(0,g.resolveStoreInstance)(i.default),n=o.default.findUserInTeam({email:e.value},t),s=n?n.name||n.username:e.value;return a.createElement(d.default,{gap:"spacing-xs",alignItems:"center",width:"90%"},a.createElement(l.default,{size:"small",userId:p().get(n,"id",0)}),a.createElement(u.default,{title:s,isTruncated:!0},s))}render(){return a.createElement(v,{ref:"inviteRef"},a.createElement(m.default,{disableFocusInput:!0,inviteRef:this.refs.inviteRef,disableTeamSuggestions:this.props.disableTeamSuggestions,tags:this.props.selectedUsers,suggestions:this.getUserSuggestions(),onTagsChange:this.handleTagsChange,renderTagContent:this.renderTagContent,members:this.props.userGroupMembers,getActiveInput:this.props.getActiveInput||null}))}})||s},"./iam/src/TeamSettings/pages/ManageGroups/CreateUserGroup.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/ResponsiveContainer/ResponsiveContainer.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/TextArea/TextArea.js"),m=n("./node_modules/lodash/lodash.js"),h=n.n(m),g=n("./js/services/NavigationService.js"),f=n("./appsdk/components/link/Link.js"),v=n("./iam/src/common/utils/index.js"),y=n("./iam/src/TeamSettings/pages/ManageGroups/SelectRolesForUserGroup.js"),b=n("./iam/src/TeamSettings/pages/ManageGroups/AddUsersInInput.js"),E=n("./iam/src/TeamSettings/services/TeamAPIService.js"),I=n("./iam/src/common/RouteIdentifierConfig.js"),x=n("./iam/src/common/styled-components/StyledLoader.js"),T=n("./js/stores/StoreManager.js"),j=n("./js/stores/TeamSettingsStore.js"),S=n("./js/stores/CurrentUserStore.js"),_=n("../../node_modules/mobx/lib/mobx.module.js"),C=n("./iam/src/common/api/IAMservice.js");t.default=()=>{const[e,t]=(0,s.useState)(""),[n,m]=(0,s.useState)(""),[A,k]=(0,s.useState)([]),[w,R]=(0,s.useState)([]),[L,O]=(0,s.useState)(!1),{addToast:F}=(0,a.default)(),N=(0,T.resolveStoreInstance)(j.default),U=(0,T.resolveStoreInstance)(S.default),[M,D]=(0,s.useState)(!0),[G,P]=(0,s.useState)(""),[V,B]=(0,s.useState)(!1),[H,z]=(0,s.useState)(!1),[K,q]=(0,s.useState)(!1);function W(){if(e){if(h().get(e,"length")<3||h().get(e,"length")>50)return"The group name must be 3 to 50 characters long.";if((0,v.withoutTrailingAndLeadingWhiteSpace)(e).indexOf(" ")>=0)return"The group name can’t contain spaces.";if((0,v.isFirstCharacterSpecial)(e))return"The group name can’t start with a special character.";if(!(0,v.isUserGroupNameValid)((0,v.withoutTrailingAndLeadingWhiteSpace)(e)))return"The group name can only contain alphanumeric characters, underscores, hyphens, periods and apostrophes."}return null}function $(e){return e.length>140}(0,s.useEffect)((()=>{(0,_.reaction)((()=>h().get(U,"userStoreInitialised")),(e=>{e&&async function(){const e=await N.teamId;Promise.all([(0,E.fetchAllowedRoles)({teamId:N.teamId,options:{sections:!0}}),(0,E.fetchAllUsersTeamInformation)({userId:N.userId,showAllUsers:!0}),(0,C.checkPermissionForAuthenticatedUser)({checks:{canManageGroups:{permission:"MANAGE_USER_GROUPS",objectType:"team",objectId:e},canManageSuperAdminEntities:{permission:"MANAGE_SUPER_ADMIN_ENTITIES",objectType:"team",objectId:N.teamId,entityType:"user",entityId:U.id}}})]).then((e=>{const t=h().get(e[2],"body.results.canManageGroups.allowed");q(h().get(e[2],"body.results.canManageSuperAdminEntities.allowed")),t||g.default.transitionTo(I.MANAGE_USER_GROUPS_ROUTE_IDENTIFIER),z(t),N.updateTeamStore({roles_description:h().get(e[0],"body.data"),team_users:h().get(e[1],"body.organizations[0].team_users")})})).catch((()=>{F({title:"Please refresh",status:"error",description:"Could not fetch role data."})})).finally((()=>{D(!1)}))}()}),{fireImmediately:!0})}),[]),(0,s.useEffect)((()=>(J(),J.cancel)),[e]),(0,s.useEffect)((()=>(Y(),Y.cancel)),[e,n]);const Y=(0,s.useCallback)(h().debounce((function(){!(0,v.withoutTrailingAndLeadingWhiteSpace)(e)||Boolean(W())||Boolean($(n))||!X()?B(!0):B(!1)}),500),[e,n]);function X(){return N.hasAdminRole}const J=(0,s.useCallback)(h().debounce((function(){P(W())}),500),[e]);return s.createElement(i.default,{padding:"spacing-xxl spacing-zero spacing-xxxl spacing-zero"},M&&s.createElement(x.default,null),!M&&s.createElement(o.default,{justifyContent:"center"},s.createElement(o.default,{direction:"column",gap:"spacing-xl",width:"480px",margin:"auto"},s.createElement(o.default,{width:"100%"},s.createElement(f.default,{onClick:e=>{e.preventDefault(),g.default.transitionTo(I.MANAGE_USER_GROUPS_ROUTE_IDENTIFIER)}},s.createElement(r.default,{type:"body-medium"},s.createElement(r.default,{type:"link-primary"},"← Groups")))),s.createElement(l.default,{heading:"Create a group",description:"Groups make access management easier for team admins by allowing them to manage roles for multiple people. You can directly assign roles on APIs, workspaces, and collections with groups.",name:"user-group-creator-form",primaryAction:s.createElement(d.default,{isLoading:L,isDisabled:V,type:"primary",text:"Create Group",tooltip:!X()&&"Only admin users can create a group",onClick:t=>{O(!0),(0,E.createUserGroup)({teamId:N.teamId,name:e,summary:n,members:h().map(A,(e=>parseInt(e.id))),roles:w}).then((()=>{F({title:"Group created",status:"success"}),g.default.transitionTo(I.MANAGE_USER_GROUPS_ROUTE_IDENTIFIER)})).catch((e=>{F({title:"Unable to create user group",status:"error",description:h().get(e,"error.message","Something went wrong.")})})).finally((()=>{O(!1)}))}}),secondaryAction:s.createElement(d.default,{type:"secondary",text:"Cancel",onClick:e=>{t(""),m(""),k([]),R([]),g.default.transitionTo(I.MANAGE_USER_GROUPS_ROUTE_IDENTIFIER)}})},s.createElement(o.default,{direction:"column",gap:"spacing-l"},s.createElement(u.default,{value:e,onChange:e=>{t(e.target.value||"")},label:s.createElement(c.default,{text:"Name",fieldType:"required"}),validationStatus:G&&W()?"error":"",validationMessage:G,onBlur:()=>{let n=(0,v.withoutTrailingAndLeadingWhiteSpace)(e);t(n)}}),s.createElement("div",null,s.createElement(p.default,{helperText:"A short note about your group.",value:n,onChange:e=>{!$(e.target.value)&&m(e.target.value||"")},label:s.createElement(c.default,{text:"Description"}),maxLength:140})),s.createElement("div",null,s.createElement(o.default,{direction:"column",padding:{paddingBottom:"spacing-xs"}},s.createElement(c.default,{text:"Group Members",type:"primary"}),s.createElement(c.default,{text:"Enter name or email of team members you want to add to this group.",type:"secondary",size:"small"})),s.createElement(b.default,{userGroupMembers:[],selectedUsers:A,onSelectedUsersChange:function(e){k(e)}})),s.createElement(y.default,{canManageUserGroup:H,canManageSuperAdminEntities:K,unsavedRoles:w,onToggle:e=>{R(e)},rolesDescription:function(){let e=h().get(N,"roles_description",{}),t=[];return t=h().concat(t,e.Team),t=h().concat(t,e.Admin),t}()}))))))}},"./iam/src/TeamSettings/pages/ManageGroups/SelectRolesForUserGroup.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBoxGroup/CheckboxGroup.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("./node_modules/lodash/lodash.js"),l=n.n(r),d=n("./iam/constants.js");const u=["partner-manager","flow-editor"];t.default=e=>{const t=(null==e?void 0:e.rolesDescription)||[],n=(0,s.useRef)(null);l().remove(t,(e=>u.includes((null==e?void 0:e.systemName)||"")));const r=t=>t===d.SUPER_ADMIN_ROLE_IDENTIFIER?!e.canManageSuperAdminEntities:!e.canManageUserGroup;return s.createElement(s.Fragment,null,s.createElement(a.default,{label:"Roles",helperText:"Select roles you want to assign to the members of this group.",padding:{paddingTop:"spacing-m"}},t.map((t=>{var a;const o=null==t?void 0:t.systemName;return s.createElement(i.default,{key:o,isDisabled:r(o),label:null==t?void 0:t.displayName,helperText:null==t?void 0:t.description,isChecked:null==e||null===(a=e.unsavedRoles)||void 0===a?void 0:a.includes(o),ref:n,onChange:()=>{!function(t,n){let s=[...n];n.includes(t)?s=n.filter((e=>e!==t)):s.push(t),e.onToggle(s)}(o,null==e?void 0:e.unsavedRoles)}})}))),!e.canManageSuperAdminEntities&&s.createElement(o.default,{content:"You do not have permissions to assign this user role",placement:"left",triggerRef:n}))}},"./iam/src/common/styled-components/StyledLoader.js":function(e,t,n){n.r(t);var s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js");const i=(0,s.default)(a.default)`
  height: 90vh;
  display: grid;
  place-content: center;
`;t.default=i},"./js/components/base/EditableTag.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),a=n("./node_modules/prop-types/index.js"),i=n.n(a),o=n("./js/components/base/Icons/CloseIcon.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r);const d=e=>{return s.createElement("div",{"data-testid":"editable-tag",onClick:e.onClick,className:(t=e.type,n=e.isSelected,l()({"editable-tag":!0,[`editable-tag-${t}`]:!0,"is-selected":n}))},e.content,s.createElement(o.default,{className:"tag-remove-btn",onClick:e.onClose,size:"xs"}));var t,n};d.propTypes={content:i().element,onClose:i().func,onClick:i().func,value:i().string,name:i().string,type:i().oneOf(["regular","error"])},d.defaultProps={onClose:()=>{},onClick:()=>{},type:"regular",name:"tag",value:""},t.default=d},"./node_modules/react-contenteditable/lib/react-contenteditable.js":function(e,t,n){var s,a=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},s(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&(n[s[a]]=e[s[a]])}return n},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(n("../../node_modules/react/index.js")),u=l(n("./node_modules/react-contenteditable/node_modules/fast-deep-equal/index.js")),c=r(n("./node_modules/prop-types/index.js"));function p(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function m(e){if(e.nodeType===Node.TEXT_NODE)return e;for(var t=e.childNodes,n=t.length-1;n>=0;n--){var s=m(t[n]);if(null!==s)return s}return null}function h(e){var t=m(e);if(null!==t&&null!==t.nodeValue){var n=document.createRange(),s=window.getSelection();n.setStart(t,t.nodeValue.length),n.collapse(!0),s.removeAllRanges(),s.addRange(n),e instanceof HTMLElement&&e.focus()}}var g=function(e){function t(t){var n=e.call(this,t)||this;return n.htmlEl=null,n.emitChange=n.emitChange.bind(n),n.lastHtml=t.html,n}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,s=t.html,a=o(t,["tagName","html"]);return d.createElement(n||"div",i({},a,{ref:function(t){return e.htmlEl=t},onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:s}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.htmlEl;return!n||(p(e.html)!==p(n.innerHTML)||(t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||!u.default(t.style,e.style)))},t.prototype.componentDidUpdate=function(){null!==this.htmlEl&&(this.props.html!==this.htmlEl.innerHTML&&(this.htmlEl.innerHTML=this.lastHtml=this.props.html),h(this.htmlEl))},t.prototype.emitChange=function(e){if(this.htmlEl){var t=this.htmlEl.innerHTML;if(this.props.onChange&&t!==this.lastHtml){var n=Object.assign({},e,{target:{value:t}});this.props.onChange(n)}this.lastHtml=t}},t.propTypes={html:c.string.isRequired,onChange:c.func,onBlur:c.func,disabled:c.bool,tagName:c.string,className:c.string,style:c.object},t}(d.Component);t.default=g},"./node_modules/react-contenteditable/node_modules/fast-deep-equal/index.js":function(e){var t=Array.isArray,n=Object.keys,s=Object.prototype.hasOwnProperty;e.exports=function e(a,i){if(a===i)return!0;if(a&&i&&"object"==typeof a&&"object"==typeof i){var o,r,l,d=t(a),u=t(i);if(d&&u){if((r=a.length)!=i.length)return!1;for(o=r;0!=o--;)if(!e(a[o],i[o]))return!1;return!0}if(d!=u)return!1;var c=a instanceof Date,p=i instanceof Date;if(c!=p)return!1;if(c&&p)return a.getTime()==i.getTime();var m=a instanceof RegExp,h=i instanceof RegExp;if(m!=h)return!1;if(m&&h)return a.toString()==i.toString();var g=n(a);if((r=g.length)!==n(i).length)return!1;for(o=r;0!=o--;)if(!s.call(i,g[o]))return!1;for(o=r;0!=o--;)if(!e(a[l=g[o]],i[l]))return!1;return!0}return a!=a&&i!=i}}}]);